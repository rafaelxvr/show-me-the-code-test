{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\n\nvar Fields =\n/** @class */\nfunction (_super) {\n  __extends(Fields, _super);\n\n  function Fields() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('child')], Fields.prototype, \"child\", void 0);\n\n  __decorate([Property([])], Fields.prototype, \"dataSource\", void 0);\n\n  __decorate([Property('expanded')], Fields.prototype, \"expanded\", void 0);\n\n  __decorate([Property('hasChildren')], Fields.prototype, \"hasChildren\", void 0);\n\n  __decorate([Property('htmlAttributes')], Fields.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property('iconCss')], Fields.prototype, \"iconCss\", void 0);\n\n  __decorate([Property('imageUrl')], Fields.prototype, \"imageUrl\", void 0);\n\n  __decorate([Property('parentValue')], Fields.prototype, \"parentValue\", void 0);\n\n  __decorate([Property(null)], Fields.prototype, \"query\", void 0);\n\n  __decorate([Property('selected')], Fields.prototype, \"selected\", void 0);\n\n  __decorate([Property(null)], Fields.prototype, \"tableName\", void 0);\n\n  __decorate([Property('text')], Fields.prototype, \"text\", void 0);\n\n  __decorate([Property('tooltip')], Fields.prototype, \"tooltip\", void 0);\n\n  __decorate([Property('value')], Fields.prototype, \"value\", void 0);\n\n  return Fields;\n}(ChildProperty);\n\nexport { Fields };\n\nvar TreeSettings =\n/** @class */\nfunction (_super) {\n  __extends(TreeSettings, _super);\n\n  function TreeSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(false)], TreeSettings.prototype, \"autoCheck\", void 0);\n\n  __decorate([Property('Auto')], TreeSettings.prototype, \"expandOn\", void 0);\n\n  __decorate([Property(false)], TreeSettings.prototype, \"loadOnDemand\", void 0);\n\n  return TreeSettings;\n}(ChildProperty);\n\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\n\nvar DropDownTree =\n/** @class */\nfunction (_super) {\n  __extends(DropDownTree, _super);\n\n  function DropDownTree(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.filterTimer = null;\n    _this.isFilteredData = false;\n    _this.isFilterRestore = false; // eslint-disable-next-line\n\n    _this.selectedData = [];\n    _this.filterDelayTime = 300;\n    _this.isClicked = false;\n    return _this;\n  }\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string}\n   * @hidden\n   */\n\n\n  DropDownTree.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n\n  DropDownTree.prototype.getLocaleName = function () {\n    return 'drop-down-tree';\n  };\n  /**\n   * Initialize the event handler.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DropDownTree.prototype.preRender = function () {\n    this.inputFocus = false;\n    this.isPopupOpen = false;\n    this.isFirstRender = true;\n    this.isInitialized = false;\n    this.currentText = null;\n    this.currentValue = null;\n    this.oldValue = null;\n    this.removeValue = false;\n    this.selectedText = [];\n    this.treeItems = [];\n    this.dataValue = null;\n    this.isNodeSelected = false;\n    this.isDynamicChange = false;\n    this.clearIconWidth = 0;\n    this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n    this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n    this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n    this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n    this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n    this.keyConfigs = {\n      escape: 'escape',\n      altUp: 'alt+uparrow',\n      altDown: 'alt+downarrow',\n      tab: 'tab',\n      shiftTab: 'shift+tab',\n      end: 'end',\n      enter: 'enter',\n      home: 'home',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlUp: 'ctrl+uparrow',\n      ctrlEnter: 'ctrl+enter',\n      ctrlHome: 'ctrl+home',\n      ctrlEnd: 'ctrl+end',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      shiftEnter: 'shift+enter',\n      shiftHome: 'shift+home',\n      shiftEnd: 'shift+end',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      csEnter: 'ctrl+shift+enter',\n      csHome: 'ctrl+shift+home',\n      csEnd: 'ctrl+shift+end',\n      space: 'space',\n      ctrlA: 'ctrl+A'\n    };\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.render = function () {\n    var isTree = select('#' + this.element.id + '_tree', document);\n\n    if (isTree) {\n      var popupDiv = select('#' + this.element.id + '_popup', document);\n      detach(popupDiv ? popupDiv : isTree.parentElement);\n    }\n\n    this.ensureAutoCheck();\n\n    if (this.element.tagName === 'INPUT') {\n      this.inputEle = this.element;\n\n      if (isNOU(this.inputEle.getAttribute('role'))) {\n        this.inputEle.setAttribute('role', 'textbox');\n      }\n\n      if (isNOU(this.inputEle.getAttribute('type'))) {\n        this.inputEle.setAttribute('type', 'text');\n      }\n    } else {\n      this.inputEle = this.createElement('input', {\n        attrs: {\n          role: 'textbox',\n          type: 'text'\n        }\n      });\n      this.element.parentElement.insertBefore(this.inputEle, this.element);\n    }\n\n    this.inputObj = Input.createInput({\n      element: this.inputEle,\n      floatLabelType: this.floatLabelType,\n      buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n      properties: {\n        readonly: true,\n        placeholder: this.placeholder,\n        enabled: this.enabled,\n        cssClass: this.cssClass,\n        enableRtl: this.enableRtl\n      }\n    }, this.createElement);\n    this.inputWrapper = this.inputObj.container;\n\n    if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n      this.inputWrapper.classList.add(INPUTGROUP);\n    }\n\n    if (this.showDropDownIcon) {\n      this.inputWrapper.classList.add(SHOW_DD_ICON);\n    }\n\n    if (this.element.tagName === this.getDirective()) {\n      this.element.appendChild(this.inputWrapper);\n    }\n\n    this.createHiddenElement();\n    this.createClearIcon();\n    this.inputWrapper.classList.add(DROPDOWNTREE);\n    this.setElementWidth(this.width);\n    this.updateDataAttribute();\n    this.setHTMLAttributes();\n    this.setAttributes();\n    this.popupDiv = this.createElement('div', {\n      className: CONTENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.popupDiv.classList.add(DROPDOWN);\n    this.tree = this.createElement('div', {\n      id: this.element.id + '_tree'\n    });\n    this.popupDiv.appendChild(this.tree);\n    document.body.appendChild(this.popupDiv);\n    this.wireTreeEvents();\n    addClass([this.popupDiv], DDTHIDEICON);\n    this.renderTree();\n    this.isRemoteData = this.fields.dataSource instanceof DataManager;\n\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter') {\n        this.createChip();\n      }\n\n      if (!this.wrapText && this.mode !== 'Custom') {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n\n        if (this.mode !== 'Box') {\n          addClass([this.overFlowWrapper], SHOW_TEXT);\n        }\n      }\n    }\n\n    if (!this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n\n      if (!this.wrapText) {\n        this.updateView();\n      }\n    }\n\n    this.wireEvents();\n    var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n\n    if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n      firstUl.removeAttribute('aria-multiselectable');\n    }\n\n    this.oldValue = this.value;\n    this.isInitialized = true;\n    this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate || this.noRecordsTemplate || this.customTemplate;\n    this.renderComplete();\n  };\n\n  DropDownTree.prototype.ensureAutoCheck = function () {\n    if (this.allowFiltering && this.treeSettings.autoCheck) {\n      this.setProperties({\n        treeSettings: {\n          autoCheck: false\n        }\n      }, true);\n    }\n  };\n\n  DropDownTree.prototype.hideCheckAll = function (flag) {\n    var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n\n    if (!isNOU(checkAllEle)) {\n      if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n        addClass([checkAllEle], CHECKALLHIDE);\n      } else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n        removeClass([checkAllEle], CHECKALLHIDE);\n      }\n    }\n  };\n\n  DropDownTree.prototype.renderFilter = function () {\n    this.filterContainer = this.createElement('div', {\n      id: this.element.id + '_filter_wrap',\n      className: FILTERWRAP\n    });\n    var filterInput = this.createElement('input', {\n      id: this.element.id + '_filter',\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': this.filterBarPlaceholder\n      }\n    });\n    this.filterContainer.appendChild(filterInput);\n    prepend([this.filterContainer], this.popupEle);\n    this.filterObj = new TextBox({\n      value: '',\n      showClearButton: true,\n      placeholder: this.filterBarPlaceholder,\n      input: this.filterChangeHandler.bind(this)\n    });\n    this.filterObj.appendTo('#' + this.element.id + '_filter');\n  };\n\n  DropDownTree.prototype.filterChangeHandler = function (args) {\n    var _this = this;\n\n    if (!isNOU(args.value)) {\n      window.clearTimeout(this.filterTimer);\n      this.filterTimer = window.setTimeout(function () {\n        _this.filterHandler(args.value, args.event);\n      }, this.filterDelayTime);\n    }\n  };\n\n  DropDownTree.prototype.filterHandler = function (value, event) {\n    var _this = this;\n\n    if (!this.isFilteredData) {\n      this.treeData = this.treeObj.getTreeData();\n    }\n\n    var filterFields = this.cloneFields(this.fields);\n    var args = {\n      cancel: false,\n      preventDefaultAction: false,\n      event: event,\n      text: value,\n      fields: filterFields\n    };\n    this.trigger('filtering', args, function (args) {\n      if (!args.cancel) {\n        var flag = false;\n        var fields = void 0;\n        _this.isFilteredData = true;\n\n        if (value === '') {\n          _this.isFilteredData = false;\n          _this.isFilterRestore = true;\n          fields = _this.cloneFields(_this.fields);\n        } else if (args.preventDefaultAction) {\n          fields = args.fields;\n        } else {\n          if (_this.treeDataType === 1) {\n            fields = _this.selfReferencefilter(value, args.fields);\n          } else {\n            if (_this.fields.dataSource instanceof DataManager) {\n              flag = true;\n            } else {\n              fields = _this.nestedFilter(value, args.fields);\n            }\n          }\n        }\n\n        _this.hideCheckAll(_this.isFilteredData);\n\n        if (flag) {\n          return;\n        }\n\n        _this.treeObj.fields = _this.getTreeFields(fields);\n\n        _this.treeObj.dataBind();\n      }\n    });\n  };\n\n  DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n    // eslint-disable-next-line\n    var matchedDataSource = [];\n\n    for (var i = 0; i < this.treeData.length; i++) {\n      // eslint-disable-next-line\n      var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n\n      if (!isNOU(filteredChild)) {\n        matchedDataSource.push(filteredChild);\n      }\n    }\n\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.nestedChildFilter = function (value, node) {\n    // eslint-disable-next-line\n    var children = node[this.fields.child];\n\n    if (isNOU(children)) {\n      return this.isMatchedNode(value, node) ? node : null;\n    } else {\n      // eslint-disable-next-line\n      var matchedChildren = [];\n\n      for (var i = 0; i < children.length; i++) {\n        // eslint-disable-next-line\n        var filteredChild = this.nestedChildFilter(value, children[i]);\n\n        if (!isNOU(filteredChild)) {\n          matchedChildren.push(filteredChild);\n        }\n      }\n\n      var filteredItems = Object.assign({}, node);\n\n      if (matchedChildren.length !== 0) {\n        filteredItems[this.fields.child] = matchedChildren;\n        return filteredItems;\n      } else {\n        filteredItems[this.fields.child] = null;\n        return this.isMatchedNode(value, filteredItems) ? filteredItems : null;\n      }\n    }\n  };\n\n  DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n    // eslint-disable-next-line\n    var matchedData = []; // eslint-disable-next-line\n\n    var matchedDataSource = [];\n\n    for (var i = 0; i < this.treeData.length; i++) {\n      if (this.isMatchedNode(value, this.treeData[i])) {\n        matchedData.push(this.treeData[i]);\n      }\n    }\n\n    for (var i = 0; i < matchedData.length; i++) {\n      if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n        matchedDataSource.push(matchedData[i]); // eslint-disable-next-line\n\n        var parentId = matchedData[i][this.fields.parentValue];\n\n        while (!isNOU(parentId)) {\n          // eslint-disable-next-line\n          var parent_1 = null;\n\n          for (var j = 0; j < this.treeData.length; j++) {\n            // eslint-disable-next-line\n            var value_1 = this.treeData[j][this.fields.value];\n\n            if (!isNOU(value_1) && value_1 === parentId) {\n              parent_1 = this.treeData[j];\n              break;\n            }\n          }\n\n          if (!isNOU(parent_1) && matchedDataSource.indexOf(parent_1) === -1) {\n            matchedDataSource.push(parent_1);\n            parentId = parent_1[this.fields.parentValue];\n          } else {\n            break;\n          }\n        }\n      }\n    }\n\n    filteredFields.dataSource = matchedDataSource;\n    return filteredFields;\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.isMatchedNode = function (value, node) {\n    var checkValue = node[this.fields.text];\n\n    if (this.ignoreCase) {\n      checkValue = checkValue.toLowerCase();\n      value = value.toLowerCase();\n    }\n\n    if (this.ignoreAccent) {\n      checkValue = DataUtil.ignoreDiacritics(checkValue);\n      value = DataUtil.ignoreDiacritics(value);\n    }\n\n    if (this.filterType === 'StartsWith') {\n      return checkValue.slice(0, value.length) === value;\n    } else if (this.filterType === 'EndsWith') {\n      return checkValue.slice(-value.length) === value;\n    } else {\n      return checkValue.indexOf(value) !== -1;\n    }\n  };\n  /* To wire events for the dropdown tree */\n\n\n  DropDownTree.prototype.wireEvents = function () {\n    EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n    EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n    EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n    EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n    EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n    EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    var formElement = closest(this.inputWrapper, 'form');\n\n    if (formElement) {\n      EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n    }\n\n    this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  DropDownTree.prototype.wireTreeEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.tree, {\n      keyAction: this.treeAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n      keyAction: this.checkAllAction.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n  /* To unwire events for the dropdown tree */\n\n\n  DropDownTree.prototype.unWireEvents = function () {\n    EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n    EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n    EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n    EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n    EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n    EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    var formElement = closest(this.inputWrapper, 'form');\n\n    if (formElement) {\n      EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n    }\n  };\n  /* Trigger when the dropdown is clicked */\n\n\n  DropDownTree.prototype.dropDownClick = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n      return;\n    }\n\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    } else {\n      this.focusIn(e);\n      this.renderPopup();\n    }\n\n    this.showOverAllClear();\n  };\n\n  DropDownTree.prototype.mouseIn = function () {\n    if (this.enabled || !this.readonly) {\n      this.showOverAllClear();\n    }\n  };\n\n  DropDownTree.prototype.onMouseLeave = function () {\n    if (!this.inputFocus) {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n  };\n\n  DropDownTree.prototype.getDirective = function () {\n    return 'EJS-DROPDOWNTREE';\n  };\n\n  DropDownTree.prototype.focusOut = function (e) {\n    if (!this.enabled || this.readonly || !this.inputFocus) {\n      return;\n    }\n\n    if ((Browser.isIE || Browser.info.name === 'edge') && e.target === this.inputWrapper) {\n      return;\n    }\n\n    var target = e.relatedTarget;\n\n    if (target !== this.inputEle && isNOU(target) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n      this.onFocusOut(e);\n    }\n  };\n\n  DropDownTree.prototype.onFocusOut = function (event) {\n    this.inputFocus = false;\n\n    if (this.isPopupOpen) {\n      this.hidePopup();\n    }\n\n    if (this.isClearButtonClick) {\n      this.isClearButtonClick = false;\n    }\n\n    if (this.showClearButton) {\n      this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n\n    removeClass([this.inputWrapper], [INPUTFOCUS]);\n\n    if (this.allowMultiSelection || this.showCheckBox) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n\n      if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n        if (this.chipWrapper && this.mode === 'Default') {\n          addClass([this.chipWrapper], HIDEICON);\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n        }\n      }\n\n      if (!this.wrapText && isValue) {\n        this.updateView();\n      }\n    }\n\n    if (this.changeOnBlur) {\n      this.triggerChangeEvent(event);\n    }\n\n    this.removeValue = false;\n    this.oldValue = this.value;\n    this.trigger('blur');\n  };\n\n  DropDownTree.prototype.updateView = function () {\n    if (!this.showCheckBox && !this.allowMultiSelection || this.mode === 'Custom' || this.inputFocus) {\n      return;\n    }\n\n    if (this.mode !== 'Box') {\n      addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n    } else {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n\n    if (this.value && this.value.length !== 0) {\n      if (this.inputWrapper.contains(this.chipWrapper)) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n\n      addClass([this.inputEle], CHIP_INPUT);\n      this.updateOverFlowView();\n      this.ensurePlaceHolder();\n    }\n  };\n\n  DropDownTree.prototype.triggerChangeEvent = function (event) {\n    var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n\n    if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n      var eventArgs = {\n        e: event,\n        oldValue: this.oldValue,\n        value: this.value,\n        isInteracted: event ? true : false,\n        element: this.element\n      };\n      this.trigger('change', eventArgs);\n      this.oldValue = this.value;\n    }\n  };\n\n  DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n    if (oldValue === null || newValue === null) {\n      var isValid = oldValue === null ? newValue === oldValue ? true : false : oldValue.length === 0 ? newValue === oldValue : false;\n      return isValid;\n    } else if (oldValue.length !== newValue.length) {\n      return false;\n    }\n\n    for (var i = 0; i < oldValue.length; i++) {\n      if (oldValue[i] !== newValue[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  DropDownTree.prototype.focusIn = function (e) {\n    if (!this.enabled || this.readonly || this.inputFocus) {\n      return;\n    }\n\n    this.showOverAllClear();\n    this.inputFocus = true;\n    addClass([this.inputWrapper], [INPUTFOCUS]);\n\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.mode !== 'Delimiter' && this.inputFocus) {\n        if (this.chipWrapper && this.value && this.value.length !== 0) {\n          removeClass([this.chipWrapper], HIDEICON);\n          addClass([this.inputEle], CHIP_INPUT);\n        }\n\n        addClass([this.inputWrapper], SHOW_CHIP);\n\n        if (this.popupObj) {\n          this.popupObj.refreshPosition();\n        }\n      }\n\n      if (!this.wrapText && this.mode !== 'Custom') {\n        if (this.inputWrapper.contains(this.overFlowWrapper)) {\n          addClass([this.overFlowWrapper], HIDEICON);\n        }\n\n        if (this.mode === 'Delimiter') {\n          removeClass([this.inputWrapper], SHOW_CHIP);\n          removeClass([this.inputEle], CHIP_INPUT);\n        } else {\n          addClass([this.inputWrapper], SHOW_CHIP);\n        }\n\n        removeClass([this.inputWrapper], SHOW_TEXT);\n        this.ensurePlaceHolder();\n      }\n    }\n\n    var args = {\n      isInteracted: e ? true : false,\n      event: e\n    };\n    this.trigger('focus', args);\n  };\n\n  DropDownTree.prototype.treeAction = function (e) {\n    var _this = this;\n\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            _this.inputWrapper.focus();\n\n            e.preventDefault();\n\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n\n            break;\n\n          case 'tab':\n          case 'shiftTab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n\n            break;\n\n          case 'enter':\n          case 'ctrlEnter':\n          case 'shiftEnter':\n          case 'csEnter':\n            if (!_this.showCheckBox) {\n              _this.isValueChange = true;\n              _this.keyEventArgs = e;\n            }\n\n            break;\n\n          case 'space':\n            _this.isValueChange = true;\n            _this.keyEventArgs = e;\n            break;\n\n          case 'ctrlA':\n            if (_this.allowMultiSelection) {\n              _this.selectAll(true);\n            }\n\n            break;\n\n          case 'moveRight':\n          case 'moveLeft':\n          case 'shiftDown':\n          case 'moveDown':\n          case 'ctrlDown':\n          case 'csDown':\n          case 'shiftUp':\n          case 'moveUp':\n          case 'ctrlUp':\n          case 'csUp':\n          case 'home':\n          case 'shiftHome':\n          case 'ctrlHome':\n          case 'csHome':\n          case 'end':\n          case 'shiftEnd':\n          case 'ctrlEnd':\n          case 'csEnd':\n        }\n      } else {\n        e.stopImmediatePropagation();\n      }\n    });\n  };\n\n  DropDownTree.prototype.keyActionHandler = function (e) {\n    var _this = this;\n\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'escape':\n          case 'altUp':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n\n            break;\n\n          case 'shiftTab':\n          case 'tab':\n            if (_this.isPopupOpen) {\n              _this.hidePopup();\n            }\n\n            if (_this.inputFocus) {\n              _this.onFocusOut();\n            }\n\n            break;\n\n          case 'altDown':\n            if (!_this.isPopupOpen) {\n              _this.showPopup();\n\n              e.preventDefault();\n            }\n\n            break;\n\n          case 'moveDown':\n            if (_this.showSelectAll && _this.showCheckBox) {\n              _this.checkAllParent.focus();\n            }\n\n            break;\n        }\n      }\n    });\n  };\n\n  DropDownTree.prototype.checkAllAction = function (e) {\n    var _this = this;\n\n    var eventArgs = {\n      cancel: false,\n      event: e\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'space':\n            _this.clickHandler(e);\n\n            break;\n\n          case 'moveDown':\n            _this.treeObj.element.focus();\n\n        }\n      }\n    });\n  };\n\n  DropDownTree.prototype.windowResize = function () {\n    if (this.popupObj) {\n      this.popupObj.setProperties({\n        width: this.setWidth()\n      });\n      this.popupObj.refreshPosition();\n    }\n  };\n\n  DropDownTree.prototype.resetValueHandler = function (e) {\n    var formElement = closest(this.inputWrapper, 'form');\n\n    if (formElement && e.target === formElement) {\n      this.isDynamicChange = true;\n      this.setProperties({\n        value: null\n      }, true);\n      this.resetValue(true);\n      this.isDynamicChange = false;\n    }\n  };\n\n  DropDownTree.prototype.getAriaAttributes = function () {\n    var disable = this.enabled ? 'false' : 'true';\n    return {\n      'aria-disabled': disable,\n      'aria-owns': this.element.id + '_options',\n      'role': 'listbox',\n      'aria-haspopup': 'true',\n      'aria-expanded': 'false',\n      'aria-activedescendant': 'null',\n      'aria-labelledby': this.hiddenElement.id\n    };\n  };\n\n  DropDownTree.prototype.updateOverFlowView = function () {\n    this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n    removeClass([this.overFlowWrapper], HIDEICON);\n\n    if (this.value && this.value.length) {\n      var data = '';\n      var overAllContainer = void 0;\n      var temp = void 0;\n      var tempData = void 0;\n      var tempIndex = 1;\n      var wrapperleng = void 0;\n      var remaining = void 0;\n      var downIconWidth = 0;\n      this.overFlowWrapper.innerHTML = ''; // eslint-disable-next-line\n\n      var l10nLocale = {\n        overflowCountTemplate: '+${count} more..',\n        totalCountTemplate: '${count} selected'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      var remainContent = this.l10n.getConstant('overflowCountTemplate');\n      var totalContent = this.l10n.getConstant('totalCountTemplate');\n      var remainElement = this.createElement('span', {\n        className: REMAIN_WRAPPER\n      });\n      this.overFlowWrapper.appendChild(remainElement);\n      remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n      var remainSize = remainElement.offsetWidth;\n      remove(remainElement);\n\n      if (this.showDropDownIcon) {\n        downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n      }\n\n      if (!isNOU(this.value)) {\n        if (this.mode !== 'Box') {\n          for (var index = 0; !isNOU(this.value[index]); index++) {\n            data += index === 0 ? '' : this.delimiterChar + ' ';\n            temp = this.getOverflowVal(index);\n            data += temp;\n            temp = this.overFlowWrapper.innerHTML;\n            this.overFlowWrapper.innerHTML = data;\n            wrapperleng = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n\n            if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n              if (tempData !== undefined && tempData !== '') {\n                temp = tempData;\n                index = tempIndex + 1;\n              }\n\n              this.overFlowWrapper.innerHTML = temp;\n              remaining = this.value.length - index;\n              wrapperleng = this.overFlowWrapper.offsetWidth;\n\n              while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                textArr.pop();\n                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                remaining++;\n                wrapperleng = this.overFlowWrapper.offsetWidth;\n              }\n\n              break;\n            } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n              tempData = data;\n              tempIndex = index;\n            } else if (index === 0) {\n              tempData = '';\n              tempIndex = -1;\n            }\n          }\n        } else {\n          addClass([this.chipWrapper], HIDEICON);\n          var ele = this.chipWrapper.cloneNode(true);\n          var chips = selectAll('.' + CHIP, ele);\n\n          for (var i = 0; i < chips.length; i++) {\n            temp = this.overFlowWrapper.innerHTML;\n            this.overFlowWrapper.appendChild(chips[i]);\n            data = this.overFlowWrapper.innerHTML;\n            wrapperleng = this.overFlowWrapper.offsetWidth;\n            overAllContainer = this.inputWrapper.offsetWidth;\n\n            if (wrapperleng + downIconWidth + this.clearIconWidth > overAllContainer) {\n              if (tempData !== undefined && tempData !== '') {\n                temp = tempData;\n                i = tempIndex + 1;\n              }\n\n              this.overFlowWrapper.innerHTML = temp;\n              remaining = this.value.length - i;\n              wrapperleng = this.overFlowWrapper.offsetWidth;\n\n              while (wrapperleng + remainSize + downIconWidth + this.clearIconWidth >= overAllContainer && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                remaining++;\n                wrapperleng = this.overFlowWrapper.offsetWidth;\n              }\n\n              break;\n            } else if (wrapperleng + remainSize + downIconWidth + this.clearIconWidth <= overAllContainer) {\n              tempData = data;\n              tempIndex = i;\n            } else if (i === 0) {\n              tempData = '';\n              tempIndex = -1;\n            }\n          }\n        }\n      }\n\n      if (remaining > 0) {\n        this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n      }\n\n      if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n        addClass([remainElement], REMAIN_COUNT);\n      }\n    } else {\n      this.overFlowWrapper.innerHTML = '';\n      addClass([this.overFlowWrapper], HIDEICON);\n    }\n\n    this.updateDelimMode();\n  };\n\n  DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n    if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 && this.overFlowWrapper.firstChild.nodeValue === '') {\n      this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n    }\n\n    remainElement.innerHTML = '';\n    remainElement.innerText = this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box') ? remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n\n    if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n      removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n    } else {\n      addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n      removeClass([this.overFlowWrapper], REMAIN_COUNT);\n    }\n\n    return remainElement;\n  };\n\n  DropDownTree.prototype.getOverflowVal = function (index) {\n    // eslint-disable-next-line\n    var selectedData = this.getSelectedData(this.value[index]);\n    return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n  };\n\n  DropDownTree.prototype.updateDelimMode = function () {\n    if (this.mode !== 'Box') {\n      if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n        addClass([this.overFlowWrapper], REMAIN_COUNT);\n        addClass([this.overFlowWrapper], SHOW_TEXT);\n      } else {\n        this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        removeClass([this.overFlowWrapper], REMAIN_COUNT);\n      }\n    } else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n      this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n    }\n  };\n\n  DropDownTree.prototype.createHiddenElement = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'class': HIDDENELEMENT,\n          'tabindex': '-1',\n          'multiple': ''\n        }\n      });\n    } else {\n      this.hiddenElement = this.createElement('select', {\n        attrs: {\n          'aria-hidden': 'true',\n          'tabindex': '-1',\n          'class': HIDDENELEMENT\n        }\n      });\n    }\n\n    prepend([this.hiddenElement], this.inputWrapper);\n    this.validationAttribute();\n  };\n\n  DropDownTree.prototype.createClearIcon = function () {\n    this.overAllClear = this.createElement('span', {\n      className: CLOSEICON_CLASS\n    });\n    addClass([this.overAllClear], HIDEICON);\n    removeClass([this.inputWrapper], SHOW_CLEAR);\n\n    if (this.showClearButton) {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n\n  DropDownTree.prototype.validationAttribute = function () {\n    var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n    this.hiddenElement.setAttribute('name', name);\n    this.inputEle.removeAttribute('name');\n    var attributes = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes.length; i++) {\n      var attr = this.inputEle.getAttribute(attributes[i]);\n\n      if (attr) {\n        this.hiddenElement.setAttribute(attributes[i], attr);\n        this.inputEle.removeAttribute(attributes[i]);\n      }\n    }\n  };\n\n  DropDownTree.prototype.createChip = function () {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipWrapper = this.createElement('span', {\n        className: CHIP_WRAPPER\n      });\n      this.chipCollection = this.createElement('span', {\n        className: CHIP_COLLECTION\n      });\n      this.chipWrapper.appendChild(this.chipCollection);\n      this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n      addClass([this.inputWrapper], SHOW_CHIP);\n      var isValid = this.getValidMode();\n\n      if (isValid && this.value !== null && this.value && this.value.length !== 0) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else if (this.value === null || this.value && this.value.length === 0) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n    }\n  };\n\n  DropDownTree.prototype.getValidMode = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return this.mode === 'Box' ? true : this.mode === 'Default' && this.inputFocus ? true : false;\n    } else {\n      return false;\n    }\n  };\n\n  DropDownTree.prototype.createSelectAllWrapper = function () {\n    this.checkAllParent = this.createElement('div', {\n      className: CHECKALLPARENT,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    this.selectAllSpan = this.createElement('span', {\n      className: ALLTEXT\n    });\n    this.selectAllSpan.textContent = '';\n    var ele = closest(this.element, '.' + BIGGER);\n    var touchClass = isNOU(ele) ? '' : SMALL;\n    this.checkBoxElement = createCheckBox(this.createElement, true, {\n      cssClass: touchClass\n    });\n    this.checkBoxElement.setAttribute('role', 'checkbox');\n    this.checkAllParent.appendChild(this.checkBoxElement);\n    this.checkAllParent.appendChild(this.selectAllSpan);\n    this.setLocale();\n    EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n    this.wireCheckAllWrapperEvents();\n  };\n\n  DropDownTree.prototype.clickHandler = function (e) {\n    var target;\n\n    if (e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT)) {\n      target = e.currentTarget.firstElementChild.lastElementChild;\n    } else {\n      target = e.target;\n    }\n\n    this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n\n    if (!isNOU(this.checkWrapper)) {\n      this.isClicked = true;\n      var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n      this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n      this.isClicked = false;\n    }\n\n    e.preventDefault();\n  };\n\n  DropDownTree.prototype.changeState = function (wrapper, state, e) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.add(CHECK);\n      ariaState = 'true';\n\n      if (!this.isReverseUpdate) {\n        this.treeObj.checkAll();\n\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n\n      this.setLocale(true);\n    } else if (state === 'uncheck' && frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(CHECK);\n      ariaState = 'false';\n\n      if (!this.isReverseUpdate) {\n        this.treeObj.uncheckAll();\n\n        if (!this.changeOnBlur) {\n          this.triggerChangeEvent(e);\n        }\n      }\n\n      this.setLocale(false);\n    }\n\n    this.setMultiSelect();\n    this.ensurePlaceHolder();\n    ariaState = state === 'check' ? 'true' : 'false';\n\n    if (!isNOU(ariaState)) {\n      wrapper.setAttribute('aria-checked', ariaState);\n    }\n  };\n\n  DropDownTree.prototype.setLocale = function (unSelect) {\n    if (!this.selectAllSpan) {\n      return;\n    }\n\n    if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n      var template = unSelect ? this.unSelectAllText : this.selectAllText;\n      this.selectAllSpan.textContent = ''; // eslint-disable-next-line\n\n      var compiledString = compile(template);\n      var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n\n      for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n        var item = _a[_i];\n        this.selectAllSpan.textContent = item.textContent;\n      }\n    } else {\n      this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n    }\n  };\n\n  DropDownTree.prototype.setAttributes = function () {\n    this.inputEle.setAttribute('tabindex', '-1');\n    var id = this.element.getAttribute('id');\n    this.hiddenElement.id = id + '_hidden';\n    this.inputWrapper.setAttribute('tabindex', '0');\n    attributes(this.inputWrapper, this.getAriaAttributes());\n  };\n\n  DropDownTree.prototype.setHTMLAttributes = function () {\n    if (Object.keys(this.htmlAttributes).length) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var htmlAttr = _a[_i];\n\n        if (htmlAttr === 'class') {\n          this.inputWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n        } else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n          this.setProperties({\n            enabled: false\n          }, true);\n          this.setEnable();\n        } else if (htmlAttr === 'readonly' && !isNOU(this.htmlAttributes[htmlAttr])) {\n          this.setProperties({\n            readonly: true\n          }, true);\n          this.dataBind();\n        } else if (htmlAttr === 'style') {\n          this.inputWrapper.setAttribute('style', this.htmlAttributes[htmlAttr]);\n        } else {\n          var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder', 'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n          var validateAttr = ['name', 'required'];\n\n          if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n            this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n          } else if (defaultAttr.indexOf(htmlAttr) > -1) {\n            if (htmlAttr === 'placeholder') {\n              Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputEle);\n            } else {\n              this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n            }\n          } else {\n            this.inputWrapper.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n          }\n        }\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateDataAttribute = function () {\n    var value = this.htmlAttributes;\n    var invalidAttr = ['class', 'style', 'id', 'type'];\n    var attr = {};\n\n    for (var a = 0; a < this.element.attributes.length; a++) {\n      if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 && !(this.element.attributes[a].name === 'readonly')) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    }\n\n    extend(attr, value, attr);\n    this.setProperties({\n      htmlAttributes: attr\n    }, true);\n  };\n\n  DropDownTree.prototype.showOverAllClear = function () {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    if (this.overAllClear) {\n      var isValue = this.value ? this.value.length ? true : false : false;\n\n      if (isValue && this.showClearButton) {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      } else {\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    }\n  };\n\n  DropDownTree.prototype.setTreeValue = function () {\n    if (this.value !== null && this.value.length !== 0) {\n      // eslint-disable-next-line\n      var data = void 0;\n\n      if (this.showCheckBox || this.allowMultiSelection) {\n        for (var i = 0; i < this.value.length; i++) {\n          data = this.treeObj.getTreeData(this.value[i])[0];\n\n          if (isNOU(data)) {\n            this.value.splice(this.value.indexOf(this.value[i]), 1);\n          }\n        }\n\n        if (this.value.length !== 0) {\n          this.setValidValue();\n        }\n      } else {\n        data = this.treeObj.getTreeData(this.value[0])[0];\n\n        if (!isNOU(data)) {\n          this.setProperties({\n            text: data[this.fields.text]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            value: this.currentValue\n          }, true);\n        }\n      }\n    }\n  };\n\n  DropDownTree.prototype.setTreeText = function () {\n    if (this.value !== null && !this.isInitialized) {\n      return;\n    }\n\n    if (this.text !== null) {\n      // eslint-disable-next-line\n      var data = void 0;\n      var valArr = [];\n\n      if (this.showCheckBox || this.allowMultiSelection) {\n        var textArr = this.text.split(this.delimiterChar);\n\n        for (var i = 0; i < textArr.length; i++) {\n          data = this.getItems(textArr[i]);\n\n          if (!isNOU(data)) {\n            valArr.push(data[this.fields.value].toString());\n          }\n        }\n\n        if (valArr.length !== 0) {\n          this.oldValue = this.value;\n          this.setProperties({\n            value: valArr\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      } else {\n        data = this.getItems(this.text);\n\n        if (!isNOU(data)) {\n          this.oldValue = this.value;\n          this.setProperties({\n            value: [data[this.fields.value].toString()]\n          }, true);\n          this.setValidValue();\n        } else {\n          this.setProperties({\n            text: this.currentText\n          }, true);\n        }\n      }\n    }\n  };\n\n  DropDownTree.prototype.setSelectedValue = function () {\n    if (this.value != null) {\n      return;\n    }\n\n    if (!this.isInitialized) {\n      this.oldValue = this.value;\n\n      if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n        this.setProperties({\n          value: this.treeObj.selectedNodes\n        }, true);\n\n        if (this.allowMultiSelection) {\n          this.updateMode();\n        }\n      } else if (this.showCheckBox && this.treeObj.checkedNodes) {\n        if (this.treeObj.checkedNodes.length > 0) {\n          this.setProperties({\n            value: this.treeObj.checkedNodes\n          }, true);\n          setValue('selectedNodes', [], this.treeObj);\n          this.treeObj.dataBind();\n          this.updateMode();\n        }\n      }\n\n      this.updateSelectedValues();\n      this.currentText = this.text;\n      this.currentValue = this.value;\n    }\n  };\n\n  DropDownTree.prototype.setValidValue = function () {\n    var _this = this;\n\n    if (!this.showCheckBox && !this.allowMultiSelection) {\n      Input.setValue(this.text, this.inputEle, this.floatLabelType);\n      var id = this.value[0].toString();\n\n      if (this.treeObj.selectedNodes[0] !== id) {\n        setValue('selectedNodes', [id], this.treeObj);\n      }\n    } else {\n      if (this.showCheckBox) {\n        var difference = this.value.filter(function (e) {\n          return _this.treeObj.checkedNodes.indexOf(e) === -1;\n        });\n\n        if (difference.length > 0 || this.treeSettings.autoCheck) {\n          this.treeObj.checkedNodes = this.value.slice();\n          this.treeObj.dataBind();\n          this.setMultiSelect();\n        }\n      } else {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.selectedText = [];\n        this.updateSelectedValues();\n      }\n\n      this.treeObj.dataBind();\n    }\n\n    this.currentText = this.text;\n    this.currentValue = this.value;\n\n    if (this.isInitialized) {\n      this.triggerChangeEvent();\n    }\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.getItems = function (givenText) {\n    // eslint-disable-next-line\n    var data;\n\n    if (this.treeDataType === 1) {\n      for (var i = 0; i < this.treeItems.length; i++) {\n        // eslint-disable-next-line\n        var text = getValue(this.fields.text, this.treeItems[i]);\n\n        if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n          data = this.treeItems[i];\n          break;\n        }\n      }\n    } else {\n      data = this.getNestedItems(this.treeItems, this.fields, givenText);\n    }\n\n    return data;\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n    // eslint-disable-next-line\n    var newData;\n\n    for (var i = 0, objlen = data.length; i < objlen; i++) {\n      // eslint-disable-next-line\n      var dataId = getValue(this.fields.text, data[i]);\n\n      if (data[i] && dataId && dataId.toString() === givenText) {\n        return data[i];\n      } else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n        // eslint-disable-next-line\n        var childData = getValue(field.child, data[i]); // eslint-disable-next-line\n\n        newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n\n        if (newData !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n        var child = 'child'; // eslint-disable-next-line\n\n        newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n\n        if (newData !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return newData;\n  };\n\n  DropDownTree.prototype.getChildType = function (mapper) {\n    return typeof mapper.child === 'string' || isNOU(mapper.child) ? mapper : mapper.child;\n  };\n  /* To render the treeview */\n\n\n  DropDownTree.prototype.renderTree = function () {\n    this.treeObj = new TreeView({\n      fields: this.getTreeFields(this.fields),\n      enableRtl: this.enableRtl,\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeChecked: this.onNodeChecked.bind(this),\n      nodeChecking: this.beforeCheck.bind(this),\n      actionFailure: this.onActionFailure.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      dataBound: this.OnDataBound.bind(this),\n      allowMultiSelection: this.allowMultiSelection,\n      showCheckBox: this.showCheckBox,\n      autoCheck: this.treeSettings.autoCheck,\n      sortOrder: this.sortOrder,\n      expandOn: this.treeSettings.expandOn,\n      loadOnDemand: this.treeSettings.loadOnDemand,\n      nodeSelecting: this.onBeforeSelect.bind(this),\n      nodeTemplate: this.itemTemplate\n    });\n    this.treeObj.root = this.root ? this.root : this;\n    this.treeObj.appendTo('#' + this.tree.id);\n  };\n  /* To render the popup element */\n\n\n  DropDownTree.prototype.renderPopup = function () {\n    var _this = this;\n\n    if (this.isFilteredData) {\n      this.filterObj.value = '';\n      this.treeObj.fields = this.getTreeFields(this.fields);\n      this.isFilterRestore = true;\n      this.isFilteredData = false;\n      this.hideCheckAll(false);\n    }\n\n    var isCancelled = false;\n    var args = {\n      cancel: false\n    };\n    this.trigger('beforeOpen', args, function (args) {\n      if (!args.cancel) {\n        addClass([_this.inputWrapper], [ICONANIMATION]);\n\n        if (_this.isFirstRender) {\n          _this.popupEle = _this.createElement('div', {\n            id: _this.element.id + '_popup',\n            className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n          });\n          document.body.appendChild(_this.popupEle);\n\n          _this.createPopup(_this.popupEle);\n        } else {\n          _this.popupEle = _this.popupObj.element;\n        }\n      } else {\n        isCancelled = true;\n      }\n\n      if (_this.isFirstRender && !isCancelled) {\n        prepend([_this.popupDiv], _this.popupEle);\n        removeClass([_this.popupDiv], DDTHIDEICON);\n\n        if (_this.allowFiltering) {\n          _this.renderFilter();\n        }\n\n        if (_this.showCheckBox && _this.showSelectAll && !_this.popupDiv.classList.contains(NODATA)) {\n          _this.createSelectAllWrapper();\n\n          _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n        }\n\n        if (_this.headerTemplate) {\n          _this.setHeaderTemplate();\n        }\n\n        if (_this.footerTemplate) {\n          _this.setFooterTemplate();\n        }\n\n        _this.isFirstRender = false;\n        /* eslint-disable */\n\n        if (_this.hasTemplate && _this.portals) {\n          _this.portals = _this.portals.concat(_this.treeObj.portals);\n          /* eslint-enable */\n\n          _this.renderReactTemplates();\n        }\n      }\n\n      if (!isCancelled) {\n        attributes(_this.inputWrapper, {\n          'aria-expanded': 'true'\n        });\n\n        _this.popupObj.show(null, _this.zIndex === 1000 ? _this.inputEle : null);\n\n        removeClass([_this.popupEle], DDTHIDEICON);\n\n        _this.updatePopupHeight();\n\n        _this.popupObj.refreshPosition();\n\n        if (!(_this.showCheckBox && _this.showSelectAll) && !_this.popupDiv.classList.contains(NODATA) && _this.treeItems.length > 0) {\n          _this.treeObj.element.focus();\n        }\n\n        if (_this.checkSelectAll && _this.checkBoxElement) {\n          var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n\n          _this.changeState(wrap, 'check');\n\n          _this.checkSelectAll = false;\n        }\n\n        if (_this.allowFiltering) {\n          removeClass([_this.inputWrapper], [INPUTFOCUS]);\n\n          _this.filterObj.element.focus();\n        }\n\n        var eventArgs = {\n          popup: _this.popupObj\n        };\n\n        _this.trigger('open', eventArgs);\n      }\n    });\n  };\n\n  DropDownTree.prototype.updatePopupHeight = function () {\n    if (this.isFirstRender) {\n      return;\n    }\n\n    var popupHeight = this.getHeight();\n    this.popupEle.style.maxHeight = popupHeight;\n\n    if (this.allowFiltering) {\n      var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n\n    if (this.headerTemplate) {\n      var height = Math.round(this.header.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n\n    if (this.showCheckBox && this.showSelectAll) {\n      var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n\n    if (this.footerTemplate) {\n      var height = Math.round(this.footer.getBoundingClientRect().height);\n      popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n    }\n\n    var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n    border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n    popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n    this.popupDiv.style.maxHeight = popupHeight;\n  };\n\n  DropDownTree.prototype.createPopup = function (element) {\n    var _this = this;\n\n    if (this.isFirstRender) {\n      this.popupObj = new Popup(element, {\n        width: this.setWidth(),\n        targetType: 'relative',\n        collision: {\n          X: 'flip',\n          Y: 'flip'\n        },\n        relateTo: this.inputWrapper,\n        zIndex: this.zIndex,\n        enableRtl: this.enableRtl,\n        position: {\n          X: 'left',\n          Y: 'bottom'\n        },\n        close: function () {\n          _this.isPopupOpen = false;\n        },\n        open: function () {\n          EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n          _this.isPopupOpen = true;\n        },\n        targetExitViewport: function () {\n          if (!Browser.isDevice) {\n            _this.hidePopup();\n          }\n        }\n      });\n    }\n  };\n  /* To calculate the width when change via set model */\n\n\n  DropDownTree.prototype.setElementWidth = function (inputWidth) {\n    var ddElement = this.inputWrapper;\n\n    if (!isNOU(inputWidth)) {\n      if (typeof inputWidth === 'number') {\n        ddElement.style.width = formatUnit(inputWidth);\n      } else if (typeof inputWidth === 'string') {\n        ddElement.style.width = inputWidth.match(/px|%|em/) ? inputWidth : formatUnit(inputWidth);\n      }\n    }\n  };\n  /* To calculate the width of the popup */\n\n\n  DropDownTree.prototype.setWidth = function () {\n    var width = formatUnit(this.popupWidth);\n\n    if (width.indexOf('%') > -1) {\n      width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n    } else if (typeof this.popupWidth === 'string') {\n      width = this.popupWidth.match(/px|em/) ? this.popupWidth : width;\n    }\n\n    return width;\n  };\n  /* To calculate the height of the popup */\n\n\n  DropDownTree.prototype.getHeight = function () {\n    var height = formatUnit(this.popupHeight);\n\n    if (height.indexOf('%') > -1) {\n      // Will set the height of the popup according to the view port height\n      height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n    } else if (typeof this.popupHeight === 'string') {\n      height = this.popupHeight.match(/px|em/) ? this.popupHeight : height;\n    }\n\n    return height;\n  };\n\n  DropDownTree.prototype.onDocumentClick = function (e) {\n    var target = e.target;\n    var isTree = closest(target, '.' + PARENTITEM);\n    var isFilter = closest(target, '.' + FILTERWRAP);\n    var isHeader = closest(target, '.' + HEADER);\n    var isFooter = closest(target, '.' + FOOTER);\n    var isScroller = target.classList.contains(DROPDOWN) ? true : matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview');\n\n    if (this.isPopupOpen && (this.inputWrapper.contains(target) || isTree || isFilter || isScroller || isHeader || isFooter) || (this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) || this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT) || target.classList.contains(CHECKBOXFRAME)))) {\n      this.isDocumentClick = false;\n      e.preventDefault();\n    } else if (!this.inputWrapper.contains(target) && this.inputFocus) {\n      this.focusOut(e);\n    }\n  };\n\n  DropDownTree.prototype.onActionFailure = function (e) {\n    this.trigger('actionFailure', e);\n    this.l10nUpdate(true);\n    addClass([this.popupDiv], NODATA);\n  };\n\n  DropDownTree.prototype.OnDataBound = function (args) {\n    this.treeItems = args.data;\n\n    if (this.treeItems.length <= 0) {\n      this.l10nUpdate();\n      addClass([this.popupDiv], NODATA);\n      this.hideCheckAll(true);\n    } else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n      removeClass([this.popupDiv], NODATA);\n      this.hideCheckAll(false);\n    }\n\n    this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n\n    if (this.isFirstRender && this.isRemoteData) {\n      this.setTreeValue();\n      this.setTreeText();\n      this.updateHiddenValue();\n      this.setSelectedValue();\n\n      if (!this.wrapText) {\n        this.updateView();\n      }\n\n      this.treeObj.element.focus();\n    }\n\n    var eventArgs = {\n      data: args.data\n    };\n    this.trigger('dataBound', eventArgs);\n\n    if (this.isFilteredData) {\n      this.treeObj.expandAll();\n    }\n\n    if (this.isFilterRestore) {\n      this.restoreFilterSelection();\n      this.isFilterRestore = false;\n    }\n  };\n\n  DropDownTree.prototype.restoreFilterSelection = function () {\n    if (this.showCheckBox) {\n      this.treeObj.checkedNodes = this.value ? this.value : [];\n    } else {\n      this.treeObj.selectedNodes = this.value ? this.value : [];\n    }\n  };\n  /* To set cssclass for the dropdowntree */\n\n\n  DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n    var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n\n    if (!isNOU(oldClass) && oldClass !== '') {\n      removeClass(elements, oldClass.split(' '));\n    }\n\n    if (!isNOU(newClass) && newClass !== '') {\n      addClass(elements, newClass.split(' '));\n    }\n  };\n\n  DropDownTree.prototype.setEnableRTL = function (state) {\n    if (state) {\n      this.inputWrapper.classList.add(RTL);\n    } else {\n      this.inputWrapper.classList.remove(RTL);\n    }\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = state;\n      this.popupObj.dataBind();\n    }\n\n    if (this.treeObj) {\n      this.treeObj.enableRtl = state;\n      this.treeObj.dataBind();\n    }\n  };\n  /* To set enable property */\n\n\n  DropDownTree.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputEle);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper], DISABLED);\n      this.inputEle.setAttribute('aria-disabled', 'false');\n      this.inputWrapper.setAttribute('aria-disabled', 'false');\n    } else {\n      if (this.isPopupOpen) {\n        this.hidePopup();\n      }\n\n      addClass([this.inputWrapper], DISABLED);\n\n      if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n      }\n\n      this.inputEle.setAttribute('aria-disabled', 'true');\n      this.inputWrapper.setAttribute('aria-disabled', 'true');\n    }\n  };\n\n  DropDownTree.prototype.cloneFields = function (fields) {\n    var clonedField = {\n      dataSource: fields.dataSource,\n      value: fields.value,\n      text: fields.text,\n      parentValue: fields.parentValue,\n      child: this.cloneChildField(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selected: fields.selected,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return clonedField;\n  };\n\n  DropDownTree.prototype.cloneChildField = function (fields) {\n    if (typeof fields === 'string') {\n      return fields;\n    } else {\n      var clonedField = {\n        dataSource: fields.dataSource,\n        value: fields.value,\n        text: fields.text,\n        parentValue: fields.parentValue,\n        child: fields.child ? this.cloneChildField(fields.child) : null,\n        hasChildren: fields.hasChildren,\n        expanded: fields.expanded,\n        iconCss: fields.iconCss,\n        imageUrl: fields.imageUrl,\n        htmlAttributes: fields.htmlAttributes,\n        query: fields.query,\n        selected: fields.selected,\n        tableName: fields.tableName,\n        tooltip: fields.tooltip\n      };\n      return clonedField;\n    }\n  };\n\n  DropDownTree.prototype.getTreeFields = function (fields) {\n    var treeFields = {\n      dataSource: fields.dataSource,\n      id: fields.value,\n      text: fields.text,\n      parentID: fields.parentValue,\n      child: this.getTreeChildren(fields.child),\n      hasChildren: fields.hasChildren,\n      expanded: fields.expanded,\n      iconCss: fields.iconCss,\n      imageUrl: fields.imageUrl,\n      isChecked: fields.selected,\n      htmlAttributes: fields.htmlAttributes,\n      query: fields.query,\n      selected: fields.selected,\n      tableName: fields.tableName,\n      tooltip: fields.tooltip\n    };\n    return treeFields;\n  };\n\n  DropDownTree.prototype.getTreeChildren = function (mapper) {\n    if (typeof mapper === 'string') {\n      return mapper;\n    } else if (!isNOU(mapper)) {\n      mapper = this.getActualProperties(mapper);\n      var childFields = mapper;\n\n      if (mapper.value) {\n        childFields.id = mapper.value;\n      }\n\n      if (mapper.parentValue) {\n        childFields.parentID = mapper.parentValue;\n      }\n\n      if (mapper.child) {\n        childFields.child = this.getTreeChildren(mapper.child);\n      }\n\n      if (mapper.selected && this.showCheckBox) {\n        childFields.isChecked = mapper.selected;\n      }\n\n      return childFields;\n    }\n\n    return null;\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.getTreeDataType = function (ds, field) {\n    if (this.fields.dataSource instanceof DataManager) {\n      for (var i = 0; i < ds.length; i++) {\n        if (typeof field.child === 'string' && isNOU(getValue(field.child, ds[i]))) {\n          return 1;\n        }\n      }\n\n      return 2;\n    }\n\n    this.fields.dataSource = isNOU(this.fields.dataSource) ? [] : this.fields.dataSource;\n\n    for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n      if (typeof field.child === 'string' && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n        return 2;\n      }\n\n      if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n        return 1;\n      }\n    }\n\n    return 1;\n  };\n  /* Triggers when the tree fields is changed dynamically */\n\n\n  DropDownTree.prototype.setFields = function () {\n    this.resetValue();\n\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n\n    this.treeObj.fields = this.getTreeFields(this.fields);\n    this.treeObj.dataBind();\n  };\n\n  DropDownTree.prototype.getEventArgs = function (args) {\n    // eslint-disable-next-line\n    var checkData = args.data; // eslint-disable-next-line\n\n    var selectData = args.nodeData;\n    var state;\n\n    if (this.showCheckBox) {\n      if (args.action === 'check') {\n        state = 'select';\n      } else if (args.action === 'uncheck') {\n        state = 'un-select';\n      }\n    }\n\n    var eventArgs = {\n      action: this.showCheckBox ? state : args.action,\n      isInteracted: this.isClicked ? true : args.isInteracted,\n      item: args.node,\n      itemData: this.showCheckBox ? checkData[0] : selectData\n    };\n    return eventArgs;\n  };\n\n  DropDownTree.prototype.onBeforeSelect = function (args) {\n    if (args.isInteracted) {\n      this.oldValue = this.value ? this.value.slice() : this.value;\n\n      if (this.value === null) {\n        this.setProperties({\n          value: []\n        }, true);\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateHiddenValue = function () {\n    if (this.allowMultiSelection || this.showCheckBox) {\n      return;\n    }\n\n    if (this.value && this.value.length) {\n      this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n    } else {\n      this.hiddenElement.innerHTML = '';\n    }\n  };\n  /* Triggers when the tree node is selected */\n\n\n  DropDownTree.prototype.onNodeSelected = function (args) {\n    if (this.showCheckBox) {\n      return;\n    }\n\n    var selectedText;\n\n    if (args.isInteracted) {\n      var id = getValue('id', args.nodeData).toString();\n\n      if (!this.allowMultiSelection) {\n        this.hiddenElement.innerHTML = '';\n        this.setProperties({\n          value: [id]\n        }, true);\n\n        if (this.itemTemplate) {\n          selectedText = getValue('text', this.treeObj.getNode(id));\n        } else {\n          selectedText = getValue('text', args.nodeData).toString();\n        }\n\n        Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n        this.setProperties({\n          text: selectedText\n        }, true);\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        attributes(this.inputWrapper, {\n          'aria-describedby': this.element.id\n        });\n        attributes(this.inputWrapper, {\n          'aria-activedescendant': id.toString()\n        });\n        this.updateHiddenValue();\n        this.showOverAllClear();\n        this.hidePopup();\n        this.isNodeSelected = true;\n      } else if (this.allowMultiSelection) {\n        this.setMultiSelect();\n      }\n    }\n\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n\n    if (this.isValueChange && !this.changeOnBlur) {\n      this.triggerChangeEvent(this.keyEventArgs);\n      this.isValueChange = false;\n    }\n  };\n\n  DropDownTree.prototype.onNodeClicked = function (args) {\n    if (!this.changeOnBlur && this.isNodeSelected) {\n      this.triggerChangeEvent(args.event);\n      this.isNodeSelected = false;\n    }\n\n    var target = args.event.target;\n\n    if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n      this.isClicked = true; // eslint-disable-next-line\n\n      var getNodeDetails = this.treeObj.getNode(args.node);\n\n      if (getNodeDetails.isChecked === 'true') {\n        this.treeObj.uncheckAll([args.node]);\n      } else {\n        this.treeObj.checkAll([args.node]);\n      }\n\n      this.isClicked = false;\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n\n    if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n      this.triggerChangeEvent(args.event);\n    }\n  };\n\n  DropDownTree.prototype.onNodeChecked = function (args) {\n    var eventArgs = this.getEventArgs(args);\n    this.trigger('select', eventArgs);\n\n    if (this.isFilteredData && args.action === 'uncheck') {\n      var id = getValue('id', args.data[0]).toString();\n      this.removeSelectedData(id, true);\n    }\n\n    if (!this.isChipDelete && args.isInteracted) {\n      this.setMultiSelect();\n      this.ensurePlaceHolder();\n    }\n\n    if (this.showSelectAll && this.checkBoxElement) {\n      var nodes = this.treeObj.element.querySelectorAll('li');\n      var checkedNodes = this.treeObj.element.querySelectorAll('li .e-checkbox-wrapper[aria-checked=true]');\n      var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n\n      if (wrap && args.action === 'uncheck') {\n        this.isReverseUpdate = true;\n        this.changeState(wrap, 'uncheck');\n        this.isReverseUpdate = false;\n      } else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length) {\n        this.isReverseUpdate = true;\n        this.changeState(wrap, 'check');\n        this.isReverseUpdate = false;\n      }\n    }\n  };\n\n  DropDownTree.prototype.beforeCheck = function (args) {\n    if (args.isInteracted) {\n      this.oldValue = this.value ? this.value.slice() : this.value;\n    }\n  };\n\n  DropDownTree.prototype.updateClearButton = function (state) {\n    if (state) {\n      if (!this.inputWrapper.contains(this.overAllClear)) {\n        this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n      } else {\n        removeClass([this.overAllClear], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CLEAR);\n      }\n    } else {\n      addClass([this.overAllClear], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_CLEAR);\n    }\n\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n\n      for (var i = 0; i < chipClose.length; i++) {\n        if (!state) {\n          addClass([chipClose[i]], HIDEICON);\n        } else {\n          removeClass([chipClose[i]], HIDEICON);\n        }\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateDropDownIconState = function (state) {\n    var spinIcon = select('.' + DDTICON, this.inputWrapper);\n\n    if (state) {\n      if (!spinIcon) {\n        Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n      } else {\n        removeClass([spinIcon], HIDEICON);\n      }\n\n      addClass([this.inputWrapper], SHOW_DD_ICON);\n    } else {\n      addClass([spinIcon], HIDEICON);\n      removeClass([this.inputWrapper], SHOW_DD_ICON);\n    }\n  };\n\n  DropDownTree.prototype.updateMode = function () {\n    if (this.mode === 'Custom') {\n      return;\n    }\n\n    if (this.mode !== 'Delimiter') {\n      if (!this.inputWrapper.contains(this.chipWrapper)) {\n        this.createChip();\n      }\n\n      var isValid = this.getValidMode();\n\n      if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n        removeClass([this.chipWrapper], HIDEICON);\n        addClass([this.inputWrapper], SHOW_CHIP);\n      } else if (!isValid) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n\n      var isValue = this.value !== null ? this.value.length !== 0 ? true : false : false;\n\n      if (isValid && isValue) {\n        addClass([this.inputEle], CHIP_INPUT);\n      } else {\n        removeClass([this.inputEle], CHIP_INPUT);\n      }\n    } else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n      removeClass([this.inputEle], CHIP_INPUT);\n\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n    }\n  };\n\n  DropDownTree.prototype.ensurePlaceHolder = function () {\n    if (this.value && this.value.length === 0) {\n      removeClass([this.inputEle], CHIP_INPUT);\n\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n      }\n    }\n  };\n\n  DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n    if (floatLabelType !== 'Never') {\n      this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n    }\n  };\n\n  DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n    if (!this.isFilteredData) {\n      this.setProperties({\n        value: newValues\n      }, true);\n\n      if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n        this.treeObj.selectedNodes = this.value.slice();\n        this.treeObj.dataBind();\n      }\n    } else {\n      var selectedValues = isNOU(this.value) ? [] : this.value;\n\n      for (var i = 0; i < newValues.length; i++) {\n        if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n          selectedValues.push(newValues[i]);\n        }\n      }\n\n      this.setProperties({\n        value: selectedValues\n      }, true);\n    }\n  };\n\n  DropDownTree.prototype.setMultiSelect = function () {\n    if (this.showCheckBox && !this.isDynamicChange) {\n      this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n    } else {\n      var ddtValue = this.allowMultiSelection ? this.showCheckBox ? this.treeObj.checkedNodes : this.treeObj.selectedNodes : this.value ? this.showCheckBox ? this.value : [this.value[0]] : null;\n      this.setMultiSelectValue(ddtValue);\n\n      if (this.showCheckBox && this.value !== null) {\n        this.treeObj.checkedNodes = this.value;\n        this.treeObj.dataBind();\n      }\n    }\n\n    this.selectedText = [];\n    var checkSelection = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n\n    if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n      removeClass([this.inputEle], CHIP_INPUT);\n      detach(this.chipWrapper);\n    }\n\n    var isValid = this.getValidMode();\n\n    if (isValid && this.value !== null) {\n      addClass([this.inputEle], CHIP_INPUT);\n\n      if (this.chipWrapper) {\n        removeClass([this.chipWrapper], HIDEICON);\n      }\n    }\n\n    var isValue = this.value ? this.value.length ? true : false : false;\n\n    if (this.chipWrapper && this.mode === 'Box' && !isValue) {\n      addClass([this.chipWrapper], HIDEICON);\n      removeClass([this.inputEle], CHIP_INPUT);\n    }\n\n    this.updateSelectedValues();\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.getSelectedData = function (value) {\n    // eslint-disable-next-line\n    var data = null;\n\n    if (this.isFilteredData) {\n      for (var i = 0; i < this.selectedData.length; i++) {\n        if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n          data = this.selectedData[i];\n          break;\n        }\n      }\n    }\n\n    if (isNOU(data)) {\n      if (this.treeSettings.loadOnDemand) {\n        data = this.getNodeData(value);\n      } else {\n        data = this.treeObj.getNode(value);\n      }\n\n      if (!isNOU(data)) {\n        this.selectedData.push(data);\n      }\n    }\n\n    return data;\n  };\n\n  DropDownTree.prototype.getNodeData = function (id) {\n    var childItems;\n\n    if (isNOU(id)) {\n      return childItems;\n    } else if (this.treeDataType === 1) {\n      for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n        var dataId = getValue(this.fields.value, this.treeItems[i]);\n\n        if (!isNOU(this.treeItems[i]) && !isNOU(dataId) && dataId.toString() === id) {\n          return this.treeItems[i];\n        }\n      }\n    } else {\n      return this.getChildNodeData(this.treeItems, this.fields, id);\n    }\n\n    return childItems;\n  };\n\n  DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n    var newChildItems;\n\n    if (isNOU(obj)) {\n      return newChildItems;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var dataValue = getValue(mapper.value, obj[i]);\n\n      if (obj[i] && dataValue && dataValue.toString() === id) {\n        return obj[i];\n      } else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n        var childNodeData = getValue(mapper.child, obj[i]);\n        newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n\n        if (newChildItems !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n        var child = 'child';\n        newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n\n        if (newChildItems !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return newChildItems;\n  };\n\n  DropDownTree.prototype.getChildMapperFields = function (mapper) {\n    return typeof mapper.child === 'string' || isNOU(mapper.child) ? mapper : mapper.child;\n  };\n\n  DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n    var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n    selectedValues.splice(selectedValues.indexOf(value), 1);\n    this.setProperties({\n      value: selectedValues\n    }, muteOnChange);\n\n    for (var i = 0; i < this.selectedData.length; i++) {\n      if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n        this.selectedData.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateSelectedValues = function () {\n    this.dataValue = '';\n    var temp;\n    var text;\n    var textValue = ''; // eslint-disable-next-line\n\n    var selectedData;\n    this.hiddenElement.innerHTML = '';\n    var hiddenInputValue = '';\n\n    if ((!this.isChipDelete || this.treeSettings.autoCheck) && this.inputWrapper.contains(this.chipWrapper)) {\n      this.chipCollection.innerHTML = '';\n    }\n\n    if (!this.isFilteredData) {\n      this.selectedData = [];\n    }\n\n    if (!isNOU(this.value)) {\n      for (var i = 0, len = this.value.length; i < len; i++) {\n        selectedData = this.getSelectedData(this.value[i]);\n        text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n        this.selectedText.push(text);\n        temp = this.selectedText[this.selectedText.length - 1];\n\n        if (this.selectedText.length > 1) {\n          this.dataValue += this.delimiterChar + ' ' + temp;\n          textValue += ',' + temp;\n        } else {\n          this.dataValue += temp;\n          textValue += temp;\n        }\n\n        if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) && (this.allowMultiSelection || this.showCheckBox)) {\n          this.setChipValues(temp, this.value[i]);\n        }\n\n        hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' + this.selectedText[this.selectedText.length - 1] + '</option>';\n      }\n\n      if (this.selectedText.length >= 1) {\n        this.setProperties({\n          text: textValue\n        }, true);\n      }\n\n      this.hiddenElement.innerHTML = hiddenInputValue;\n\n      if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n        this.setTagValues();\n      }\n    }\n\n    var isValid = this.getValidMode();\n\n    if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n      if (this.chipWrapper) {\n        addClass([this.chipWrapper], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CHIP);\n      }\n    }\n\n    Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n\n    if (textValue === '') {\n      this.setProperties({\n        text: null\n      }, true);\n    } else {\n      this.setProperties({\n        text: textValue\n      }, true);\n    }\n\n    if (this.showClearButton && this.inputFocus) {\n      this.showOverAllClear();\n    }\n\n    if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n\n    this.currentText = this.text;\n    this.currentValue = this.value;\n  };\n\n  DropDownTree.prototype.setChipValues = function (text, value) {\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n\n    var chip = this.createElement('span', {\n      className: CHIP,\n      attrs: {\n        'data-value': value\n      }\n    });\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var chipClose = this.createElement('span', {\n      className: CHIP_CLOSE + ' ' + ICONS\n    });\n    chipContent.innerHTML = text;\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n\n    if (this.showClearButton) {\n      chip.appendChild(chipClose);\n      EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n    }\n  };\n\n  DropDownTree.prototype.setTagValues = function () {\n    if (this.value === null || this.text == null) {\n      return;\n    }\n\n    if (!this.inputWrapper.contains(this.chipWrapper)) {\n      this.createChip();\n    }\n\n    if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n      addClass([this.inputWrapper], SHOW_CHIP);\n    }\n\n    var chip = this.createElement('span', {\n      className: CHIP\n    });\n\n    if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n      addClass([this.inputEle], CHIP_INPUT);\n    }\n\n    if (this.chipWrapper.classList.contains(HIDEICON)) {\n      removeClass([this.chipWrapper], HIDEICON);\n    }\n\n    var chipContent = this.createElement('span', {\n      className: CHIP_CONTENT\n    });\n    var template = this.customTemplate;\n    var templateId = this.customTemplateId;\n    var templatestring = 'customTemplate';\n    var compiledString = this.templateComplier(template);\n    var tempArr = compiledString({\n      'value': this.value,\n      'text': this.text\n    }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, chipContent);\n    }\n\n    chip.appendChild(chipContent);\n    this.chipCollection.appendChild(chip);\n  };\n\n  DropDownTree.prototype.setSelectAllWrapper = function (state) {\n    if (this.isFirstRender) {\n      return;\n    }\n\n    if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n      this.createSelectAllWrapper();\n      this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n    } else if (this.popupEle.contains(this.checkAllParent)) {\n      detach(this.checkAllParent);\n      this.checkAllParent = null;\n    }\n  };\n\n  DropDownTree.prototype.setHeaderTemplate = function () {\n    if (this.header) {\n      this.header.innerHTML = '';\n    } else {\n      this.header = this.createElement('div');\n      addClass([this.header], HEADER);\n    } // eslint-disable-next-line\n\n\n    var compiledString = this.templateComplier(this.headerTemplate);\n    var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.header);\n    }\n\n    this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n  }; // eslint-disable-next-line\n\n\n  DropDownTree.prototype.templateComplier = function (template) {\n    if (template) {\n      // eslint-disable-next-line\n      var e = void 0;\n\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (e) {\n        return compile(template);\n      }\n    }\n\n    return compile(template);\n  };\n\n  DropDownTree.prototype.setFooterTemplate = function () {\n    if (this.footer) {\n      this.footer.innerHTML = '';\n    } else {\n      this.footer = this.createElement('div');\n      addClass([this.footer], FOOTER);\n    } // eslint-disable-next-line\n\n\n    var compiledString = this.templateComplier(this.footerTemplate);\n    var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, this.footer);\n    }\n\n    append([this.footer], this.popupEle);\n  };\n\n  DropDownTree.prototype.clearAll = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    this.resetValue();\n    this.showOverAllClear();\n\n    if (this.allowMultiSelection || this.showCheckBox) {\n      if (this.popupObj) {\n        this.popupObj.refreshPosition();\n      }\n\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n    }\n\n    if (e) {\n      this.isClearButtonClick = true;\n    }\n\n    if (!this.changeOnBlur) {\n      this.triggerChangeEvent(e);\n    }\n  };\n\n  DropDownTree.prototype.removeChip = function (e) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    var element = e.target.parentElement;\n    var value = element.getAttribute('data-value');\n\n    if (this.chipCollection) {\n      if (element) {\n        remove(element);\n      }\n    }\n\n    this.isChipDelete = true;\n    this.isClearButtonClick = true;\n    this.removeSelectedData(value, true);\n    this.selectedText = [];\n\n    if (this.allowMultiSelection) {\n      this.treeObj.selectedNodes = this.value.slice();\n      this.updateSelectedValues();\n    }\n\n    if (this.showCheckBox) {\n      this.treeObj.uncheckAll([value]);\n      this.clearCheckAll();\n      this.setMultiSelect();\n    }\n\n    this.triggerChangeEvent(e);\n    this.isChipDelete = false;\n    this.ensurePlaceHolder();\n  };\n\n  DropDownTree.prototype.resetValue = function (isDynamicChange) {\n    if (this.value == [] && this.text == null) {\n      return;\n    }\n\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n\n    if (!isDynamicChange) {\n      this.oldValue = this.value;\n      this.setProperties({\n        value: []\n      }, true);\n    }\n\n    this.dataValue = null;\n    this.setProperties({\n      text: null\n    }, true);\n    this.selectedData = [];\n    setValue('selectedNodes', [], this.treeObj);\n    this.hiddenElement.innerHTML = '';\n\n    if (this.showCheckBox) {\n      this.treeObj.checkedNodes = [];\n      this.treeObj.dataBind();\n      this.setMultiSelect();\n      this.clearCheckAll();\n    }\n\n    if (this.oldValue === null && !isDynamicChange) {\n      this.removeValue = true;\n    } else if (isDynamicChange) {\n      this.triggerChangeEvent();\n    }\n\n    if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n      this.chipCollection.innerHTML = '';\n\n      if (!this.wrapText) {\n        this.updateOverflowWrapper(true);\n      }\n\n      this.ensurePlaceHolder();\n    }\n  };\n\n  DropDownTree.prototype.clearCheckAll = function () {\n    if (this.showSelectAll && this.value && this.value.length === 0) {\n      this.setLocale(false);\n    }\n  };\n\n  DropDownTree.prototype.selectAllItems = function (state) {\n    if (this.showCheckBox) {\n      if (state) {\n        this.treeObj.checkAll();\n      } else {\n        this.treeObj.uncheckAll();\n      }\n\n      this.checkSelectAll = true;\n    } else if (this.allowMultiSelection) {\n      if (!state) {\n        this.treeObj.selectedNodes = [];\n      } else {\n        var li = selectAll('li', this.treeObj.element);\n        var id = void 0;\n        var arr = [];\n\n        for (var i = 0; i < li.length; i++) {\n          id = li[i].getAttribute('data-uid').toString();\n          arr.push(id);\n        }\n\n        this.treeObj.selectedNodes = arr;\n      }\n    }\n\n    this.updateMode();\n    this.setMultiSelect();\n\n    if (!this.wrapText) {\n      if (state) {\n        this.updateView();\n      } else {\n        this.updateOverflowWrapper(true);\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateTreeSettings = function (prop) {\n    var value = Object.keys(prop.treeSettings)[0];\n\n    if (value === 'autoCheck') {\n      this.ensureAutoCheck();\n      this.treeObj.autoCheck = this.treeSettings.autoCheck;\n    } else if (value === 'loadOnDemand') {\n      this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n    } else if (value === 'expandOn') {\n      this.treeObj.expandOn = this.treeSettings.expandOn;\n      this.treeObj.dataBind();\n      return;\n    }\n\n    this.treeObj.dataBind();\n    this.setMultiSelect();\n    this.updateValue(this.value);\n  };\n\n  DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n    if (this.hasTemplate) {\n      this.updateTemplate();\n    }\n\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n\n    this.treeObj.showCheckBox = checkBox;\n    this.treeObj.dataBind();\n    this.isDynamicChange = true;\n    this.setSelectAllWrapper(this.showSelectAll);\n\n    if (this.showSelectAll) {\n      this.setLocale();\n    }\n\n    if (this.showCheckBox) {\n      this.updateMode();\n    }\n\n    this.setMultiSelect();\n    this.isDynamicChange = false;\n  };\n\n  DropDownTree.prototype.updateTemplate = function () {\n    if (this.popupObj) {\n      this.clearTemplate();\n      /* eslint-disable */\n\n      this.portals = [];\n      /* eslint-enable */\n\n      this.popupObj.destroy();\n\n      if (this.isPopupOpen) {\n        this.hidePopup();\n        this.isFirstRender = true;\n        this.renderPopup();\n      } else {\n        this.isFirstRender = true;\n      }\n    }\n  };\n\n  DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n    if (this.noRecord) {\n      this.noRecord.innerHTML = '';\n    } else {\n      this.noRecord = this.createElement('div');\n      addClass([this.noRecord], NODATACONTAINER);\n      prepend([this.noRecord], this.popupDiv);\n    }\n\n    if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n      var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n      var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n      var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate'; // eslint-disable-next-line\n\n      var compiledString = this.templateComplier(template);\n      var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n\n      if (tempArr) {\n        tempArr = Array.prototype.slice.call(tempArr);\n        append(tempArr, this.noRecord);\n      }\n    } else {\n      // eslint-disable-next-line\n      var l10nLocale = {\n        noRecordsTemplate: 'No Records Found',\n        actionFailureTemplate: 'The Request Failed'\n      };\n      this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n      this.noRecord.innerHTML = actionFailure ? this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n    }\n  };\n\n  DropDownTree.prototype.updateRecordTemplate = function (action) {\n    if (this.treeItems && this.treeItems.length <= 0) {\n      this.l10nUpdate(action);\n\n      if (this.hasTemplate) {\n        this.updateTemplate();\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateOverflowWrapper = function (state) {\n    if (!state) {\n      if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n        this.overFlowWrapper = this.createElement('span', {\n          className: OVERFLOW_VIEW + ' ' + HIDEICON\n        });\n        this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n      }\n    } else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n      this.overFlowWrapper.innerHTML = '';\n    }\n  };\n\n  DropDownTree.prototype.updateMultiSelection = function (state) {\n    if (!this.wrapText) {\n      this.updateOverflowWrapper(false);\n    }\n\n    this.treeObj.allowMultiSelection = state;\n    this.treeObj.dataBind();\n    this.updateOption();\n\n    if (this.allowMultiSelection) {\n      this.updateMode();\n    }\n\n    this.setMultiSelect();\n  };\n\n  DropDownTree.prototype.updateAllowFiltering = function (state) {\n    if (!this.isFirstRender) {\n      if (state) {\n        this.renderFilter();\n      } else {\n        this.destroyFilter();\n      }\n    }\n\n    this.ensureAutoCheck();\n  };\n\n  DropDownTree.prototype.updateFilterPlaceHolder = function () {\n    if (this.filterObj) {\n      this.filterObj.placeholder = this.filterBarPlaceholder;\n      this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n    }\n  };\n\n  DropDownTree.prototype.updateValue = function (value) {\n    this.isDynamicChange = true;\n\n    if (isNOU(value) || value.length === 0) {\n      this.resetValue(true);\n    } else {\n      this.setTreeValue();\n\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n\n    this.updateHiddenValue();\n    this.isDynamicChange = false;\n  };\n\n  DropDownTree.prototype.updateText = function (text) {\n    if (isNOU(text)) {\n      this.resetValue();\n    } else {\n      this.setTreeText();\n\n      if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n        this.updateOverflowWrapper(false);\n        this.updateView();\n      }\n    }\n\n    this.updateHiddenValue();\n  };\n\n  DropDownTree.prototype.updateModelMode = function () {\n    var validMode = this.allowMultiSelection ? true : this.showCheckBox ? true : false;\n\n    if (!validMode) {\n      return;\n    }\n\n    if (!this.wrapText) {\n      var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n\n      if (overFlow) {\n        overFlow.innerHTML = '';\n      }\n    }\n\n    this.updateMode();\n    this.setMultiSelect();\n\n    if (!this.wrapText && this.value && this.value.length !== 0) {\n      this.updateOverFlowView();\n      addClass([this.inputEle], CHIP_INPUT);\n\n      if (this.mode === 'Box') {\n        removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      } else {\n        addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n      }\n    }\n  };\n\n  DropDownTree.prototype.updateOption = function () {\n    if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n      this.hiddenElement.setAttribute('multiple', '');\n    } else if (this.hiddenElement.hasAttribute('multiple') && !this.allowMultiSelection && !this.showCheckBox) {\n      this.hiddenElement.removeAttribute('multiple');\n    }\n  };\n  /**\n   * Dynamically change the value of properties.\n   *\n   * @param {DropDownTreeModel} newProp - specifies the newProp value.\n   * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n   * @returns {void}\n   * @private\n   */\n\n\n  DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          this.setElementWidth(newProp.width);\n\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputEle);\n          break;\n\n        case 'cssClass':\n          this.setCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL(this.enableRtl);\n          break;\n\n        case 'fields':\n          this.setFields();\n          break;\n\n        case 'readonly':\n          Input.setReadonly(newProp.readonly, this.inputEle);\n          break;\n\n        case 'enabled':\n          this.setEnable();\n          break;\n\n        case 'floatLabelType':\n          Input.removeFloating(this.inputObj);\n          Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n          this.ensureClearIconPosition(newProp.floatLabelType);\n          break;\n\n        case 'showClearButton':\n          this.updateClearButton(newProp.showClearButton);\n          break;\n\n        case 'allowFiltering':\n          this.updateAllowFiltering(newProp.allowFiltering);\n          break;\n\n        case 'filterBarPlaceholder':\n          this.updateFilterPlaceHolder();\n          break;\n\n        case 'value':\n          this.oldValue = oldProp.value;\n          this.updateValue(newProp.value);\n          break;\n\n        case 'text':\n          this.updateText(newProp.text);\n          break;\n\n        case 'allowMultiSelection':\n          this.updateMultiSelection(newProp.allowMultiSelection);\n          break;\n\n        case 'mode':\n          if (!this.showCheckBox && !this.allowMultiSelection) {\n            return;\n          }\n\n          if (this.mode === 'Custom') {\n            if (this.overFlowWrapper) {\n              detach(this.overFlowWrapper);\n            }\n\n            if (this.chipWrapper) {\n              detach(this.chipWrapper);\n            }\n\n            this.setTagValues();\n          } else {\n            if (oldProp.mode === 'Custom') {\n              this.updateOverflowWrapper(this.wrapText);\n            }\n\n            this.updateModelMode();\n          }\n\n          break;\n\n        case 'delimiterChar':\n          if (this.mode === 'Box') {\n            return;\n          }\n\n          if (this.showCheckBox || this.allowMultiSelection) {\n            this.setMultiSelect();\n          }\n\n          break;\n\n        case 'selectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale();\n          }\n\n          break;\n\n        case 'unSelectAllText':\n          if (this.showCheckBox && this.showSelectAll) {\n            this.setLocale(false);\n          }\n\n          break;\n\n        case 'showSelectAll':\n          if (this.showCheckBox) {\n            this.setSelectAllWrapper(newProp.showSelectAll);\n            this.updatePopupHeight();\n          }\n\n          break;\n\n        case 'showCheckBox':\n          this.updateCheckBoxState(newProp.showCheckBox);\n\n          if (!this.wrapText) {\n            this.updateOverflowWrapper(true);\n          }\n\n          this.updatePopupHeight();\n          this.updateOption();\n          break;\n\n        case 'treeSettings':\n          this.updateTreeSettings(newProp);\n          break;\n\n        case 'customTemplate':\n          if (this.mode !== \"Custom\") {\n            return;\n          }\n\n          this.chipCollection.innerHTML = \"\";\n          this.setTagValues();\n          break;\n\n        case 'sortOrder':\n          if (this.hasTemplate) {\n            this.updateTemplate();\n          }\n\n          this.treeObj.sortOrder = newProp.sortOrder;\n          this.treeObj.dataBind();\n          this.updateValue(this.value);\n          break;\n\n        case 'showDropDownIcon':\n          this.updateDropDownIconState(newProp.showDropDownIcon);\n          break;\n\n        case 'popupWidth':\n          if (this.popupObj) {\n            this.popupObj.element.style.width = this.setWidth();\n          }\n\n          break;\n\n        case 'popupHeight':\n          if (this.popupObj) {\n            this.updatePopupHeight();\n          }\n\n          break;\n\n        case 'zIndex':\n          if (this.popupObj) {\n            this.popupObj.zIndex = newProp.zIndex;\n            this.popupObj.dataBind();\n          }\n\n          break;\n\n        case 'headerTemplate':\n          this.updateTemplate();\n          break;\n\n        case 'footerTemplate':\n          this.updateTemplate();\n          break;\n\n        case 'itemTemplate':\n          this.updateTemplate();\n          this.treeObj.nodeTemplate = newProp.itemTemplate;\n          this.treeObj.dataBind();\n          break;\n\n        case 'noRecordsTemplate':\n          this.updateRecordTemplate();\n          break;\n\n        case 'actionFailureTemplate':\n          this.updateRecordTemplate(true);\n          break;\n\n        case 'htmlAttributes':\n          this.setHTMLAttributes();\n          break;\n\n        case 'wrapText':\n          this.updateOverflowWrapper(this.wrapText);\n\n          if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n            this.updateView();\n          } else {\n            addClass([this.overFlowWrapper], HIDEICON);\n\n            if (this.chipWrapper && this.mode === 'Box') {\n              removeClass([this.chipWrapper], HIDEICON);\n            } else {\n              removeClass([this.inputWrapper], SHOW_CHIP);\n              removeClass([this.inputEle], CHIP_INPUT);\n            }\n\n            this.ensurePlaceHolder();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * Allows you to clear the selected values from the Dropdown Tree component.\n   *\n   * @method clear\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.clear = function () {\n    this.clearAll();\n\n    if (this.inputFocus) {\n      this.onFocusOut();\n    } else {\n      if (this.changeOnBlur) {\n        this.triggerChangeEvent();\n      }\n\n      this.removeValue = false;\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n   *\n   * @method destroy\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.destroy = function () {\n    this.clearTemplate();\n    this.unWireEvents();\n    this.setCssClass(null, this.cssClass);\n    this.setProperties({\n      value: []\n    }, true);\n    this.setProperties({\n      text: null\n    }, true);\n    this.treeObj.destroy();\n    this.destroyFilter();\n\n    if (this.popupObj) {\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n\n    if (this.element.tagName !== this.getDirective()) {\n      this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n    }\n\n    Input.setValue(null, this.inputEle, this.floatLabelType);\n    detach(this.inputWrapper);\n    detach(this.popupDiv);\n    this.element.classList.remove('e-input');\n\n    if (this.showCheckBox || this.allowMultiSelection) {\n      this.element.classList.remove(CHIP_INPUT);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n\n  DropDownTree.prototype.destroyFilter = function () {\n    if (this.filterObj) {\n      this.filterObj.destroy();\n      detach(this.filterObj.element);\n      detach(this.filterContainer);\n      this.filterObj = null;\n    }\n  };\n  /**\n   * Ensures visibility of the Dropdown Tree item by using item value or item element.\n   * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n   * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.ensureVisible = function (item) {\n    this.treeObj.ensureVisible(item);\n  };\n  /**\n   * To get the updated data source of the Dropdown Tree.\n   *\n   * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n   * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n   */\n  // eslint-disable-next-line\n\n\n  DropDownTree.prototype.getData = function (item) {\n    return this.treeObj.getTreeData(item);\n  };\n  /**\n   * Close the Dropdown tree pop-up.\n   *\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.hidePopup = function () {\n    var eventArgs = {\n      popup: this.popupObj\n    };\n    this.inputWrapper.classList.remove(ICONANIMATION);\n\n    if (this.popupEle) {\n      addClass([this.popupEle], DDTHIDEICON);\n    }\n\n    attributes(this.inputWrapper, {\n      'aria-expanded': 'false'\n    });\n\n    if (this.popupObj && this.isPopupOpen) {\n      this.popupObj.hide();\n\n      if (this.inputFocus) {\n        this.inputWrapper.focus();\n\n        if (this.allowFiltering) {\n          addClass([this.inputWrapper], [INPUTFOCUS]);\n        }\n      }\n\n      this.trigger('close', eventArgs);\n    }\n  };\n  /**\n   * Based on the state parameter, entire list item will be selected or deselected.\n   *\n   * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n   * @returns {void}\n   *\n   */\n\n\n  DropDownTree.prototype.selectAll = function (state) {\n    this.selectAllItems(state);\n  };\n  /**\n   * Opens the popup that displays the Dropdown Tree items.\n   *\n   * @returns {void}\n   */\n\n\n  DropDownTree.prototype.showPopup = function () {\n    if (!this.enabled || this.readonly || this.isPopupOpen) {\n      return;\n    }\n\n    this.renderPopup();\n    this.focusIn();\n  };\n  /**\n   * Return the module name.\n   *\n   * @private\n   * @returns {string} - returns the module name.\n   */\n\n\n  DropDownTree.prototype.getModuleName = function () {\n    return 'dropdowntree';\n  };\n\n  __decorate([Property('The Request Failed')], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"allowFiltering\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n\n  __decorate([Property(true)], DropDownTree.prototype, \"changeOnBlur\", void 0);\n\n  __decorate([Property('')], DropDownTree.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(\"${value.length} item(s) selected\")], DropDownTree.prototype, \"customTemplate\", void 0);\n\n  __decorate([Property(',')], DropDownTree.prototype, \"delimiterChar\", void 0);\n\n  __decorate([Property(true)], DropDownTree.prototype, \"enabled\", void 0);\n\n  __decorate([Complex({}, Fields)], DropDownTree.prototype, \"fields\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n\n  __decorate([Property('StartsWith')], DropDownTree.prototype, \"filterType\", void 0);\n\n  __decorate([Property('Never')], DropDownTree.prototype, \"floatLabelType\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"footerTemplate\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"ignoreAccent\", void 0);\n\n  __decorate([Property(true)], DropDownTree.prototype, \"ignoreCase\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"headerTemplate\", void 0);\n\n  __decorate([Property({})], DropDownTree.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property('Default')], DropDownTree.prototype, \"mode\", void 0);\n\n  __decorate([Property('No Records Found')], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"placeholder\", void 0);\n\n  __decorate([Property('300px')], DropDownTree.prototype, \"popupHeight\", void 0);\n\n  __decorate([Property('100%')], DropDownTree.prototype, \"popupWidth\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"readonly\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"showSelectAll\", void 0);\n\n  __decorate([Property('Select All')], DropDownTree.prototype, \"selectAllText\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"showCheckBox\", void 0);\n\n  __decorate([Property(true)], DropDownTree.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(true)], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n\n  __decorate([Property('None')], DropDownTree.prototype, \"sortOrder\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"text\", void 0);\n\n  __decorate([Complex({}, TreeSettings)], DropDownTree.prototype, \"treeSettings\", void 0);\n\n  __decorate([Property('Unselect All')], DropDownTree.prototype, \"unSelectAllText\", void 0);\n\n  __decorate([Property(null)], DropDownTree.prototype, \"value\", void 0);\n\n  __decorate([Property('100%')], DropDownTree.prototype, \"width\", void 0);\n\n  __decorate([Property(1000)], DropDownTree.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], DropDownTree.prototype, \"wrapText\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"actionFailure\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"beforeOpen\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"change\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"close\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"blur\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"created\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"dataBound\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"filtering\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"focus\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"keyPress\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"open\", void 0);\n\n  __decorate([Event()], DropDownTree.prototype, \"select\", void 0);\n\n  DropDownTree = __decorate([NotifyPropertyChanges], DropDownTree);\n  return DropDownTree;\n}(Component);\n\nexport { DropDownTree };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Input","TextBox","createCheckBox","NotifyPropertyChanges","Property","Event","Component","EventHandler","attributes","formatUnit","ChildProperty","remove","L10n","extend","addClass","removeClass","detach","prepend","Complex","closest","setValue","getValue","compile","append","select","selectAll","isNullOrUndefined","isNOU","matches","Browser","KeyboardEvents","DataManager","DataUtil","Popup","TreeView","RTL","DROPDOWNTREE","HIDDENELEMENT","DROPDOWNICON","SHOW_CHIP","SHOW_CLEAR","SHOW_DD_ICON","CHIP_INPUT","INPUTFOCUS","INPUTGROUP","ICONANIMATION","CLOSEICON_CLASS","CHIP_WRAPPER","CHIP_COLLECTION","CHIP","CHIP_CONTENT","CHIP_CLOSE","HIDEICON","DDTHIDEICON","POPUP_CLASS","PARENTITEM","CONTENT","DROPDOWN","DISABLED","ICONS","CHECKALLPARENT","CHECKALLHIDE","BIGGER","SMALL","ALLTEXT","CHECKBOXFRAME","CHECK","CHECKBOXWRAP","FILTERWRAP","DDTICON","FOOTER","HEADER","NODATACONTAINER","NODATA","HEADERTEMPLATE","FOOTERTEMPLATE","NORECORDSTEMPLATE","ACTIONFAILURETEMPLATE","CUSTOMTEMPLATE","REMAIN_WRAPPER","OVERFLOW_VIEW","SHOW_TEXT","TOTAL_COUNT_WRAPPER","REMAIN_COUNT","Fields","_super","apply","TreeSettings","DropDownTree","options","element","_this","call","filterTimer","isFilteredData","isFilterRestore","selectedData","filterDelayTime","isClicked","getPersistData","keyEntity","addOnPersist","getLocaleName","preRender","inputFocus","isPopupOpen","isFirstRender","isInitialized","currentText","currentValue","oldValue","removeValue","selectedText","treeItems","dataValue","isNodeSelected","isDynamicChange","clearIconWidth","headerTemplateId","id","footerTemplateId","actionFailureTemplateId","noRecordsTemplateId","customTemplateId","keyConfigs","escape","altUp","altDown","tab","shiftTab","end","enter","home","moveDown","moveLeft","moveRight","moveUp","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","space","ctrlA","render","isTree","document","popupDiv","parentElement","ensureAutoCheck","tagName","inputEle","getAttribute","setAttribute","createElement","attrs","role","type","insertBefore","inputObj","createInput","floatLabelType","buttons","showDropDownIcon","properties","readonly","placeholder","enabled","cssClass","enableRtl","inputWrapper","container","classList","contains","add","getDirective","appendChild","createHiddenElement","createClearIcon","setElementWidth","width","updateDataAttribute","setHTMLAttributes","setAttributes","className","tree","body","wireTreeEvents","renderTree","isRemoteData","fields","dataSource","allowMultiSelection","showCheckBox","mode","createChip","wrapText","overFlowWrapper","hiddenElement","setTreeValue","setTreeText","updateHiddenValue","setSelectedValue","updateView","wireEvents","firstUl","treeObj","removeAttribute","value","hasTemplate","itemTemplate","headerTemplate","footerTemplate","actionFailureTemplate","noRecordsTemplate","customTemplate","renderComplete","allowFiltering","treeSettings","autoCheck","setProperties","hideCheckAll","flag","checkAllEle","popupEle","querySelector","renderFilter","filterContainer","filterInput","autocomplete","filterBarPlaceholder","filterObj","showClearButton","input","filterChangeHandler","bind","appendTo","args","window","clearTimeout","setTimeout","filterHandler","event","treeData","getTreeData","filterFields","cloneFields","cancel","preventDefaultAction","text","trigger","treeDataType","selfReferencefilter","nestedFilter","getTreeFields","dataBind","filteredFields","matchedDataSource","filteredChild","nestedChildFilter","push","node","children","child","isMatchedNode","matchedChildren","filteredItems","assign","matchedData","indexOf","parentId","parentValue","parent_1","j","value_1","checkValue","ignoreCase","toLowerCase","ignoreAccent","ignoreDiacritics","filterType","slice","dropDownClick","focusIn","focusOut","mouseIn","onMouseLeave","overAllClear","clearAll","windowResize","formElement","resetValueHandler","keyboardModule","keyAction","keyActionHandler","eventName","treeAction","wireCheckAllWrapperEvents","checkAllParent","checkAllAction","unWireEvents","e","isClearButtonClick","hidePopup","renderPopup","showOverAllClear","isIE","info","name","relatedTarget","onFocusOut","offsetWidth","isValue","chipWrapper","changeOnBlur","triggerChangeEvent","updateOverFlowView","ensurePlaceHolder","isEqual","ddtCompareValues","isChipDelete","eventArgs","isInteracted","newValue","isValid","popupObj","refreshPosition","observedArgs","action","focus","preventDefault","isValueChange","keyEventArgs","stopImmediatePropagation","showPopup","showSelectAll","clickHandler","setWidth","resetValue","getAriaAttributes","disable","data","overAllContainer","temp","tempData","tempIndex","wrapperleng","remaining","downIconWidth","innerHTML","l10nLocale","overflowCountTemplate","totalCountTemplate","l10n","locale","remainContent","getConstant","totalContent","remainElement","innerText","replace","toString","remainSize","index","delimiterChar","getOverflowVal","undefined","textArr","split","pop","join","ele","cloneNode","chips","removeChild","lastChild","updateRemainTemplate","updateDelimMode","firstChild","nodeType","nodeValue","getSelectedData","loadOnDemand","validationAttribute","attr","chipCollection","getValidMode","createSelectAllWrapper","selectAllSpan","textContent","touchClass","checkBoxElement","setLocale","currentTarget","firstElementChild","lastElementChild","checkWrapper","checkElement","changeState","wrapper","state","ariaState","frameSpan","getElementsByClassName","isReverseUpdate","checkAll","uncheckAll","setMultiSelect","unSelect","selectAllText","unSelectAllText","template","compiledString","templateName","_i","_a","isStringTemplate","item","keys","htmlAttributes","htmlAttr","setEnable","defaultAttr","validateAttr","setPlaceholder","invalidAttr","a","splice","setValidValue","valArr","getItems","selectedNodes","updateMode","checkedNodes","updateSelectedValues","difference","filter","givenText","getNestedItems","field","newData","objlen","dataId","childData","getChildType","mapper","nodeSelected","onNodeSelected","nodeChecked","onNodeChecked","nodeChecking","beforeCheck","actionFailure","onActionFailure","nodeClicked","onNodeClicked","dataBound","OnDataBound","sortOrder","expandOn","nodeSelecting","onBeforeSelect","nodeTemplate","root","isCancelled","createPopup","setHeaderTemplate","setFooterTemplate","portals","concat","renderReactTemplates","show","zIndex","updatePopupHeight","checkSelectAll","wrap","popup","popupHeight","getHeight","style","maxHeight","height","Math","round","getBoundingClientRect","parseInt","header","footer","border","getComputedStyle","borderTopWidth","borderBottomWidth","targetType","collision","X","Y","relateTo","position","close","open","onDocumentClick","targetExitViewport","isDevice","inputWidth","ddElement","match","popupWidth","parseFloat","documentElement","clientHeight","isFilter","isHeader","isFooter","isScroller","isDocumentClick","l10nUpdate","getTreeDataType","expandAll","restoreFilterSelection","setCssClass","newClass","oldClass","elements","setEnableRTL","setEnabled","clonedField","cloneChildField","hasChildren","expanded","iconCss","imageUrl","query","selected","tableName","tooltip","treeFields","parentID","getTreeChildren","isChecked","getActualProperties","childFields","ds","len","setFields","updateTemplate","getEventArgs","checkData","selectData","nodeData","itemData","getNode","getNodeDetails","removeSelectedData","nodes","querySelectorAll","updateClearButton","nextSibling","chipClose","updateDropDownIconState","spinIcon","appendSpan","ensureClearIconPosition","setMultiSelectValue","newValues","selectedValues","ddtValue","checkSelection","getNodeData","childItems","getChildNodeData","obj","newChildItems","childNodeData","getChildMapperFields","muteOnChange","textValue","hiddenInputValue","setChipValues","setTagValues","chip","chipContent","removeChip","templateId","templatestring","templateComplier","tempArr","setSelectAllWrapper","trim","updateOverflowWrapper","clearCheckAll","selectAllItems","li","arr","updateTreeSettings","prop","updateValue","updateCheckBoxState","checkBox","clearTemplate","destroy","noRecord","updateRecordTemplate","updateMultiSelection","updateOption","updateAllowFiltering","destroyFilter","updateFilterPlaceHolder","updateText","updateModelMode","validMode","overFlow","hasAttribute","onPropertyChanged","newProp","oldProp","setReadonly","removeFloating","addFloating","clear","ensureVisible","getData","hide","getModuleName"],"sources":["C:/Project/show-me-the-code-test/view/node_modules/@syncfusion/ej2-dropdowns/src/drop-down-tree/drop-down-tree.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Input, TextBox } from '@syncfusion/ej2-inputs';\nimport { createCheckBox } from '@syncfusion/ej2-buttons';\nimport { NotifyPropertyChanges, Property, Event } from '@syncfusion/ej2-base';\nimport { Component, EventHandler, attributes, formatUnit, ChildProperty, remove, L10n, extend } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, prepend, Complex, closest, setValue, getValue, compile, append } from '@syncfusion/ej2-base';\nimport { select, selectAll, isNullOrUndefined as isNOU, matches, Browser, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { TreeView } from '@syncfusion/ej2-navigations';\nvar RTL = 'e-rtl';\nvar DROPDOWNTREE = 'e-ddt';\nvar HIDDENELEMENT = 'e-ddt-hidden';\nvar DROPDOWNICON = 'e-input-group-icon e-ddt-icon e-icons';\nvar SHOW_CHIP = 'e-show-chip';\nvar SHOW_CLEAR = 'e-show-clear';\nvar SHOW_DD_ICON = 'e-show-dd-icon';\nvar CHIP_INPUT = 'e-chip-input';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTGROUP = 'e-input-group';\nvar ICONANIMATION = 'e-icon-anim';\nvar CLOSEICON_CLASS = 'e-clear-icon e-icons';\nvar CHIP_WRAPPER = 'e-chips-wrapper';\nvar CHIP_COLLECTION = 'e-chips-collection';\nvar CHIP = 'e-chips';\nvar CHIP_CONTENT = 'e-chipcontent';\nvar CHIP_CLOSE = 'e-chips-close';\nvar HIDEICON = 'e-icon-hide';\nvar DDTHIDEICON = 'e-ddt-icon-hide';\nvar POPUP_CLASS = 'e-ddt e-popup';\nvar PARENTITEM = 'e-list-parent';\nvar CONTENT = 'e-popup-content';\nvar DROPDOWN = 'e-dropdown';\nvar DISABLED = 'e-disabled';\nvar ICONS = 'e-icons';\nvar CHECKALLPARENT = 'e-selectall-parent';\nvar CHECKALLHIDE = 'e-hide-selectall';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar ALLTEXT = 'e-all-text';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECK = 'e-check';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar FILTERWRAP = 'e-filter-wrap';\nvar DDTICON = 'e-ddt-icon';\nvar FOOTER = 'e-ddt-footer';\nvar HEADER = 'e-ddt-header';\nvar NODATACONTAINER = 'e-ddt-nodata';\nvar NODATA = 'e-no-data';\nvar HEADERTEMPLATE = 'HeaderTemplate';\nvar FOOTERTEMPLATE = 'FooterTemplate';\nvar NORECORDSTEMPLATE = 'NoRecordsTemplate';\nvar ACTIONFAILURETEMPLATE = 'ActionFailureTemplate';\nvar CUSTOMTEMPLATE = 'CustomTemplate';\nvar REMAIN_WRAPPER = 'e-remain';\nvar OVERFLOW_VIEW = 'e-overflow';\nvar SHOW_TEXT = 'e-show-text';\nvar TOTAL_COUNT_WRAPPER = 'e-total-count';\nvar REMAIN_COUNT = 'e-wrap-count';\nvar Fields = /** @class */ (function (_super) {\n    __extends(Fields, _super);\n    function Fields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('child')\n    ], Fields.prototype, \"child\", void 0);\n    __decorate([\n        Property([])\n    ], Fields.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('expanded')\n    ], Fields.prototype, \"expanded\", void 0);\n    __decorate([\n        Property('hasChildren')\n    ], Fields.prototype, \"hasChildren\", void 0);\n    __decorate([\n        Property('htmlAttributes')\n    ], Fields.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property('iconCss')\n    ], Fields.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property('imageUrl')\n    ], Fields.prototype, \"imageUrl\", void 0);\n    __decorate([\n        Property('parentValue')\n    ], Fields.prototype, \"parentValue\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"query\", void 0);\n    __decorate([\n        Property('selected')\n    ], Fields.prototype, \"selected\", void 0);\n    __decorate([\n        Property(null)\n    ], Fields.prototype, \"tableName\", void 0);\n    __decorate([\n        Property('text')\n    ], Fields.prototype, \"text\", void 0);\n    __decorate([\n        Property('tooltip')\n    ], Fields.prototype, \"tooltip\", void 0);\n    __decorate([\n        Property('value')\n    ], Fields.prototype, \"value\", void 0);\n    return Fields;\n}(ChildProperty));\nexport { Fields };\nvar TreeSettings = /** @class */ (function (_super) {\n    __extends(TreeSettings, _super);\n    function TreeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"autoCheck\", void 0);\n    __decorate([\n        Property('Auto')\n    ], TreeSettings.prototype, \"expandOn\", void 0);\n    __decorate([\n        Property(false)\n    ], TreeSettings.prototype, \"loadOnDemand\", void 0);\n    return TreeSettings;\n}(ChildProperty));\nexport { TreeSettings };\n/**\n * The Dropdown Tree control allows you to select single or multiple values from hierarchical data in a tree-like structure.\n * It has several out-of-the-box features, such as data binding, check boxes, templates, filter,\n * UI customization, accessibility, and preselected values.\n * ```html\n *  <input type=\"text\" id=\"tree\"></input>\n * ```\n * ```typescript\n *  let ddtObj: DropDownTree = new DropDownTree();\n *  ddtObj.appendTo(\"#tree\");\n * ```\n */\nvar DropDownTree = /** @class */ (function (_super) {\n    __extends(DropDownTree, _super);\n    function DropDownTree(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.filterTimer = null;\n        _this.isFilteredData = false;\n        _this.isFilterRestore = false;\n        // eslint-disable-next-line\n        _this.selectedData = [];\n        _this.filterDelayTime = 300;\n        _this.isClicked = false;\n        return _this;\n    }\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string}\n     * @hidden\n     */\n    DropDownTree.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    DropDownTree.prototype.getLocaleName = function () {\n        return 'drop-down-tree';\n    };\n    /**\n     * Initialize the event handler.\n     *\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.preRender = function () {\n        this.inputFocus = false;\n        this.isPopupOpen = false;\n        this.isFirstRender = true;\n        this.isInitialized = false;\n        this.currentText = null;\n        this.currentValue = null;\n        this.oldValue = null;\n        this.removeValue = false;\n        this.selectedText = [];\n        this.treeItems = [];\n        this.dataValue = null;\n        this.isNodeSelected = false;\n        this.isDynamicChange = false;\n        this.clearIconWidth = 0;\n        this.headerTemplateId = \"\" + this.element.id + HEADERTEMPLATE;\n        this.footerTemplateId = \"\" + this.element.id + FOOTERTEMPLATE;\n        this.actionFailureTemplateId = \"\" + this.element.id + ACTIONFAILURETEMPLATE;\n        this.noRecordsTemplateId = \"\" + this.element.id + NORECORDSTEMPLATE;\n        this.customTemplateId = \"\" + this.element.id + CUSTOMTEMPLATE;\n        this.keyConfigs = {\n            escape: 'escape',\n            altUp: 'alt+uparrow',\n            altDown: 'alt+downarrow',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            end: 'end',\n            enter: 'enter',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            ctrlA: 'ctrl+A'\n        };\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    DropDownTree.prototype.render = function () {\n        var isTree = select('#' + this.element.id + '_tree', document);\n        if (isTree) {\n            var popupDiv = select('#' + this.element.id + '_popup', document);\n            detach(popupDiv ? popupDiv : isTree.parentElement);\n        }\n        this.ensureAutoCheck();\n        if (this.element.tagName === 'INPUT') {\n            this.inputEle = this.element;\n            if (isNOU(this.inputEle.getAttribute('role'))) {\n                this.inputEle.setAttribute('role', 'textbox');\n            }\n            if (isNOU(this.inputEle.getAttribute('type'))) {\n                this.inputEle.setAttribute('type', 'text');\n            }\n        }\n        else {\n            this.inputEle = this.createElement('input', { attrs: { role: 'textbox', type: 'text' } });\n            this.element.parentElement.insertBefore(this.inputEle, this.element);\n        }\n        this.inputObj = Input.createInput({\n            element: this.inputEle,\n            floatLabelType: this.floatLabelType,\n            buttons: this.showDropDownIcon ? [DROPDOWNICON] : null,\n            properties: {\n                readonly: true,\n                placeholder: this.placeholder,\n                enabled: this.enabled,\n                cssClass: this.cssClass,\n                enableRtl: this.enableRtl\n            }\n        }, this.createElement);\n        this.inputWrapper = this.inputObj.container;\n        if (!this.inputWrapper.classList.contains(INPUTGROUP)) {\n            this.inputWrapper.classList.add(INPUTGROUP);\n        }\n        if (this.showDropDownIcon) {\n            this.inputWrapper.classList.add(SHOW_DD_ICON);\n        }\n        if (this.element.tagName === this.getDirective()) {\n            this.element.appendChild(this.inputWrapper);\n        }\n        this.createHiddenElement();\n        this.createClearIcon();\n        this.inputWrapper.classList.add(DROPDOWNTREE);\n        this.setElementWidth(this.width);\n        this.updateDataAttribute();\n        this.setHTMLAttributes();\n        this.setAttributes();\n        this.popupDiv = this.createElement('div', { className: CONTENT, attrs: { 'tabindex': '0' } });\n        this.popupDiv.classList.add(DROPDOWN);\n        this.tree = this.createElement('div', { id: this.element.id + '_tree' });\n        this.popupDiv.appendChild(this.tree);\n        document.body.appendChild(this.popupDiv);\n        this.wireTreeEvents();\n        addClass([this.popupDiv], DDTHIDEICON);\n        this.renderTree();\n        this.isRemoteData = this.fields.dataSource instanceof DataManager;\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter') {\n                this.createChip();\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n                if (this.mode !== 'Box') {\n                    addClass([this.overFlowWrapper], SHOW_TEXT);\n                }\n            }\n        }\n        if (!this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n        }\n        this.wireEvents();\n        var firstUl = select('.' + PARENTITEM, this.treeObj.element);\n        if (firstUl && firstUl.getAttribute('aria-multiselectable')) {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n        this.oldValue = this.value;\n        this.isInitialized = true;\n        this.hasTemplate = this.itemTemplate || this.headerTemplate || this.footerTemplate || this.actionFailureTemplate\n            || this.noRecordsTemplate || this.customTemplate;\n        this.renderComplete();\n    };\n    DropDownTree.prototype.ensureAutoCheck = function () {\n        if (this.allowFiltering && this.treeSettings.autoCheck) {\n            this.setProperties({ treeSettings: { autoCheck: false } }, true);\n        }\n    };\n    DropDownTree.prototype.hideCheckAll = function (flag) {\n        var checkAllEle = !isNOU(this.popupEle) ? this.popupEle.querySelector('.' + CHECKALLPARENT) : null;\n        if (!isNOU(checkAllEle)) {\n            if (flag && !checkAllEle.classList.contains(CHECKALLHIDE)) {\n                addClass([checkAllEle], CHECKALLHIDE);\n            }\n            else if (!flag && checkAllEle.classList.contains(CHECKALLHIDE)) {\n                removeClass([checkAllEle], CHECKALLHIDE);\n            }\n        }\n    };\n    DropDownTree.prototype.renderFilter = function () {\n        this.filterContainer = this.createElement('div', {\n            id: this.element.id + '_filter_wrap',\n            className: FILTERWRAP\n        });\n        var filterInput = this.createElement('input', {\n            id: this.element.id + '_filter',\n            attrs: { autocomplete: 'off', 'aria-label': this.filterBarPlaceholder }\n        });\n        this.filterContainer.appendChild(filterInput);\n        prepend([this.filterContainer], this.popupEle);\n        this.filterObj = new TextBox({\n            value: '',\n            showClearButton: true,\n            placeholder: this.filterBarPlaceholder,\n            input: this.filterChangeHandler.bind(this)\n        });\n        this.filterObj.appendTo('#' + this.element.id + '_filter');\n    };\n    DropDownTree.prototype.filterChangeHandler = function (args) {\n        var _this = this;\n        if (!isNOU(args.value)) {\n            window.clearTimeout(this.filterTimer);\n            this.filterTimer = window.setTimeout(function () { _this.filterHandler(args.value, args.event); }, this.filterDelayTime);\n        }\n    };\n    DropDownTree.prototype.filterHandler = function (value, event) {\n        var _this = this;\n        if (!this.isFilteredData) {\n            this.treeData = this.treeObj.getTreeData();\n        }\n        var filterFields = this.cloneFields(this.fields);\n        var args = {\n            cancel: false,\n            preventDefaultAction: false,\n            event: event,\n            text: value,\n            fields: filterFields\n        };\n        this.trigger('filtering', args, function (args) {\n            if (!args.cancel) {\n                var flag = false;\n                var fields = void 0;\n                _this.isFilteredData = true;\n                if (value === '') {\n                    _this.isFilteredData = false;\n                    _this.isFilterRestore = true;\n                    fields = _this.cloneFields(_this.fields);\n                }\n                else if (args.preventDefaultAction) {\n                    fields = args.fields;\n                }\n                else {\n                    if (_this.treeDataType === 1) {\n                        fields = _this.selfReferencefilter(value, args.fields);\n                    }\n                    else {\n                        if (_this.fields.dataSource instanceof DataManager) {\n                            flag = true;\n                        }\n                        else {\n                            fields = _this.nestedFilter(value, args.fields);\n                        }\n                    }\n                }\n                _this.hideCheckAll(_this.isFilteredData);\n                if (flag) {\n                    return;\n                }\n                _this.treeObj.fields = _this.getTreeFields(fields);\n                _this.treeObj.dataBind();\n            }\n        });\n    };\n    DropDownTree.prototype.nestedFilter = function (value, filteredFields) {\n        // eslint-disable-next-line\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            // eslint-disable-next-line\n            var filteredChild = this.nestedChildFilter(value, this.treeData[i]);\n            if (!isNOU(filteredChild)) {\n                matchedDataSource.push(filteredChild);\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.nestedChildFilter = function (value, node) {\n        // eslint-disable-next-line\n        var children = node[this.fields.child];\n        if (isNOU(children)) {\n            return (this.isMatchedNode(value, node)) ? node : null;\n        }\n        else {\n            // eslint-disable-next-line\n            var matchedChildren = [];\n            for (var i = 0; i < children.length; i++) {\n                // eslint-disable-next-line\n                var filteredChild = this.nestedChildFilter(value, children[i]);\n                if (!isNOU(filteredChild)) {\n                    matchedChildren.push(filteredChild);\n                }\n            }\n            var filteredItems = Object.assign({}, node);\n            if (matchedChildren.length !== 0) {\n                filteredItems[this.fields.child] = matchedChildren;\n                return filteredItems;\n            }\n            else {\n                filteredItems[this.fields.child] = null;\n                return (this.isMatchedNode(value, filteredItems)) ? filteredItems : null;\n            }\n        }\n    };\n    DropDownTree.prototype.selfReferencefilter = function (value, filteredFields) {\n        // eslint-disable-next-line\n        var matchedData = [];\n        // eslint-disable-next-line\n        var matchedDataSource = [];\n        for (var i = 0; i < this.treeData.length; i++) {\n            if (this.isMatchedNode(value, this.treeData[i])) {\n                matchedData.push(this.treeData[i]);\n            }\n        }\n        for (var i = 0; i < matchedData.length; i++) {\n            if (matchedDataSource.indexOf(matchedData[i]) === -1) {\n                matchedDataSource.push(matchedData[i]);\n                // eslint-disable-next-line\n                var parentId = matchedData[i][this.fields.parentValue];\n                while (!isNOU(parentId)) {\n                    // eslint-disable-next-line\n                    var parent_1 = null;\n                    for (var j = 0; j < this.treeData.length; j++) {\n                        // eslint-disable-next-line\n                        var value_1 = this.treeData[j][this.fields.value];\n                        if (!isNOU(value_1) && (value_1 === parentId)) {\n                            parent_1 = this.treeData[j];\n                            break;\n                        }\n                    }\n                    if (!isNOU(parent_1) && (matchedDataSource.indexOf(parent_1) === -1)) {\n                        matchedDataSource.push(parent_1);\n                        parentId = parent_1[this.fields.parentValue];\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n        }\n        filteredFields.dataSource = matchedDataSource;\n        return filteredFields;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.isMatchedNode = function (value, node) {\n        var checkValue = node[this.fields.text];\n        if (this.ignoreCase) {\n            checkValue = checkValue.toLowerCase();\n            value = value.toLowerCase();\n        }\n        if (this.ignoreAccent) {\n            checkValue = DataUtil.ignoreDiacritics(checkValue);\n            value = DataUtil.ignoreDiacritics(value);\n        }\n        if (this.filterType === 'StartsWith') {\n            return checkValue.slice(0, value.length) === value;\n        }\n        else if (this.filterType === 'EndsWith') {\n            return checkValue.slice(-value.length) === value;\n        }\n        else {\n            return checkValue.indexOf(value) !== -1;\n        }\n    };\n    /* To wire events for the dropdown tree */\n    DropDownTree.prototype.wireEvents = function () {\n        EventHandler.add(this.inputWrapper, 'mouseup', this.dropDownClick, this);\n        EventHandler.add(this.inputWrapper, 'focus', this.focusIn, this);\n        EventHandler.add(this.inputWrapper, 'blur', this.focusOut, this);\n        EventHandler.add(this.inputWrapper, 'mousemove', this.mouseIn, this);\n        EventHandler.add(this.inputWrapper, 'mouseout', this.onMouseLeave, this);\n        EventHandler.add(this.overAllClear, 'mousedown', this.clearAll, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.add(formElement, 'reset', this.resetValueHandler, this);\n        }\n        this.keyboardModule = new KeyboardEvents(this.inputWrapper, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireTreeEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.tree, {\n            keyAction: this.treeAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    DropDownTree.prototype.wireCheckAllWrapperEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.checkAllParent, {\n            keyAction: this.checkAllAction.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    /* To unwire events for the dropdown tree */\n    DropDownTree.prototype.unWireEvents = function () {\n        EventHandler.remove(this.inputWrapper, 'mouseup', this.dropDownClick);\n        EventHandler.remove(this.inputWrapper, 'focus', this.focusIn);\n        EventHandler.remove(this.inputWrapper, 'blur', this.focusOut);\n        EventHandler.remove(this.inputWrapper, 'mousemove', this.mouseIn);\n        EventHandler.remove(this.inputWrapper, 'mouseout', this.onMouseLeave);\n        EventHandler.remove(this.overAllClear, 'mousedown', this.clearAll);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement) {\n            EventHandler.remove(formElement, 'reset', this.resetValueHandler);\n        }\n    };\n    /* Trigger when the dropdown is clicked */\n    DropDownTree.prototype.dropDownClick = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n            return;\n        }\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        else {\n            this.focusIn(e);\n            this.renderPopup();\n        }\n        this.showOverAllClear();\n    };\n    DropDownTree.prototype.mouseIn = function () {\n        if (this.enabled || !this.readonly) {\n            this.showOverAllClear();\n        }\n    };\n    DropDownTree.prototype.onMouseLeave = function () {\n        if (!this.inputFocus) {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n    };\n    DropDownTree.prototype.getDirective = function () {\n        return 'EJS-DROPDOWNTREE';\n    };\n    DropDownTree.prototype.focusOut = function (e) {\n        if (!this.enabled || this.readonly || !this.inputFocus) {\n            return;\n        }\n        if ((Browser.isIE || Browser.info.name === 'edge') && (e.target === this.inputWrapper)) {\n            return;\n        }\n        var target = e.relatedTarget;\n        if ((target !== this.inputEle) && (isNOU(target)) && (e.target !== this.inputWrapper || !this.isPopupOpen)) {\n            this.onFocusOut(e);\n        }\n    };\n    DropDownTree.prototype.onFocusOut = function (event) {\n        this.inputFocus = false;\n        if (this.isPopupOpen) {\n            this.hidePopup();\n        }\n        if (this.isClearButtonClick) {\n            this.isClearButtonClick = false;\n        }\n        if (this.showClearButton) {\n            this.clearIconWidth = select('.e-clear-icon', this.inputWrapper).offsetWidth;\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        removeClass([this.inputWrapper], [INPUTFOCUS]);\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (this.mode !== 'Delimiter' && this.mode !== 'Custom') {\n                if (this.chipWrapper && (this.mode === 'Default')) {\n                    addClass([this.chipWrapper], HIDEICON);\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n            }\n            if (!this.wrapText && isValue) {\n                this.updateView();\n            }\n        }\n        if (this.changeOnBlur) {\n            this.triggerChangeEvent(event);\n        }\n        this.removeValue = false;\n        this.oldValue = this.value;\n        this.trigger('blur');\n    };\n    DropDownTree.prototype.updateView = function () {\n        if ((!this.showCheckBox && !this.allowMultiSelection) || this.mode === 'Custom' || this.inputFocus) {\n            return;\n        }\n        if (this.mode !== 'Box') {\n            addClass([this.inputWrapper, this.overFlowWrapper], SHOW_TEXT);\n        }\n        else {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        if (this.value && this.value.length !== 0) {\n            if (this.inputWrapper.contains(this.chipWrapper)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n            addClass([this.inputEle], CHIP_INPUT);\n            this.updateOverFlowView();\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.triggerChangeEvent = function (event) {\n        var isEqual = this.ddtCompareValues(this.oldValue, this.value);\n        if ((!isEqual || this.isChipDelete) && !this.removeValue) {\n            var eventArgs = {\n                e: event,\n                oldValue: this.oldValue,\n                value: this.value,\n                isInteracted: event ? true : false,\n                element: this.element\n            };\n            this.trigger('change', eventArgs);\n            this.oldValue = this.value;\n        }\n    };\n    DropDownTree.prototype.ddtCompareValues = function (oldValue, newValue) {\n        if (oldValue === null || newValue === null) {\n            var isValid = oldValue === null ? ((newValue === oldValue) ? true : false) :\n                (oldValue.length === 0 ? (newValue === oldValue) : false);\n            return isValid;\n        }\n        else if (oldValue.length !== newValue.length) {\n            return false;\n        }\n        for (var i = 0; i < oldValue.length; i++) {\n            if (oldValue[i] !== newValue[i]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    DropDownTree.prototype.focusIn = function (e) {\n        if (!this.enabled || this.readonly || this.inputFocus) {\n            return;\n        }\n        this.showOverAllClear();\n        this.inputFocus = true;\n        addClass([this.inputWrapper], [INPUTFOCUS]);\n        if (this.allowMultiSelection || this.showCheckBox) {\n            if (this.mode !== 'Delimiter' && this.inputFocus) {\n                if (this.chipWrapper && (this.value && this.value.length !== 0)) {\n                    removeClass([this.chipWrapper], HIDEICON);\n                    addClass([this.inputEle], CHIP_INPUT);\n                }\n                addClass([this.inputWrapper], SHOW_CHIP);\n                if (this.popupObj) {\n                    this.popupObj.refreshPosition();\n                }\n            }\n            if (!this.wrapText && this.mode !== 'Custom') {\n                if (this.inputWrapper.contains(this.overFlowWrapper)) {\n                    addClass([this.overFlowWrapper], HIDEICON);\n                }\n                if (this.mode === 'Delimiter') {\n                    removeClass([this.inputWrapper], SHOW_CHIP);\n                    removeClass([this.inputEle], CHIP_INPUT);\n                }\n                else {\n                    addClass([this.inputWrapper], SHOW_CHIP);\n                }\n                removeClass([this.inputWrapper], SHOW_TEXT);\n                this.ensurePlaceHolder();\n            }\n        }\n        var args = { isInteracted: e ? true : false, event: e };\n        this.trigger('focus', args);\n    };\n    DropDownTree.prototype.treeAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        _this.inputWrapper.focus();\n                        e.preventDefault();\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'tab':\n                    case 'shiftTab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                        if (!_this.showCheckBox) {\n                            _this.isValueChange = true;\n                            _this.keyEventArgs = e;\n                        }\n                        break;\n                    case 'space':\n                        _this.isValueChange = true;\n                        _this.keyEventArgs = e;\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            _this.selectAll(true);\n                        }\n                        break;\n                    case 'moveRight':\n                    case 'moveLeft':\n                    case 'shiftDown':\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                    case 'shiftUp':\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                }\n            }\n            else {\n                e.stopImmediatePropagation();\n            }\n        });\n    };\n    DropDownTree.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'escape':\n                    case 'altUp':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        break;\n                    case 'shiftTab':\n                    case 'tab':\n                        if (_this.isPopupOpen) {\n                            _this.hidePopup();\n                        }\n                        if (_this.inputFocus) {\n                            _this.onFocusOut();\n                        }\n                        break;\n                    case 'altDown':\n                        if (!_this.isPopupOpen) {\n                            _this.showPopup();\n                            e.preventDefault();\n                        }\n                        break;\n                    case 'moveDown':\n                        if (_this.showSelectAll && _this.showCheckBox) {\n                            _this.checkAllParent.focus();\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.checkAllAction = function (e) {\n        var _this = this;\n        var eventArgs = {\n            cancel: false,\n            event: e\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        _this.clickHandler(e);\n                        break;\n                    case 'moveDown':\n                        _this.treeObj.element.focus();\n                }\n            }\n        });\n    };\n    DropDownTree.prototype.windowResize = function () {\n        if (this.popupObj) {\n            this.popupObj.setProperties({ width: this.setWidth() });\n            this.popupObj.refreshPosition();\n        }\n    };\n    DropDownTree.prototype.resetValueHandler = function (e) {\n        var formElement = closest(this.inputWrapper, 'form');\n        if (formElement && e.target === formElement) {\n            this.isDynamicChange = true;\n            this.setProperties({ value: null }, true);\n            this.resetValue(true);\n            this.isDynamicChange = false;\n        }\n    };\n    DropDownTree.prototype.getAriaAttributes = function () {\n        var disable = this.enabled ? 'false' : 'true';\n        return {\n            'aria-disabled': disable,\n            'aria-owns': this.element.id + '_options',\n            'role': 'listbox',\n            'aria-haspopup': 'true',\n            'aria-expanded': 'false',\n            'aria-activedescendant': 'null',\n            'aria-labelledby': this.hiddenElement.id\n        };\n    };\n    DropDownTree.prototype.updateOverFlowView = function () {\n        this.overFlowWrapper.classList.remove(TOTAL_COUNT_WRAPPER);\n        removeClass([this.overFlowWrapper], HIDEICON);\n        if (this.value && this.value.length) {\n            var data = '';\n            var overAllContainer = void 0;\n            var temp = void 0;\n            var tempData = void 0;\n            var tempIndex = 1;\n            var wrapperleng = void 0;\n            var remaining = void 0;\n            var downIconWidth = 0;\n            this.overFlowWrapper.innerHTML = '';\n            // eslint-disable-next-line\n            var l10nLocale = { overflowCountTemplate: '+${count} more..', totalCountTemplate: '${count} selected' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            var remainContent = this.l10n.getConstant('overflowCountTemplate');\n            var totalContent = this.l10n.getConstant('totalCountTemplate');\n            var remainElement = this.createElement('span', { className: REMAIN_WRAPPER });\n            this.overFlowWrapper.appendChild(remainElement);\n            remainElement.innerText = remainContent.replace('${count}', this.value.length.toString());\n            var remainSize = remainElement.offsetWidth;\n            remove(remainElement);\n            if (this.showDropDownIcon) {\n                downIconWidth = select('.' + DDTICON, this.inputWrapper).offsetWidth;\n            }\n            if (!isNOU(this.value)) {\n                if (this.mode !== 'Box') {\n                    for (var index = 0; !isNOU(this.value[index]); index++) {\n                        data += (index === 0) ? '' : this.delimiterChar + ' ';\n                        temp = this.getOverflowVal(index);\n                        data += temp;\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.innerHTML = data;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                index = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - index;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                var textArr = this.overFlowWrapper.innerHTML.split(this.delimiterChar);\n                                textArr.pop();\n                                this.overFlowWrapper.innerHTML = textArr.join(this.delimiterChar);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = index;\n                        }\n                        else if (index === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n                else {\n                    addClass([this.chipWrapper], HIDEICON);\n                    var ele = this.chipWrapper.cloneNode(true);\n                    var chips = selectAll('.' + CHIP, ele);\n                    for (var i = 0; i < chips.length; i++) {\n                        temp = this.overFlowWrapper.innerHTML;\n                        this.overFlowWrapper.appendChild(chips[i]);\n                        data = this.overFlowWrapper.innerHTML;\n                        wrapperleng = this.overFlowWrapper.offsetWidth;\n                        overAllContainer = this.inputWrapper.offsetWidth;\n                        if ((wrapperleng + downIconWidth + this.clearIconWidth) > overAllContainer) {\n                            if (tempData !== undefined && tempData !== '') {\n                                temp = tempData;\n                                i = tempIndex + 1;\n                            }\n                            this.overFlowWrapper.innerHTML = temp;\n                            remaining = this.value.length - i;\n                            wrapperleng = this.overFlowWrapper.offsetWidth;\n                            while (((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) >= overAllContainer)\n                                && wrapperleng !== 0 && this.overFlowWrapper.innerHTML !== '') {\n                                this.overFlowWrapper.removeChild(this.overFlowWrapper.lastChild);\n                                remaining++;\n                                wrapperleng = this.overFlowWrapper.offsetWidth;\n                            }\n                            break;\n                        }\n                        else if ((wrapperleng + remainSize + downIconWidth + this.clearIconWidth) <= overAllContainer) {\n                            tempData = data;\n                            tempIndex = i;\n                        }\n                        else if (i === 0) {\n                            tempData = '';\n                            tempIndex = -1;\n                        }\n                    }\n                }\n            }\n            if (remaining > 0) {\n                this.overFlowWrapper.appendChild(this.updateRemainTemplate(remainElement, remaining, remainContent, totalContent));\n            }\n            if (this.mode === 'Box' && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([remainElement], REMAIN_COUNT);\n            }\n        }\n        else {\n            this.overFlowWrapper.innerHTML = '';\n            addClass([this.overFlowWrapper], HIDEICON);\n        }\n        this.updateDelimMode();\n    };\n    DropDownTree.prototype.updateRemainTemplate = function (remainElement, remaining, remainContent, totalContent) {\n        if (this.overFlowWrapper.firstChild && this.overFlowWrapper.firstChild.nodeType === 3 &&\n            this.overFlowWrapper.firstChild.nodeValue === '') {\n            this.overFlowWrapper.removeChild(this.overFlowWrapper.firstChild);\n        }\n        remainElement.innerHTML = '';\n        remainElement.innerText = (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) ?\n            remainContent.replace('${count}', remaining.toString()) : totalContent.replace('${count}', remaining.toString());\n        if (this.overFlowWrapper.firstChild && (this.overFlowWrapper.firstChild.nodeType === 3 || this.mode === 'Box')) {\n            removeClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n        }\n        else {\n            addClass([this.overFlowWrapper], TOTAL_COUNT_WRAPPER);\n            removeClass([this.overFlowWrapper], REMAIN_COUNT);\n        }\n        return remainElement;\n    };\n    DropDownTree.prototype.getOverflowVal = function (index) {\n        // eslint-disable-next-line\n        var selectedData = this.getSelectedData(this.value[index]);\n        return getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n    };\n    DropDownTree.prototype.updateDelimMode = function () {\n        if (this.mode !== 'Box') {\n            if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper) && !this.overFlowWrapper.classList.contains(TOTAL_COUNT_WRAPPER)) {\n                addClass([this.overFlowWrapper], REMAIN_COUNT);\n                addClass([this.overFlowWrapper], SHOW_TEXT);\n            }\n            else {\n                this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n                removeClass([this.overFlowWrapper], REMAIN_COUNT);\n            }\n        }\n        else if (select('.' + REMAIN_WRAPPER, this.overFlowWrapper)) {\n            this.overFlowWrapper.classList.remove(REMAIN_COUNT);\n        }\n    };\n    DropDownTree.prototype.createHiddenElement = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'class': HIDDENELEMENT, 'tabindex': '-1', 'multiple': '' }\n            });\n        }\n        else {\n            this.hiddenElement = this.createElement('select', {\n                attrs: { 'aria-hidden': 'true', 'tabindex': '-1', 'class': HIDDENELEMENT }\n            });\n        }\n        prepend([this.hiddenElement], this.inputWrapper);\n        this.validationAttribute();\n    };\n    DropDownTree.prototype.createClearIcon = function () {\n        this.overAllClear = this.createElement('span', {\n            className: CLOSEICON_CLASS\n        });\n        addClass([this.overAllClear], HIDEICON);\n        removeClass([this.inputWrapper], SHOW_CLEAR);\n        if (this.showClearButton) {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.validationAttribute = function () {\n        var name = this.inputEle.getAttribute('name') ? this.inputEle.getAttribute('name') : this.inputEle.getAttribute('id');\n        this.hiddenElement.setAttribute('name', name);\n        this.inputEle.removeAttribute('name');\n        var attributes = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes.length; i++) {\n            var attr = this.inputEle.getAttribute(attributes[i]);\n            if (attr) {\n                this.hiddenElement.setAttribute(attributes[i], attr);\n                this.inputEle.removeAttribute(attributes[i]);\n            }\n        }\n    };\n    DropDownTree.prototype.createChip = function () {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.chipWrapper = this.createElement('span', {\n                className: CHIP_WRAPPER\n            });\n            this.chipCollection = this.createElement('span', {\n                className: CHIP_COLLECTION\n            });\n            this.chipWrapper.appendChild(this.chipCollection);\n            this.inputWrapper.insertBefore(this.chipWrapper, this.hiddenElement);\n            addClass([this.inputWrapper], SHOW_CHIP);\n            var isValid = this.getValidMode();\n            if (isValid && this.value !== null && (this.value && this.value.length !== 0)) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else if (this.value === null || (this.value && this.value.length === 0)) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.getValidMode = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return this.mode === 'Box' ? true : (this.mode === 'Default' && this.inputFocus) ? true : false;\n        }\n        else {\n            return false;\n        }\n    };\n    DropDownTree.prototype.createSelectAllWrapper = function () {\n        this.checkAllParent = this.createElement('div', {\n            className: CHECKALLPARENT, attrs: { 'tabindex': '0' }\n        });\n        this.selectAllSpan = this.createElement('span', {\n            className: ALLTEXT\n        });\n        this.selectAllSpan.textContent = '';\n        var ele = closest(this.element, '.' + BIGGER);\n        var touchClass = isNOU(ele) ? '' : SMALL;\n        this.checkBoxElement = createCheckBox(this.createElement, true, { cssClass: touchClass });\n        this.checkBoxElement.setAttribute('role', 'checkbox');\n        this.checkAllParent.appendChild(this.checkBoxElement);\n        this.checkAllParent.appendChild(this.selectAllSpan);\n        this.setLocale();\n        EventHandler.add(this.checkAllParent, 'mouseup', this.clickHandler, this);\n        this.wireCheckAllWrapperEvents();\n    };\n    DropDownTree.prototype.clickHandler = function (e) {\n        var target;\n        if ((e.currentTarget && e.currentTarget.classList.contains(CHECKALLPARENT))) {\n            target = e.currentTarget.firstElementChild.lastElementChild;\n        }\n        else {\n            target = e.target;\n        }\n        this.checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n        if (!isNOU(this.checkWrapper)) {\n            this.isClicked = true;\n            var checkElement = select('.' + CHECKBOXFRAME, this.checkWrapper);\n            this.changeState(this.checkWrapper, checkElement.classList.contains(CHECK) ? 'uncheck' : 'check', e);\n            this.isClicked = false;\n        }\n        e.preventDefault();\n    };\n    DropDownTree.prototype.changeState = function (wrapper, state, e) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.add(CHECK);\n            ariaState = 'true';\n            if (!this.isReverseUpdate) {\n                this.treeObj.checkAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(true);\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK))) {\n            frameSpan.classList.remove(CHECK);\n            ariaState = 'false';\n            if (!this.isReverseUpdate) {\n                this.treeObj.uncheckAll();\n                if (!this.changeOnBlur) {\n                    this.triggerChangeEvent(e);\n                }\n            }\n            this.setLocale(false);\n        }\n        this.setMultiSelect();\n        this.ensurePlaceHolder();\n        ariaState = state === 'check' ? 'true' : 'false';\n        if (!isNOU(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n    };\n    DropDownTree.prototype.setLocale = function (unSelect) {\n        if (!this.selectAllSpan) {\n            return;\n        }\n        if (this.selectAllText !== 'Select All' || this.unSelectAllText !== 'Unselect All') {\n            var template = unSelect ? this.unSelectAllText : this.selectAllText;\n            this.selectAllSpan.textContent = '';\n            // eslint-disable-next-line\n            var compiledString = compile(template);\n            var templateName = unSelect ? 'unSelectAllText' : 'selectAllText';\n            for (var _i = 0, _a = compiledString({}, this, templateName, null, !this.isStringTemplate); _i < _a.length; _i++) {\n                var item = _a[_i];\n                this.selectAllSpan.textContent = item.textContent;\n            }\n        }\n        else {\n            this.selectAllSpan.textContent = unSelect ? this.unSelectAllText : this.selectAllText;\n        }\n    };\n    DropDownTree.prototype.setAttributes = function () {\n        this.inputEle.setAttribute('tabindex', '-1');\n        var id = this.element.getAttribute('id');\n        this.hiddenElement.id = id + '_hidden';\n        this.inputWrapper.setAttribute('tabindex', '0');\n        attributes(this.inputWrapper, this.getAriaAttributes());\n    };\n    DropDownTree.prototype.setHTMLAttributes = function () {\n        if (Object.keys(this.htmlAttributes).length) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var htmlAttr = _a[_i];\n                if (htmlAttr === 'class') {\n                    this.inputWrapper.classList.add(this.htmlAttributes[htmlAttr]);\n                }\n                else if (htmlAttr === 'disabled' && this.htmlAttributes[htmlAttr] === 'disabled') {\n                    this.setProperties({ enabled: false }, true);\n                    this.setEnable();\n                }\n                else if (htmlAttr === 'readonly' && !isNOU(this.htmlAttributes[htmlAttr])) {\n                    this.setProperties({ readonly: true }, true);\n                    this.dataBind();\n                }\n                else if (htmlAttr === 'style') {\n                    this.inputWrapper.setAttribute('style', this.htmlAttributes[htmlAttr]);\n                }\n                else {\n                    var defaultAttr = ['title', 'id', 'placeholder', 'aria-placeholder',\n                        'role', 'autocorrect', 'autocomplete', 'autocapitalize', 'spellcheck', 'minlength', 'maxlength'];\n                    var validateAttr = ['name', 'required'];\n                    if (htmlAttr.indexOf('data') === 0 || validateAttr.indexOf(htmlAttr) > -1) {\n                        this.hiddenElement.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                    else if (defaultAttr.indexOf(htmlAttr) > -1) {\n                        if (htmlAttr === 'placeholder') {\n                            Input.setPlaceholder(this.htmlAttributes[htmlAttr], this.inputEle);\n                        }\n                        else {\n                            this.inputEle.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                        }\n                    }\n                    else {\n                        this.inputWrapper.setAttribute(htmlAttr, this.htmlAttributes[htmlAttr]);\n                    }\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDataAttribute = function () {\n        var value = this.htmlAttributes;\n        var invalidAttr = ['class', 'style', 'id', 'type'];\n        var attr = {};\n        for (var a = 0; a < this.element.attributes.length; a++) {\n            if (invalidAttr.indexOf(this.element.attributes[a].name) === -1 &&\n                !(this.element.attributes[a].name === 'readonly')) {\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n            }\n        }\n        extend(attr, value, attr);\n        this.setProperties({ htmlAttributes: attr }, true);\n    };\n    DropDownTree.prototype.showOverAllClear = function () {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        if (this.overAllClear) {\n            var isValue = this.value ? (this.value.length ? true : false) : false;\n            if (isValue && this.showClearButton) {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n            else {\n                addClass([this.overAllClear], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeValue = function () {\n        if (this.value !== null && this.value.length !== 0) {\n            // eslint-disable-next-line\n            var data = void 0;\n            if (this.showCheckBox || this.allowMultiSelection) {\n                for (var i = 0; i < this.value.length; i++) {\n                    data = this.treeObj.getTreeData(this.value[i])[0];\n                    if (isNOU(data)) {\n                        this.value.splice(this.value.indexOf(this.value[i]), 1);\n                    }\n                }\n                if (this.value.length !== 0) {\n                    this.setValidValue();\n                }\n            }\n            else {\n                data = this.treeObj.getTreeData(this.value[0])[0];\n                if (!isNOU(data)) {\n                    this.setProperties({ text: data[this.fields.text] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ value: this.currentValue }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setTreeText = function () {\n        if (this.value !== null && !this.isInitialized) {\n            return;\n        }\n        if (this.text !== null) {\n            // eslint-disable-next-line\n            var data = void 0;\n            var valArr = [];\n            if (this.showCheckBox || this.allowMultiSelection) {\n                var textArr = this.text.split(this.delimiterChar);\n                for (var i = 0; i < textArr.length; i++) {\n                    data = this.getItems(textArr[i]);\n                    if (!isNOU(data)) {\n                        valArr.push(data[this.fields.value].toString());\n                    }\n                }\n                if (valArr.length !== 0) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: valArr }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n            else {\n                data = this.getItems(this.text);\n                if (!isNOU(data)) {\n                    this.oldValue = this.value;\n                    this.setProperties({ value: [data[this.fields.value].toString()] }, true);\n                    this.setValidValue();\n                }\n                else {\n                    this.setProperties({ text: this.currentText }, true);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.setSelectedValue = function () {\n        if (this.value != null) {\n            return;\n        }\n        if (!this.isInitialized) {\n            this.oldValue = this.value;\n            if (this.treeObj.selectedNodes.length > 0 && !this.showCheckBox) {\n                this.setProperties({ value: this.treeObj.selectedNodes }, true);\n                if (this.allowMultiSelection) {\n                    this.updateMode();\n                }\n            }\n            else if (this.showCheckBox && this.treeObj.checkedNodes) {\n                if (this.treeObj.checkedNodes.length > 0) {\n                    this.setProperties({ value: this.treeObj.checkedNodes }, true);\n                    setValue('selectedNodes', [], this.treeObj);\n                    this.treeObj.dataBind();\n                    this.updateMode();\n                }\n            }\n            this.updateSelectedValues();\n            this.currentText = this.text;\n            this.currentValue = this.value;\n        }\n    };\n    DropDownTree.prototype.setValidValue = function () {\n        var _this = this;\n        if (!this.showCheckBox && !this.allowMultiSelection) {\n            Input.setValue(this.text, this.inputEle, this.floatLabelType);\n            var id = this.value[0].toString();\n            if (this.treeObj.selectedNodes[0] !== id) {\n                setValue('selectedNodes', [id], this.treeObj);\n            }\n        }\n        else {\n            if (this.showCheckBox) {\n                var difference = this.value.filter(function (e) {\n                    return _this.treeObj.checkedNodes.indexOf(e) === -1;\n                });\n                if (difference.length > 0 || this.treeSettings.autoCheck) {\n                    this.treeObj.checkedNodes = this.value.slice();\n                    this.treeObj.dataBind();\n                    this.setMultiSelect();\n                }\n            }\n            else {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.selectedText = [];\n                this.updateSelectedValues();\n            }\n            this.treeObj.dataBind();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n        if (this.isInitialized) {\n            this.triggerChangeEvent();\n        }\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getItems = function (givenText) {\n        // eslint-disable-next-line\n        var data;\n        if (this.treeDataType === 1) {\n            for (var i = 0; i < this.treeItems.length; i++) {\n                // eslint-disable-next-line\n                var text = getValue(this.fields.text, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(text) && text === givenText) {\n                    data = this.treeItems[i];\n                    break;\n                }\n            }\n        }\n        else {\n            data = this.getNestedItems(this.treeItems, this.fields, givenText);\n        }\n        return data;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getNestedItems = function (data, field, givenText) {\n        // eslint-disable-next-line\n        var newData;\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            // eslint-disable-next-line\n            var dataId = getValue(this.fields.text, data[i]);\n            if (data[i] && dataId && dataId.toString() === givenText) {\n                return data[i];\n            }\n            else if (typeof field.child === 'string' && !isNOU(getValue(field.child, data[i]))) {\n                // eslint-disable-next-line\n                var childData = getValue(field.child, data[i]);\n                // eslint-disable-next-line\n                newData = this.getNestedItems(childData, this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', data[i]))) {\n                var child = 'child';\n                // eslint-disable-next-line\n                newData = this.getNestedItems(getValue(child, data[i]), this.getChildType(field), givenText);\n                if (newData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newData;\n    };\n    DropDownTree.prototype.getChildType = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    /* To render the treeview */\n    DropDownTree.prototype.renderTree = function () {\n        this.treeObj = new TreeView({\n            fields: this.getTreeFields(this.fields),\n            enableRtl: this.enableRtl,\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeChecked: this.onNodeChecked.bind(this),\n            nodeChecking: this.beforeCheck.bind(this),\n            actionFailure: this.onActionFailure.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            dataBound: this.OnDataBound.bind(this),\n            allowMultiSelection: this.allowMultiSelection,\n            showCheckBox: this.showCheckBox,\n            autoCheck: this.treeSettings.autoCheck,\n            sortOrder: this.sortOrder,\n            expandOn: this.treeSettings.expandOn,\n            loadOnDemand: this.treeSettings.loadOnDemand,\n            nodeSelecting: this.onBeforeSelect.bind(this),\n            nodeTemplate: this.itemTemplate\n        });\n        this.treeObj.root = this.root ? this.root : this;\n        this.treeObj.appendTo('#' + this.tree.id);\n    };\n    /* To render the popup element */\n    DropDownTree.prototype.renderPopup = function () {\n        var _this = this;\n        if (this.isFilteredData) {\n            this.filterObj.value = '';\n            this.treeObj.fields = this.getTreeFields(this.fields);\n            this.isFilterRestore = true;\n            this.isFilteredData = false;\n            this.hideCheckAll(false);\n        }\n        var isCancelled = false;\n        var args = { cancel: false };\n        this.trigger('beforeOpen', args, function (args) {\n            if (!args.cancel) {\n                addClass([_this.inputWrapper], [ICONANIMATION]);\n                if (_this.isFirstRender) {\n                    _this.popupEle = _this.createElement('div', {\n                        id: _this.element.id + '_popup', className: POPUP_CLASS + ' ' + (_this.cssClass != null ? _this.cssClass : '')\n                    });\n                    document.body.appendChild(_this.popupEle);\n                    _this.createPopup(_this.popupEle);\n                }\n                else {\n                    _this.popupEle = _this.popupObj.element;\n                }\n            }\n            else {\n                isCancelled = true;\n            }\n            if (_this.isFirstRender && !isCancelled) {\n                prepend([_this.popupDiv], _this.popupEle);\n                removeClass([_this.popupDiv], DDTHIDEICON);\n                if (_this.allowFiltering) {\n                    _this.renderFilter();\n                }\n                if (_this.showCheckBox && _this.showSelectAll && (!_this.popupDiv.classList.contains(NODATA))) {\n                    _this.createSelectAllWrapper();\n                    _this.popupEle.insertBefore(_this.checkAllParent, _this.popupDiv);\n                }\n                if (_this.headerTemplate) {\n                    _this.setHeaderTemplate();\n                }\n                if (_this.footerTemplate) {\n                    _this.setFooterTemplate();\n                }\n                _this.isFirstRender = false;\n                /* eslint-disable */\n                if (_this.hasTemplate && _this.portals) {\n                    _this.portals = _this.portals.concat(_this.treeObj.portals);\n                    /* eslint-enable */\n                    _this.renderReactTemplates();\n                }\n            }\n            if (!isCancelled) {\n                attributes(_this.inputWrapper, { 'aria-expanded': 'true' });\n                _this.popupObj.show(null, (_this.zIndex === 1000) ? _this.inputEle : null);\n                removeClass([_this.popupEle], DDTHIDEICON);\n                _this.updatePopupHeight();\n                _this.popupObj.refreshPosition();\n                if (!(_this.showCheckBox && _this.showSelectAll) && (!_this.popupDiv.classList.contains(NODATA)\n                    && _this.treeItems.length > 0)) {\n                    _this.treeObj.element.focus();\n                }\n                if (_this.checkSelectAll && _this.checkBoxElement) {\n                    var wrap = closest(_this.checkBoxElement, '.' + CHECKBOXWRAP);\n                    _this.changeState(wrap, 'check');\n                    _this.checkSelectAll = false;\n                }\n                if (_this.allowFiltering) {\n                    removeClass([_this.inputWrapper], [INPUTFOCUS]);\n                    _this.filterObj.element.focus();\n                }\n                var eventArgs = { popup: _this.popupObj };\n                _this.trigger('open', eventArgs);\n            }\n        });\n    };\n    DropDownTree.prototype.updatePopupHeight = function () {\n        if (this.isFirstRender) {\n            return;\n        }\n        var popupHeight = this.getHeight();\n        this.popupEle.style.maxHeight = popupHeight;\n        if (this.allowFiltering) {\n            var height = Math.round(this.filterContainer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.headerTemplate) {\n            var height = Math.round(this.header.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.showCheckBox && this.showSelectAll) {\n            var height = Math.round(this.checkAllParent.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        if (this.footerTemplate) {\n            var height = Math.round(this.footer.getBoundingClientRect().height);\n            popupHeight = formatUnit(parseInt(popupHeight, 10) - height + 'px');\n        }\n        var border = parseInt(window.getComputedStyle(this.popupEle).borderTopWidth, 10);\n        border = border + parseInt(window.getComputedStyle(this.popupEle).borderBottomWidth, 10);\n        popupHeight = formatUnit(parseInt(popupHeight, 10) - border + 'px');\n        this.popupDiv.style.maxHeight = popupHeight;\n    };\n    DropDownTree.prototype.createPopup = function (element) {\n        var _this = this;\n        if (this.isFirstRender) {\n            this.popupObj = new Popup(element, {\n                width: this.setWidth(),\n                targetType: 'relative',\n                collision: { X: 'flip', Y: 'flip' },\n                relateTo: this.inputWrapper,\n                zIndex: this.zIndex,\n                enableRtl: this.enableRtl,\n                position: { X: 'left', Y: 'bottom' },\n                close: function () {\n                    _this.isPopupOpen = false;\n                },\n                open: function () {\n                    EventHandler.add(document, 'mousedown', _this.onDocumentClick, _this);\n                    _this.isPopupOpen = true;\n                },\n                targetExitViewport: function () {\n                    if (!Browser.isDevice) {\n                        _this.hidePopup();\n                    }\n                }\n            });\n        }\n    };\n    /* To calculate the width when change via set model */\n    DropDownTree.prototype.setElementWidth = function (inputWidth) {\n        var ddElement = this.inputWrapper;\n        if (!isNOU(inputWidth)) {\n            if (typeof inputWidth === 'number') {\n                ddElement.style.width = formatUnit(inputWidth);\n            }\n            else if (typeof inputWidth === 'string') {\n                ddElement.style.width = (inputWidth.match(/px|%|em/)) ? (inputWidth) :\n                    (formatUnit(inputWidth));\n            }\n        }\n    };\n    /* To calculate the width of the popup */\n    DropDownTree.prototype.setWidth = function () {\n        var width = formatUnit(this.popupWidth);\n        if (width.indexOf('%') > -1) {\n            width = (this.inputWrapper.offsetWidth * parseFloat(width) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupWidth === 'string') {\n            width = (this.popupWidth.match(/px|em/)) ? (this.popupWidth) : width;\n        }\n        return width;\n    };\n    /* To calculate the height of the popup */\n    DropDownTree.prototype.getHeight = function () {\n        var height = formatUnit(this.popupHeight);\n        if (height.indexOf('%') > -1) {\n            // Will set the height of the popup according to the view port height\n            height = (document.documentElement.clientHeight * parseFloat(height) / 100).toString() + 'px';\n        }\n        else if (typeof this.popupHeight === 'string') {\n            height = (this.popupHeight.match(/px|em/)) ? (this.popupHeight) : height;\n        }\n        return height;\n    };\n    DropDownTree.prototype.onDocumentClick = function (e) {\n        var target = e.target;\n        var isTree = closest(target, '.' + PARENTITEM);\n        var isFilter = closest(target, '.' + FILTERWRAP);\n        var isHeader = closest(target, '.' + HEADER);\n        var isFooter = closest(target, '.' + FOOTER);\n        var isScroller = target.classList.contains(DROPDOWN) ? true :\n            (matches(target, '.e-ddt .e-popup') || matches(target, '.e-ddt .e-treeview'));\n        if ((this.isPopupOpen && (this.inputWrapper.contains(target) || isTree || isFilter || isScroller || isHeader || isFooter)) ||\n            ((this.allowMultiSelection || this.showCheckBox) && (this.isPopupOpen && target.classList.contains(CHIP_CLOSE) ||\n                (this.isPopupOpen && (target.classList.contains(CHECKALLPARENT) || target.classList.contains(ALLTEXT)\n                    || target.classList.contains(CHECKBOXFRAME)))))) {\n            this.isDocumentClick = false;\n            e.preventDefault();\n        }\n        else if (!this.inputWrapper.contains(target) && this.inputFocus) {\n            this.focusOut(e);\n        }\n    };\n    DropDownTree.prototype.onActionFailure = function (e) {\n        this.trigger('actionFailure', e);\n        this.l10nUpdate(true);\n        addClass([this.popupDiv], NODATA);\n    };\n    DropDownTree.prototype.OnDataBound = function (args) {\n        this.treeItems = args.data;\n        if (this.treeItems.length <= 0) {\n            this.l10nUpdate();\n            addClass([this.popupDiv], NODATA);\n            this.hideCheckAll(true);\n        }\n        else if (this.popupDiv.classList.contains(NODATA) && this.treeItems.length >= 1) {\n            removeClass([this.popupDiv], NODATA);\n            this.hideCheckAll(false);\n        }\n        this.treeDataType = this.getTreeDataType(this.treeItems, this.fields);\n        if (this.isFirstRender && this.isRemoteData) {\n            this.setTreeValue();\n            this.setTreeText();\n            this.updateHiddenValue();\n            this.setSelectedValue();\n            if (!this.wrapText) {\n                this.updateView();\n            }\n            this.treeObj.element.focus();\n        }\n        var eventArgs = { data: args.data };\n        this.trigger('dataBound', eventArgs);\n        if (this.isFilteredData) {\n            this.treeObj.expandAll();\n        }\n        if (this.isFilterRestore) {\n            this.restoreFilterSelection();\n            this.isFilterRestore = false;\n        }\n    };\n    DropDownTree.prototype.restoreFilterSelection = function () {\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = this.value ? this.value : [];\n        }\n        else {\n            this.treeObj.selectedNodes = this.value ? this.value : [];\n        }\n    };\n    /* To set cssclass for the dropdowntree */\n    DropDownTree.prototype.setCssClass = function (newClass, oldClass) {\n        var elements = this.popupObj ? [this.inputWrapper, this.popupObj.element] : [this.inputWrapper];\n        if (!isNOU(oldClass) && oldClass !== '') {\n            removeClass(elements, oldClass.split(' '));\n        }\n        if (!isNOU(newClass) && newClass !== '') {\n            addClass(elements, newClass.split(' '));\n        }\n    };\n    DropDownTree.prototype.setEnableRTL = function (state) {\n        if (state) {\n            this.inputWrapper.classList.add(RTL);\n        }\n        else {\n            this.inputWrapper.classList.remove(RTL);\n        }\n        if (this.popupObj) {\n            this.popupObj.enableRtl = state;\n            this.popupObj.dataBind();\n        }\n        if (this.treeObj) {\n            this.treeObj.enableRtl = state;\n            this.treeObj.dataBind();\n        }\n    };\n    /* To set enable property */\n    DropDownTree.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputEle);\n        if (this.enabled) {\n            removeClass([this.inputWrapper], DISABLED);\n            this.inputEle.setAttribute('aria-disabled', 'false');\n            this.inputWrapper.setAttribute('aria-disabled', 'false');\n        }\n        else {\n            if (this.isPopupOpen) {\n                this.hidePopup();\n            }\n            addClass([this.inputWrapper], DISABLED);\n            if (this.inputWrapper && this.inputWrapper.classList.contains(INPUTFOCUS)) {\n                removeClass([this.inputWrapper], [INPUTFOCUS]);\n            }\n            this.inputEle.setAttribute('aria-disabled', 'true');\n            this.inputWrapper.setAttribute('aria-disabled', 'true');\n        }\n    };\n    DropDownTree.prototype.cloneFields = function (fields) {\n        var clonedField = {\n            dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n            child: this.cloneChildField(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes, query: fields.query,\n            selected: fields.selected, tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return clonedField;\n    };\n    DropDownTree.prototype.cloneChildField = function (fields) {\n        if (typeof fields === 'string') {\n            return fields;\n        }\n        else {\n            var clonedField = {\n                dataSource: fields.dataSource, value: fields.value, text: fields.text, parentValue: fields.parentValue,\n                child: (fields.child ? this.cloneChildField(fields.child) : null), hasChildren: fields.hasChildren,\n                expanded: fields.expanded, iconCss: fields.iconCss, imageUrl: fields.imageUrl, htmlAttributes: fields.htmlAttributes,\n                query: fields.query, selected: fields.selected, tableName: fields.tableName, tooltip: fields.tooltip\n            };\n            return clonedField;\n        }\n    };\n    DropDownTree.prototype.getTreeFields = function (fields) {\n        var treeFields = {\n            dataSource: fields.dataSource, id: fields.value, text: fields.text, parentID: fields.parentValue,\n            child: this.getTreeChildren(fields.child), hasChildren: fields.hasChildren, expanded: fields.expanded,\n            iconCss: fields.iconCss, imageUrl: fields.imageUrl, isChecked: fields.selected,\n            htmlAttributes: fields.htmlAttributes, query: fields.query, selected: fields.selected,\n            tableName: fields.tableName, tooltip: fields.tooltip\n        };\n        return treeFields;\n    };\n    DropDownTree.prototype.getTreeChildren = function (mapper) {\n        if (typeof mapper === 'string') {\n            return mapper;\n        }\n        else if (!isNOU(mapper)) {\n            mapper = this.getActualProperties(mapper);\n            var childFields = mapper;\n            if (mapper.value) {\n                childFields.id = mapper.value;\n            }\n            if (mapper.parentValue) {\n                childFields.parentID = mapper.parentValue;\n            }\n            if (mapper.child) {\n                childFields.child = this.getTreeChildren(mapper.child);\n            }\n            if (mapper.selected && this.showCheckBox) {\n                childFields.isChecked = mapper.selected;\n            }\n            return childFields;\n        }\n        return null;\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getTreeDataType = function (ds, field) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if ((typeof field.child === 'string') && isNOU(getValue(field.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        this.fields.dataSource = isNOU(this.fields.dataSource) ? [] : this.fields.dataSource;\n        for (var i = 0, len = this.fields.dataSource.length; i < len; i++) {\n            if ((typeof field.child === 'string') && !isNOU(getValue(field.child, this.fields.dataSource[i]))) {\n                return 2;\n            }\n            if (!isNOU(getValue(field.parentValue, this.fields.dataSource[i])) || !isNOU(getValue(field.hasChildren, this.fields.dataSource[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    /* Triggers when the tree fields is changed dynamically */\n    DropDownTree.prototype.setFields = function () {\n        this.resetValue();\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        this.treeObj.fields = this.getTreeFields(this.fields);\n        this.treeObj.dataBind();\n    };\n    DropDownTree.prototype.getEventArgs = function (args) {\n        // eslint-disable-next-line\n        var checkData = args.data;\n        // eslint-disable-next-line\n        var selectData = args.nodeData;\n        var state;\n        if (this.showCheckBox) {\n            if (args.action === 'check') {\n                state = 'select';\n            }\n            else if (args.action === 'uncheck') {\n                state = 'un-select';\n            }\n        }\n        var eventArgs = {\n            action: this.showCheckBox ? state : args.action,\n            isInteracted: this.isClicked ? true : args.isInteracted,\n            item: args.node,\n            itemData: this.showCheckBox ? checkData[0] : selectData\n        };\n        return eventArgs;\n    };\n    DropDownTree.prototype.onBeforeSelect = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n            if (this.value === null) {\n                this.setProperties({ value: [] }, true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateHiddenValue = function () {\n        if (this.allowMultiSelection || this.showCheckBox) {\n            return;\n        }\n        if (this.value && this.value.length) {\n            this.hiddenElement.innerHTML = '<option selected value =\"' + this.value[0] + '\">' + this.text + '</option>';\n        }\n        else {\n            this.hiddenElement.innerHTML = '';\n        }\n    };\n    /* Triggers when the tree node is selected */\n    DropDownTree.prototype.onNodeSelected = function (args) {\n        if (this.showCheckBox) {\n            return;\n        }\n        var selectedText;\n        if (args.isInteracted) {\n            var id = getValue('id', args.nodeData).toString();\n            if (!this.allowMultiSelection) {\n                this.hiddenElement.innerHTML = '';\n                this.setProperties({ value: [id] }, true);\n                if (this.itemTemplate) {\n                    selectedText = getValue('text', this.treeObj.getNode(id));\n                }\n                else {\n                    selectedText = getValue('text', args.nodeData).toString();\n                }\n                Input.setValue(selectedText, this.inputEle, this.floatLabelType);\n                this.setProperties({ text: selectedText }, true);\n                this.currentText = this.text;\n                this.currentValue = this.value;\n                attributes(this.inputWrapper, { 'aria-describedby': this.element.id });\n                attributes(this.inputWrapper, { 'aria-activedescendant': id.toString() });\n                this.updateHiddenValue();\n                this.showOverAllClear();\n                this.hidePopup();\n                this.isNodeSelected = true;\n            }\n            else if (this.allowMultiSelection) {\n                this.setMultiSelect();\n            }\n        }\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isValueChange && !this.changeOnBlur) {\n            this.triggerChangeEvent(this.keyEventArgs);\n            this.isValueChange = false;\n        }\n    };\n    DropDownTree.prototype.onNodeClicked = function (args) {\n        if (!this.changeOnBlur && this.isNodeSelected) {\n            this.triggerChangeEvent(args.event);\n            this.isNodeSelected = false;\n        }\n        var target = args.event.target;\n        if ((target.classList.contains('e-fullrow') || target.classList.contains('e-list-text')) && this.showCheckBox) {\n            this.isClicked = true;\n            // eslint-disable-next-line\n            var getNodeDetails = this.treeObj.getNode(args.node);\n            if (getNodeDetails.isChecked === 'true') {\n                this.treeObj.uncheckAll([args.node]);\n            }\n            else {\n                this.treeObj.checkAll([args.node]);\n            }\n            this.isClicked = false;\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (!this.changeOnBlur && (this.allowMultiSelection || this.showCheckBox)) {\n            this.triggerChangeEvent(args.event);\n        }\n    };\n    DropDownTree.prototype.onNodeChecked = function (args) {\n        var eventArgs = this.getEventArgs(args);\n        this.trigger('select', eventArgs);\n        if (this.isFilteredData && args.action === 'uncheck') {\n            var id = getValue('id', args.data[0]).toString();\n            this.removeSelectedData(id, true);\n        }\n        if (!this.isChipDelete && args.isInteracted) {\n            this.setMultiSelect();\n            this.ensurePlaceHolder();\n        }\n        if (this.showSelectAll && this.checkBoxElement) {\n            var nodes = this.treeObj.element.querySelectorAll('li');\n            var checkedNodes = this.treeObj.element.querySelectorAll('li .e-checkbox-wrapper[aria-checked=true]');\n            var wrap = closest(this.checkBoxElement, '.' + CHECKBOXWRAP);\n            if (wrap && args.action === 'uncheck') {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'uncheck');\n                this.isReverseUpdate = false;\n            }\n            else if (wrap && args.action === 'check' && checkedNodes.length === nodes.length) {\n                this.isReverseUpdate = true;\n                this.changeState(wrap, 'check');\n                this.isReverseUpdate = false;\n            }\n        }\n    };\n    DropDownTree.prototype.beforeCheck = function (args) {\n        if (args.isInteracted) {\n            this.oldValue = this.value ? this.value.slice() : this.value;\n        }\n    };\n    DropDownTree.prototype.updateClearButton = function (state) {\n        if (state) {\n            if (!this.inputWrapper.contains(this.overAllClear)) {\n                this.inputEle.parentElement.insertBefore(this.overAllClear, this.inputEle.nextSibling);\n            }\n            else {\n                removeClass([this.overAllClear], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CLEAR);\n            }\n        }\n        else {\n            addClass([this.overAllClear], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_CLEAR);\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            var chipClose = selectAll('.' + CHIP_CLOSE, this.chipWrapper);\n            for (var i = 0; i < chipClose.length; i++) {\n                if (!state) {\n                    addClass([chipClose[i]], HIDEICON);\n                }\n                else {\n                    removeClass([chipClose[i]], HIDEICON);\n                }\n            }\n        }\n    };\n    DropDownTree.prototype.updateDropDownIconState = function (state) {\n        var spinIcon = select('.' + DDTICON, this.inputWrapper);\n        if (state) {\n            if (!spinIcon) {\n                Input.appendSpan(DROPDOWNICON, this.inputWrapper, this.createElement);\n            }\n            else {\n                removeClass([spinIcon], HIDEICON);\n            }\n            addClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n        else {\n            addClass([spinIcon], HIDEICON);\n            removeClass([this.inputWrapper], SHOW_DD_ICON);\n        }\n    };\n    DropDownTree.prototype.updateMode = function () {\n        if (this.mode === 'Custom') {\n            return;\n        }\n        if (this.mode !== 'Delimiter') {\n            if (!this.inputWrapper.contains(this.chipWrapper)) {\n                this.createChip();\n            }\n            var isValid = this.getValidMode();\n            if (this.chipWrapper.classList.contains(HIDEICON) && isValid) {\n                removeClass([this.chipWrapper], HIDEICON);\n                addClass([this.inputWrapper], SHOW_CHIP);\n            }\n            else if (!isValid) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n            var isValue = this.value !== null ? (this.value.length !== 0 ? true : false) : false;\n            if (isValid && isValue) {\n                addClass([this.inputEle], CHIP_INPUT);\n            }\n            else {\n                removeClass([this.inputEle], CHIP_INPUT);\n            }\n        }\n        else if (this.inputEle.classList.contains(CHIP_INPUT)) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n    };\n    DropDownTree.prototype.ensurePlaceHolder = function () {\n        if (this.value && this.value.length === 0) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n            }\n        }\n    };\n    DropDownTree.prototype.ensureClearIconPosition = function (floatLabelType) {\n        if (floatLabelType !== 'Never') {\n            this.inputWrapper.insertBefore(this.overAllClear, this.inputObj.buttons[0]);\n        }\n    };\n    DropDownTree.prototype.setMultiSelectValue = function (newValues) {\n        if (!this.isFilteredData) {\n            this.setProperties({ value: newValues }, true);\n            if (newValues && newValues.length !== 0 && !this.showCheckBox) {\n                this.treeObj.selectedNodes = this.value.slice();\n                this.treeObj.dataBind();\n            }\n        }\n        else {\n            var selectedValues = isNOU(this.value) ? [] : this.value;\n            for (var i = 0; i < newValues.length; i++) {\n                if (isNOU(this.value) || this.value.indexOf(newValues[i]) === -1) {\n                    selectedValues.push(newValues[i]);\n                }\n            }\n            this.setProperties({ value: selectedValues }, true);\n        }\n    };\n    DropDownTree.prototype.setMultiSelect = function () {\n        if (this.showCheckBox && !this.isDynamicChange) {\n            this.setMultiSelectValue(this.treeObj.checkedNodes.slice());\n        }\n        else {\n            var ddtValue = this.allowMultiSelection ? (this.showCheckBox ? this.treeObj.checkedNodes\n                : this.treeObj.selectedNodes) : (this.value ? (this.showCheckBox ? this.value : [this.value[0]]) : null);\n            this.setMultiSelectValue(ddtValue);\n            if (this.showCheckBox && this.value !== null) {\n                this.treeObj.checkedNodes = this.value;\n                this.treeObj.dataBind();\n            }\n        }\n        this.selectedText = [];\n        var checkSelection = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (this.inputWrapper.contains(this.chipWrapper) && !checkSelection) {\n            removeClass([this.inputEle], CHIP_INPUT);\n            detach(this.chipWrapper);\n        }\n        var isValid = this.getValidMode();\n        if (isValid && this.value !== null) {\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.chipWrapper) {\n                removeClass([this.chipWrapper], HIDEICON);\n            }\n        }\n        var isValue = this.value ? (this.value.length ? true : false) : false;\n        if (this.chipWrapper && (this.mode === 'Box' && !isValue)) {\n            addClass([this.chipWrapper], HIDEICON);\n            removeClass([this.inputEle], CHIP_INPUT);\n        }\n        this.updateSelectedValues();\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.getSelectedData = function (value) {\n        // eslint-disable-next-line\n        var data = null;\n        if (this.isFilteredData) {\n            for (var i = 0; i < this.selectedData.length; i++) {\n                if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                    data = this.selectedData[i];\n                    break;\n                }\n            }\n        }\n        if (isNOU(data)) {\n            if (this.treeSettings.loadOnDemand) {\n                data = this.getNodeData(value);\n            }\n            else {\n                data = this.treeObj.getNode(value);\n            }\n            if (!isNOU(data)) {\n                this.selectedData.push(data);\n            }\n        }\n        return data;\n    };\n    DropDownTree.prototype.getNodeData = function (id) {\n        var childItems;\n        if (isNOU(id)) {\n            return childItems;\n        }\n        else if (this.treeDataType === 1) {\n            for (var i = 0, objlen = this.treeItems.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.value, this.treeItems[i]);\n                if (!isNOU(this.treeItems[i]) && !isNOU(dataId) && dataId.toString() === id) {\n                    return this.treeItems[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeData(this.treeItems, this.fields, id);\n        }\n        return childItems;\n    };\n    DropDownTree.prototype.getChildNodeData = function (obj, mapper, id) {\n        var newChildItems;\n        if (isNOU(obj)) {\n            return newChildItems;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataValue = getValue(mapper.value, obj[i]);\n            if (obj[i] && dataValue && dataValue.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNOU(getValue(mapper.child, obj[i]))) {\n                var childNodeData = getValue(mapper.child, obj[i]);\n                newChildItems = this.getChildNodeData(childNodeData, this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNOU(getValue('child', obj[i]))) {\n                var child = 'child';\n                newChildItems = this.getChildNodeData(getValue(child, obj[i]), this.getChildMapperFields(mapper), id);\n                if (newChildItems !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newChildItems;\n    };\n    DropDownTree.prototype.getChildMapperFields = function (mapper) {\n        return (typeof mapper.child === 'string' || isNOU(mapper.child)) ? mapper : mapper.child;\n    };\n    DropDownTree.prototype.removeSelectedData = function (value, muteOnChange) {\n        var selectedValues = isNOU(this.value) ? [] : this.value.slice();\n        selectedValues.splice(selectedValues.indexOf(value), 1);\n        this.setProperties({ value: selectedValues }, muteOnChange);\n        for (var i = 0; i < this.selectedData.length; i++) {\n            if (getValue(this.treeSettings.loadOnDemand ? this.fields.value : 'id', this.selectedData[i]).toString() === value) {\n                this.selectedData.splice(i, 1);\n                break;\n            }\n        }\n    };\n    DropDownTree.prototype.updateSelectedValues = function () {\n        this.dataValue = '';\n        var temp;\n        var text;\n        var textValue = '';\n        // eslint-disable-next-line\n        var selectedData;\n        this.hiddenElement.innerHTML = '';\n        var hiddenInputValue = '';\n        if ((!this.isChipDelete || this.treeSettings.autoCheck) && (this.inputWrapper.contains(this.chipWrapper))) {\n            this.chipCollection.innerHTML = '';\n        }\n        if (!this.isFilteredData) {\n            this.selectedData = [];\n        }\n        if (!isNOU(this.value)) {\n            for (var i = 0, len = this.value.length; i < len; i++) {\n                selectedData = this.getSelectedData(this.value[i]);\n                text = getValue(this.treeSettings.loadOnDemand ? this.fields.text : 'text', selectedData);\n                this.selectedText.push(text);\n                temp = this.selectedText[this.selectedText.length - 1];\n                if (this.selectedText.length > 1) {\n                    this.dataValue += (this.delimiterChar + ' ' + temp);\n                    textValue += (',' + temp);\n                }\n                else {\n                    this.dataValue += temp;\n                    textValue += temp;\n                }\n                if (this.mode !== 'Custom' && this.mode !== 'Delimiter' && (!this.isChipDelete || this.treeSettings.autoCheck) &&\n                    (this.allowMultiSelection || this.showCheckBox)) {\n                    this.setChipValues(temp, this.value[i]);\n                }\n                hiddenInputValue += '<option selected value =\"' + this.value[i] + '\">' +\n                    this.selectedText[this.selectedText.length - 1] + '</option>';\n            }\n            if (this.selectedText.length >= 1) {\n                this.setProperties({ text: textValue }, true);\n            }\n            this.hiddenElement.innerHTML = hiddenInputValue;\n            if (this.mode === 'Custom' && (this.allowMultiSelection || this.showCheckBox)) {\n                this.setTagValues();\n            }\n        }\n        var isValid = this.getValidMode();\n        if (this.mode !== 'Custom' && this.mode !== 'Box' && (this.allowMultiSelection || this.showCheckBox) && !isValid) {\n            if (this.chipWrapper) {\n                addClass([this.chipWrapper], HIDEICON);\n                removeClass([this.inputWrapper], SHOW_CHIP);\n            }\n        }\n        Input.setValue(this.dataValue, this.inputEle, this.floatLabelType);\n        if (textValue === '') {\n            this.setProperties({ text: null }, true);\n        }\n        else {\n            this.setProperties({ text: textValue }, true);\n        }\n        if (this.showClearButton && this.inputFocus) {\n            this.showOverAllClear();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        this.currentText = this.text;\n        this.currentValue = this.value;\n    };\n    DropDownTree.prototype.setChipValues = function (text, value) {\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n            attrs: { 'data-value': value }\n        });\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var chipClose = this.createElement('span', { className: CHIP_CLOSE + ' ' + ICONS });\n        chipContent.innerHTML = text;\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n        if (this.showClearButton) {\n            chip.appendChild(chipClose);\n            EventHandler.add(chipClose, 'mousedown', this.removeChip, this);\n        }\n    };\n    DropDownTree.prototype.setTagValues = function () {\n        if (this.value === null || this.text == null) {\n            return;\n        }\n        if (!this.inputWrapper.contains(this.chipWrapper)) {\n            this.createChip();\n        }\n        if (!this.inputWrapper.classList.contains(SHOW_CHIP)) {\n            addClass([this.inputWrapper], SHOW_CHIP);\n        }\n        var chip = this.createElement('span', {\n            className: CHIP,\n        });\n        if (!this.inputEle.classList.contains(CHIP_INPUT)) {\n            addClass([this.inputEle], CHIP_INPUT);\n        }\n        if (this.chipWrapper.classList.contains(HIDEICON)) {\n            removeClass([this.chipWrapper], HIDEICON);\n        }\n        var chipContent = this.createElement('span', { className: CHIP_CONTENT });\n        var template = this.customTemplate;\n        var templateId = this.customTemplateId;\n        var templatestring = 'customTemplate';\n        var compiledString = this.templateComplier(template);\n        var tempArr = compiledString({ 'value': this.value, 'text': this.text }, this, templatestring, templateId, this.isStringTemplate, undefined, chipContent);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, chipContent);\n        }\n        chip.appendChild(chipContent);\n        this.chipCollection.appendChild(chip);\n    };\n    DropDownTree.prototype.setSelectAllWrapper = function (state) {\n        if (this.isFirstRender) {\n            return;\n        }\n        if (state && !this.popupEle.contains(this.checkAllParent) && this.showCheckBox) {\n            this.createSelectAllWrapper();\n            this.popupEle.insertBefore(this.checkAllParent, this.popupDiv);\n        }\n        else if (this.popupEle.contains(this.checkAllParent)) {\n            detach(this.checkAllParent);\n            this.checkAllParent = null;\n        }\n    };\n    DropDownTree.prototype.setHeaderTemplate = function () {\n        if (this.header) {\n            this.header.innerHTML = '';\n        }\n        else {\n            this.header = this.createElement('div');\n            addClass([this.header], HEADER);\n        }\n        // eslint-disable-next-line\n        var compiledString = this.templateComplier(this.headerTemplate);\n        var tempArr = compiledString({}, this, 'headerTemplate', this.headerTemplateId, this.isStringTemplate, undefined, this.header);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.header);\n        }\n        this.popupEle.insertBefore(this.header, this.checkAllParent ? this.checkAllParent : this.popupDiv);\n    };\n    // eslint-disable-next-line\n    DropDownTree.prototype.templateComplier = function (template) {\n        if (template) {\n            // eslint-disable-next-line\n            var e = void 0;\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        return compile(template);\n    };\n    DropDownTree.prototype.setFooterTemplate = function () {\n        if (this.footer) {\n            this.footer.innerHTML = '';\n        }\n        else {\n            this.footer = this.createElement('div');\n            addClass([this.footer], FOOTER);\n        }\n        // eslint-disable-next-line\n        var compiledString = this.templateComplier(this.footerTemplate);\n        var tempArr = compiledString({}, this, 'footerTemplate', this.footerTemplateId, this.isStringTemplate, undefined, this.footer);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, this.footer);\n        }\n        append([this.footer], this.popupEle);\n    };\n    DropDownTree.prototype.clearAll = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        this.resetValue();\n        this.showOverAllClear();\n        if ((this.allowMultiSelection || this.showCheckBox)) {\n            if (this.popupObj) {\n                this.popupObj.refreshPosition();\n            }\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n        }\n        if (e) {\n            this.isClearButtonClick = true;\n        }\n        if (!this.changeOnBlur) {\n            this.triggerChangeEvent(e);\n        }\n    };\n    DropDownTree.prototype.removeChip = function (e) {\n        if (!this.enabled || this.readonly) {\n            return;\n        }\n        var element = e.target.parentElement;\n        var value = element.getAttribute('data-value');\n        if (this.chipCollection) {\n            if (element) {\n                remove(element);\n            }\n        }\n        this.isChipDelete = true;\n        this.isClearButtonClick = true;\n        this.removeSelectedData(value, true);\n        this.selectedText = [];\n        if (this.allowMultiSelection) {\n            this.treeObj.selectedNodes = this.value.slice();\n            this.updateSelectedValues();\n        }\n        if (this.showCheckBox) {\n            this.treeObj.uncheckAll([value]);\n            this.clearCheckAll();\n            this.setMultiSelect();\n        }\n        this.triggerChangeEvent(e);\n        this.isChipDelete = false;\n        this.ensurePlaceHolder();\n    };\n    DropDownTree.prototype.resetValue = function (isDynamicChange) {\n        if (this.value == [] && this.text == null) {\n            return;\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        if (!isDynamicChange) {\n            this.oldValue = this.value;\n            this.setProperties({ value: [] }, true);\n        }\n        this.dataValue = null;\n        this.setProperties({ text: null }, true);\n        this.selectedData = [];\n        setValue('selectedNodes', [], this.treeObj);\n        this.hiddenElement.innerHTML = '';\n        if (this.showCheckBox) {\n            this.treeObj.checkedNodes = [];\n            this.treeObj.dataBind();\n            this.setMultiSelect();\n            this.clearCheckAll();\n        }\n        if (this.oldValue === null && !isDynamicChange) {\n            this.removeValue = true;\n        }\n        else if (isDynamicChange) {\n            this.triggerChangeEvent();\n        }\n        if ((this.allowMultiSelection || this.showCheckBox) && this.chipWrapper) {\n            this.chipCollection.innerHTML = '';\n            if (!this.wrapText) {\n                this.updateOverflowWrapper(true);\n            }\n            this.ensurePlaceHolder();\n        }\n    };\n    DropDownTree.prototype.clearCheckAll = function () {\n        if (this.showSelectAll && this.value && this.value.length === 0) {\n            this.setLocale(false);\n        }\n    };\n    DropDownTree.prototype.selectAllItems = function (state) {\n        if (this.showCheckBox) {\n            if (state) {\n                this.treeObj.checkAll();\n            }\n            else {\n                this.treeObj.uncheckAll();\n            }\n            this.checkSelectAll = true;\n        }\n        else if (this.allowMultiSelection) {\n            if (!state) {\n                this.treeObj.selectedNodes = [];\n            }\n            else {\n                var li = selectAll('li', this.treeObj.element);\n                var id = void 0;\n                var arr = [];\n                for (var i = 0; i < li.length; i++) {\n                    id = li[i].getAttribute('data-uid').toString();\n                    arr.push(id);\n                }\n                this.treeObj.selectedNodes = arr;\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText) {\n            if (state) {\n                this.updateView();\n            }\n            else {\n                this.updateOverflowWrapper(true);\n            }\n        }\n    };\n    DropDownTree.prototype.updateTreeSettings = function (prop) {\n        var value = Object.keys(prop.treeSettings)[0];\n        if (value === 'autoCheck') {\n            this.ensureAutoCheck();\n            this.treeObj.autoCheck = this.treeSettings.autoCheck;\n        }\n        else if (value === 'loadOnDemand') {\n            this.treeObj.loadOnDemand = this.treeSettings.loadOnDemand;\n        }\n        else if (value === 'expandOn') {\n            this.treeObj.expandOn = this.treeSettings.expandOn;\n            this.treeObj.dataBind();\n            return;\n        }\n        this.treeObj.dataBind();\n        this.setMultiSelect();\n        this.updateValue(this.value);\n    };\n    DropDownTree.prototype.updateCheckBoxState = function (checkBox) {\n        if (this.hasTemplate) {\n            this.updateTemplate();\n        }\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.showCheckBox = checkBox;\n        this.treeObj.dataBind();\n        this.isDynamicChange = true;\n        this.setSelectAllWrapper(this.showSelectAll);\n        if (this.showSelectAll) {\n            this.setLocale();\n        }\n        if (this.showCheckBox) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateTemplate = function () {\n        if (this.popupObj) {\n            this.clearTemplate();\n            /* eslint-disable */\n            this.portals = [];\n            /* eslint-enable */\n            this.popupObj.destroy();\n            if (this.isPopupOpen) {\n                this.hidePopup();\n                this.isFirstRender = true;\n                this.renderPopup();\n            }\n            else {\n                this.isFirstRender = true;\n            }\n        }\n    };\n    DropDownTree.prototype.l10nUpdate = function (actionFailure) {\n        if (this.noRecord) {\n            this.noRecord.innerHTML = '';\n        }\n        else {\n            this.noRecord = this.createElement('div');\n            addClass([this.noRecord], NODATACONTAINER);\n            prepend([this.noRecord], this.popupDiv);\n        }\n        if (this.noRecordsTemplate !== 'No Records Found' || this.actionFailureTemplate !== 'The Request Failed') {\n            var template = actionFailure ? this.actionFailureTemplate : this.noRecordsTemplate;\n            var templateId = actionFailure ? this.actionFailureTemplateId : this.noRecordsTemplateId;\n            var templatestring = actionFailure ? 'actionFailureTemplate' : 'noRecordsTemplate';\n            // eslint-disable-next-line\n            var compiledString = this.templateComplier(template);\n            var tempArr = compiledString({}, this, templatestring, templateId, this.isStringTemplate, undefined, this.noRecord);\n            if (tempArr) {\n                tempArr = Array.prototype.slice.call(tempArr);\n                append(tempArr, this.noRecord);\n            }\n        }\n        else {\n            // eslint-disable-next-line\n            var l10nLocale = { noRecordsTemplate: 'No Records Found', actionFailureTemplate: 'The Request Failed' };\n            this.l10n = new L10n(this.getLocaleName(), l10nLocale, this.locale);\n            this.noRecord.innerHTML = actionFailure ?\n                this.l10n.getConstant('actionFailureTemplate') : this.l10n.getConstant('noRecordsTemplate');\n        }\n    };\n    DropDownTree.prototype.updateRecordTemplate = function (action) {\n        if (this.treeItems && this.treeItems.length <= 0) {\n            this.l10nUpdate(action);\n            if (this.hasTemplate) {\n                this.updateTemplate();\n            }\n        }\n    };\n    DropDownTree.prototype.updateOverflowWrapper = function (state) {\n        if (!state) {\n            if (!this.inputWrapper.contains(this.overFlowWrapper)) {\n                this.overFlowWrapper = this.createElement('span', { className: OVERFLOW_VIEW + ' ' + HIDEICON });\n                this.inputWrapper.insertBefore(this.overFlowWrapper, this.hiddenElement);\n            }\n        }\n        else if (this.inputWrapper.contains(this.overFlowWrapper) && state) {\n            this.overFlowWrapper.innerHTML = '';\n        }\n    };\n    DropDownTree.prototype.updateMultiSelection = function (state) {\n        if (!this.wrapText) {\n            this.updateOverflowWrapper(false);\n        }\n        this.treeObj.allowMultiSelection = state;\n        this.treeObj.dataBind();\n        this.updateOption();\n        if (this.allowMultiSelection) {\n            this.updateMode();\n        }\n        this.setMultiSelect();\n    };\n    DropDownTree.prototype.updateAllowFiltering = function (state) {\n        if (!this.isFirstRender) {\n            if (state) {\n                this.renderFilter();\n            }\n            else {\n                this.destroyFilter();\n            }\n        }\n        this.ensureAutoCheck();\n    };\n    DropDownTree.prototype.updateFilterPlaceHolder = function () {\n        if (this.filterObj) {\n            this.filterObj.placeholder = this.filterBarPlaceholder;\n            this.filterObj.element.setAttribute('aria-label', this.filterBarPlaceholder);\n        }\n    };\n    DropDownTree.prototype.updateValue = function (value) {\n        this.isDynamicChange = true;\n        if (isNOU(value) || value.length === 0) {\n            this.resetValue(true);\n        }\n        else {\n            this.setTreeValue();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n        this.isDynamicChange = false;\n    };\n    DropDownTree.prototype.updateText = function (text) {\n        if (isNOU(text)) {\n            this.resetValue();\n        }\n        else {\n            this.setTreeText();\n            if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                this.updateOverflowWrapper(false);\n                this.updateView();\n            }\n        }\n        this.updateHiddenValue();\n    };\n    DropDownTree.prototype.updateModelMode = function () {\n        var validMode = this.allowMultiSelection ? true : (this.showCheckBox ? true : false);\n        if (!validMode) {\n            return;\n        }\n        if (!this.wrapText) {\n            var overFlow = select('.' + OVERFLOW_VIEW, this.inputWrapper);\n            if (overFlow) {\n                overFlow.innerHTML = '';\n            }\n        }\n        this.updateMode();\n        this.setMultiSelect();\n        if (!this.wrapText && (this.value && this.value.length !== 0)) {\n            this.updateOverFlowView();\n            addClass([this.inputEle], CHIP_INPUT);\n            if (this.mode === 'Box') {\n                removeClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n            else {\n                addClass([this.overFlowWrapper, this.inputWrapper], SHOW_TEXT);\n            }\n        }\n    };\n    DropDownTree.prototype.updateOption = function () {\n        if (!this.hiddenElement.hasAttribute('multiple') && (this.allowMultiSelection || this.showCheckBox)) {\n            this.hiddenElement.setAttribute('multiple', '');\n        }\n        else if (this.hiddenElement.hasAttribute('multiple') && (!this.allowMultiSelection && !this.showCheckBox)) {\n            this.hiddenElement.removeAttribute('multiple');\n        }\n    };\n    /**\n     * Dynamically change the value of properties.\n     *\n     * @param {DropDownTreeModel} newProp - specifies the newProp value.\n     * @param {DropDownTreeModel} oldProp - specifies the newProp value.\n     * @returns {void}\n     * @private\n     */\n    DropDownTree.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    this.setElementWidth(newProp.width);\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputEle);\n                    break;\n                case 'cssClass':\n                    this.setCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL(this.enableRtl);\n                    break;\n                case 'fields':\n                    this.setFields();\n                    break;\n                case 'readonly':\n                    Input.setReadonly(newProp.readonly, this.inputEle);\n                    break;\n                case 'enabled':\n                    this.setEnable();\n                    break;\n                case 'floatLabelType':\n                    Input.removeFloating(this.inputObj);\n                    Input.addFloating(this.inputEle, newProp.floatLabelType, this.placeholder, this.createElement);\n                    this.ensureClearIconPosition(newProp.floatLabelType);\n                    break;\n                case 'showClearButton':\n                    this.updateClearButton(newProp.showClearButton);\n                    break;\n                case 'allowFiltering':\n                    this.updateAllowFiltering(newProp.allowFiltering);\n                    break;\n                case 'filterBarPlaceholder':\n                    this.updateFilterPlaceHolder();\n                    break;\n                case 'value':\n                    this.oldValue = oldProp.value;\n                    this.updateValue(newProp.value);\n                    break;\n                case 'text':\n                    this.updateText(newProp.text);\n                    break;\n                case 'allowMultiSelection':\n                    this.updateMultiSelection(newProp.allowMultiSelection);\n                    break;\n                case 'mode':\n                    if (!this.showCheckBox && !this.allowMultiSelection) {\n                        return;\n                    }\n                    if (this.mode === 'Custom') {\n                        if (this.overFlowWrapper) {\n                            detach(this.overFlowWrapper);\n                        }\n                        if (this.chipWrapper) {\n                            detach(this.chipWrapper);\n                        }\n                        this.setTagValues();\n                    }\n                    else {\n                        if (oldProp.mode === 'Custom') {\n                            this.updateOverflowWrapper(this.wrapText);\n                        }\n                        this.updateModelMode();\n                    }\n                    break;\n                case 'delimiterChar':\n                    if (this.mode === 'Box') {\n                        return;\n                    }\n                    if (this.showCheckBox || this.allowMultiSelection) {\n                        this.setMultiSelect();\n                    }\n                    break;\n                case 'selectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale();\n                    }\n                    break;\n                case 'unSelectAllText':\n                    if (this.showCheckBox && this.showSelectAll) {\n                        this.setLocale(false);\n                    }\n                    break;\n                case 'showSelectAll':\n                    if (this.showCheckBox) {\n                        this.setSelectAllWrapper(newProp.showSelectAll);\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'showCheckBox':\n                    this.updateCheckBoxState(newProp.showCheckBox);\n                    if (!this.wrapText) {\n                        this.updateOverflowWrapper(true);\n                    }\n                    this.updatePopupHeight();\n                    this.updateOption();\n                    break;\n                case 'treeSettings':\n                    this.updateTreeSettings(newProp);\n                    break;\n                case 'customTemplate':\n                    if (this.mode !== \"Custom\") {\n                        return;\n                    }\n                    this.chipCollection.innerHTML = \"\";\n                    this.setTagValues();\n                    break;\n                case 'sortOrder':\n                    if (this.hasTemplate) {\n                        this.updateTemplate();\n                    }\n                    this.treeObj.sortOrder = newProp.sortOrder;\n                    this.treeObj.dataBind();\n                    this.updateValue(this.value);\n                    break;\n                case 'showDropDownIcon':\n                    this.updateDropDownIconState(newProp.showDropDownIcon);\n                    break;\n                case 'popupWidth':\n                    if (this.popupObj) {\n                        this.popupObj.element.style.width = this.setWidth();\n                    }\n                    break;\n                case 'popupHeight':\n                    if (this.popupObj) {\n                        this.updatePopupHeight();\n                    }\n                    break;\n                case 'zIndex':\n                    if (this.popupObj) {\n                        this.popupObj.zIndex = newProp.zIndex;\n                        this.popupObj.dataBind();\n                    }\n                    break;\n                case 'headerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'footerTemplate':\n                    this.updateTemplate();\n                    break;\n                case 'itemTemplate':\n                    this.updateTemplate();\n                    this.treeObj.nodeTemplate = newProp.itemTemplate;\n                    this.treeObj.dataBind();\n                    break;\n                case 'noRecordsTemplate':\n                    this.updateRecordTemplate();\n                    break;\n                case 'actionFailureTemplate':\n                    this.updateRecordTemplate(true);\n                    break;\n                case 'htmlAttributes':\n                    this.setHTMLAttributes();\n                    break;\n                case 'wrapText':\n                    this.updateOverflowWrapper(this.wrapText);\n                    if ((this.allowMultiSelection || this.showCheckBox) && !this.wrapText) {\n                        this.updateView();\n                    }\n                    else {\n                        addClass([this.overFlowWrapper], HIDEICON);\n                        if (this.chipWrapper && this.mode === 'Box') {\n                            removeClass([this.chipWrapper], HIDEICON);\n                        }\n                        else {\n                            removeClass([this.inputWrapper], SHOW_CHIP);\n                            removeClass([this.inputEle], CHIP_INPUT);\n                        }\n                        this.ensurePlaceHolder();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Allows you to clear the selected values from the Dropdown Tree component.\n     *\n     * @method clear\n     * @returns {void}\n     */\n    DropDownTree.prototype.clear = function () {\n        this.clearAll();\n        if (this.inputFocus) {\n            this.onFocusOut();\n        }\n        else {\n            if (this.changeOnBlur) {\n                this.triggerChangeEvent();\n            }\n            this.removeValue = false;\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     *\n     * @method destroy\n     * @returns {void}\n     */\n    DropDownTree.prototype.destroy = function () {\n        this.clearTemplate();\n        this.unWireEvents();\n        this.setCssClass(null, this.cssClass);\n        this.setProperties({ value: [] }, true);\n        this.setProperties({ text: null }, true);\n        this.treeObj.destroy();\n        this.destroyFilter();\n        if (this.popupObj) {\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n        if (this.element.tagName !== this.getDirective()) {\n            this.inputWrapper.parentElement.insertBefore(this.element, this.inputWrapper);\n        }\n        Input.setValue(null, this.inputEle, this.floatLabelType);\n        detach(this.inputWrapper);\n        detach(this.popupDiv);\n        this.element.classList.remove('e-input');\n        if (this.showCheckBox || this.allowMultiSelection) {\n            this.element.classList.remove(CHIP_INPUT);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    DropDownTree.prototype.destroyFilter = function () {\n        if (this.filterObj) {\n            this.filterObj.destroy();\n            detach(this.filterObj.element);\n            detach(this.filterContainer);\n            this.filterObj = null;\n        }\n    };\n    /**\n     * Ensures visibility of the Dropdown Tree item by using item value or item element.\n     * If many Dropdown Tree items are present, and we are in need to find a particular item, then the `ensureVisible` property\n     * helps you to bring the item to visibility by expanding the Dropdown Tree and scrolling to the specific item.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element.\n     * @returns {void}\n     */\n    DropDownTree.prototype.ensureVisible = function (item) {\n        this.treeObj.ensureVisible(item);\n    };\n    /**\n     * To get the updated data source of the Dropdown Tree.\n     *\n     * @param  {string | Element} item - Specifies the value of Dropdown Tree item/ Dropdown Tree item element\n     * @returns {'{[key: string]: Object }[]'} - returns the updated data source of the Dropdown Tree.\n     */\n    // eslint-disable-next-line\n    DropDownTree.prototype.getData = function (item) {\n        return this.treeObj.getTreeData(item);\n    };\n    /**\n     * Close the Dropdown tree pop-up.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.hidePopup = function () {\n        var eventArgs = { popup: this.popupObj };\n        this.inputWrapper.classList.remove(ICONANIMATION);\n        if (this.popupEle) {\n            addClass([this.popupEle], DDTHIDEICON);\n        }\n        attributes(this.inputWrapper, { 'aria-expanded': 'false' });\n        if (this.popupObj && this.isPopupOpen) {\n            this.popupObj.hide();\n            if (this.inputFocus) {\n                this.inputWrapper.focus();\n                if (this.allowFiltering) {\n                    addClass([this.inputWrapper], [INPUTFOCUS]);\n                }\n            }\n            this.trigger('close', eventArgs);\n        }\n    };\n    /**\n     * Based on the state parameter, entire list item will be selected or deselected.\n     *\n     * @param {boolean} state - Unselects/Selects entire Dropdown Tree items.\n     * @returns {void}\n     *\n     */\n    DropDownTree.prototype.selectAll = function (state) {\n        this.selectAllItems(state);\n    };\n    /**\n     * Opens the popup that displays the Dropdown Tree items.\n     *\n     * @returns {void}\n     */\n    DropDownTree.prototype.showPopup = function () {\n        if (!this.enabled || this.readonly || this.isPopupOpen) {\n            return;\n        }\n        this.renderPopup();\n        this.focusIn();\n    };\n    /**\n     * Return the module name.\n     *\n     * @private\n     * @returns {string} - returns the module name.\n     */\n    DropDownTree.prototype.getModuleName = function () {\n        return 'dropdowntree';\n    };\n    __decorate([\n        Property('The Request Failed')\n    ], DropDownTree.prototype, \"actionFailureTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"allowMultiSelection\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"changeOnBlur\", void 0);\n    __decorate([\n        Property('')\n    ], DropDownTree.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(\"${value.length} item(s) selected\")\n    ], DropDownTree.prototype, \"customTemplate\", void 0);\n    __decorate([\n        Property(',')\n    ], DropDownTree.prototype, \"delimiterChar\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"enabled\", void 0);\n    __decorate([\n        Complex({}, Fields)\n    ], DropDownTree.prototype, \"fields\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"filterBarPlaceholder\", void 0);\n    __decorate([\n        Property('StartsWith')\n    ], DropDownTree.prototype, \"filterType\", void 0);\n    __decorate([\n        Property('Never')\n    ], DropDownTree.prototype, \"floatLabelType\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"headerTemplate\", void 0);\n    __decorate([\n        Property({})\n    ], DropDownTree.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('Default')\n    ], DropDownTree.prototype, \"mode\", void 0);\n    __decorate([\n        Property('No Records Found')\n    ], DropDownTree.prototype, \"noRecordsTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"placeholder\", void 0);\n    __decorate([\n        Property('300px')\n    ], DropDownTree.prototype, \"popupHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"popupWidth\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"readonly\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showSelectAll\", void 0);\n    __decorate([\n        Property('Select All')\n    ], DropDownTree.prototype, \"selectAllText\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"showCheckBox\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showClearButton\", void 0);\n    __decorate([\n        Property(true)\n    ], DropDownTree.prototype, \"showDropDownIcon\", void 0);\n    __decorate([\n        Property('None')\n    ], DropDownTree.prototype, \"sortOrder\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, TreeSettings)\n    ], DropDownTree.prototype, \"treeSettings\", void 0);\n    __decorate([\n        Property('Unselect All')\n    ], DropDownTree.prototype, \"unSelectAllText\", void 0);\n    __decorate([\n        Property(null)\n    ], DropDownTree.prototype, \"value\", void 0);\n    __decorate([\n        Property('100%')\n    ], DropDownTree.prototype, \"width\", void 0);\n    __decorate([\n        Property(1000)\n    ], DropDownTree.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], DropDownTree.prototype, \"wrapText\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"change\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"blur\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"filtering\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"focus\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"keyPress\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], DropDownTree.prototype, \"select\", void 0);\n    DropDownTree = __decorate([\n        NotifyPropertyChanges\n    ], DropDownTree);\n    return DropDownTree;\n}(Component));\nexport { DropDownTree };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}