{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\n\nvar ButtonProps =\n/** @class */\nfunction (_super) {\n  __extends(ButtonProps, _super);\n\n  function ButtonProps() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property(true)], ButtonProps.prototype, \"isFlat\", void 0);\n\n  __decorate([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n\n  __decorate([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n\n  __decorate([Event()], ButtonProps.prototype, \"click\", void 0);\n\n  return ButtonProps;\n}(ChildProperty);\n\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\n\nvar AnimationSettings =\n/** @class */\nfunction (_super) {\n  __extends(AnimationSettings, _super);\n\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n\n  return AnimationSettings;\n}(ChildProperty);\n\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\n\nvar Dialog =\n/** @class */\nfunction (_super) {\n  __extends(Dialog, _super);\n  /*\n   * * Constructor for creating the widget\n   *\n   * @param\n   * @param\n   * @hidden\n   */\n\n\n  function Dialog(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   *Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.render = function () {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = formatUnit(this.minHeight);\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n\n    this.renderComplete();\n  };\n\n  Dialog.prototype.initializeValue = function () {\n    this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n  };\n  /**\n   *Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.preRender = function () {\n    var _this = this;\n\n    this.initializeValue();\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    this.clonedEle = this.element.cloneNode(true);\n\n    this.closeIconClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n\n      _this.hide(event);\n    }; // eslint-disable-next-line\n\n\n    this.dlgOverlayClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n      event.preventFocus = false;\n\n      _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n        if (!overlayClickEventArgs.preventFocus) {\n          _this.focusContent();\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }; // eslint-disable-next-line\n\n\n    var localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n\n    if (isNullOrUndefined(this.target)) {\n      var prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  };\n\n  Dialog.prototype.isNumberValue = function (value) {\n    var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  };\n\n  Dialog.prototype.checkPositionData = function () {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        var isNumber = this.isNumberValue(this.position.X);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        var isNumber = this.isNumberValue(this.position.Y);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  };\n\n  Dialog.prototype.getEle = function (list, selector) {\n    var element = undefined;\n\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n\n    return element;\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.getMinHeight = function () {\n    var computedHeaderHeight = '0px';\n    var computedFooterHeight = '0px';\n\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n\n    var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n\n    var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n    return headerHeight + 30 + footerHeight;\n  };\n\n  Dialog.prototype.onResizeStart = function (args, dialogObj) {\n    dialogObj.trigger('resizeStart', args);\n    return args.cancel;\n  };\n\n  Dialog.prototype.onResizing = function (args, dialogObj) {\n    dialogObj.trigger('resizing', args);\n  };\n\n  Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n    dialogObj.trigger('resizeStop', args);\n  };\n\n  Dialog.prototype.setResize = function () {\n    if (this.enableResize) {\n      if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n\n      this.element.classList.add(DLG_RESIZABLE);\n      var computedHeight = getComputedStyle(this.element).minHeight;\n      var computedWidth = getComputedStyle(this.element).minWidth;\n      var direction = '';\n\n      for (var i = 0; i < this.resizeHandles.length; i++) {\n        if (this.resizeHandles[i] === 'All') {\n          direction = 'south north east west north-east north-west south-east south-west';\n          break;\n        } else {\n          var directionValue = '';\n\n          switch (this.resizeHandles[i].toString()) {\n            case 'SouthEast':\n              directionValue = 'south-east';\n              break;\n\n            case 'SouthWest':\n              directionValue = 'south-west';\n              break;\n\n            case 'NorthEast':\n              directionValue = 'north-east';\n              break;\n\n            case 'NorthWest':\n              directionValue = 'north-west';\n              break;\n\n            default:\n              directionValue = this.resizeHandles[i].toString();\n              break;\n          }\n\n          direction += directionValue.toLocaleLowerCase() + ' ';\n        }\n      }\n\n      if (this.enableRtl && direction.trim() === 'south-east') {\n        direction = 'south-west';\n      } else if (this.enableRtl && direction.trim() === 'south-west') {\n        direction = 'south-east';\n      }\n\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this),\n        proxy: this\n      });\n      this.wireWindowResizeEvent();\n    } else {\n      removeResize();\n      this.unWireWindowResizeEvent();\n\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  };\n\n  Dialog.prototype.getFocusElement = function (target) {\n    var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n    var items = target.querySelectorAll(value);\n    return {\n      element: items[items.length - 1]\n    };\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.keyDown = function (event) {\n    var _this = this;\n\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        var buttonObj = void 0;\n\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n\n        if (isNullOrUndefined(this.btnObj) && !isNullOrUndefined(this.ftrTemplateContent)) {\n          buttonObj = this.getFocusElement(this.ftrTemplateContent);\n        }\n\n        if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n          buttonObj = this.getFocusElement(this.contentEle);\n        }\n\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n\n    var element = document.activeElement;\n    var isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    var isContentEdit = false;\n\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.dlgClosedBy = DLG_ESCAPE_CLOSED; // 'document.querySelector' is used to find the elements rendered based on body\n\n      if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n        this.hide(event);\n      }\n    }\n\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      var buttonIndex_1; // eslint-disable-next-line\n\n      var firstPrimary = this.buttons.some(function (data, index) {\n        buttonIndex_1 = index; // eslint-disable-next-line\n\n        var buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n\n      if (firstPrimary && typeof this.buttons[buttonIndex_1].click === 'function') {\n        setTimeout(function () {\n          _this.buttons[buttonIndex_1].click.call(_this, event);\n        });\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initialize = function () {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], ROOT);\n    }\n\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setCSSClass();\n    }\n\n    this.setMaxHeight();\n  };\n  /**\n   * Initialize the rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initRender = function () {\n    var _this = this;\n\n    this.initialRender = true;\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n      this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setTargetContent();\n\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n\n      this.renderCloseIcon();\n      this.setContent();\n\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n\n      for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n        if (childNodes[i].classList.contains('e-dlg-overlay')) {\n          this.dlgOverlay = childNodes[i];\n        }\n      }\n    }\n\n    if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true && !isNullOrUndefined(this.element.parentElement)) {\n      var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n      this.refElement = this.createElement('div', {\n        className: DLG_REF_ELEMENT\n      });\n      parentEle.insertBefore(this.refElement, this.isModal ? this.dlgContainer : this.element);\n    }\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      // eslint-disable-next-line\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      enableRtl: this.enableRtl,\n      // eslint-disable-next-line\n      open: function (event) {\n        // eslint-disable-next-line\n        var eventArgs = {\n          container: _this.isModal ? _this.dlgContainer : _this.element,\n          element: _this.element,\n          target: _this.target,\n          preventFocus: false\n        };\n\n        if (_this.enableResize) {\n          _this.resetResizeIcon();\n        } // eslint-disable-next-line\n\n\n        _this.trigger('open', eventArgs, function (openEventArgs) {\n          if (!openEventArgs.preventFocus) {\n            _this.focusContent();\n          }\n        });\n      },\n      // eslint-disable-next-line\n      close: function (event) {\n        if (_this.isModal) {\n          addClass([_this.dlgOverlay], 'e-fade');\n        }\n\n        _this.unBindEvent(_this.element);\n\n        if (_this.isModal) {\n          _this.dlgContainer.style.display = 'none';\n        }\n\n        _this.trigger('close', _this.closeArgs);\n\n        var activeEle = document.activeElement;\n\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n\n        if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n          _this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], DLG_HIDE);\n\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n\n    if (this.visible) {\n      this.show();\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n\n    this.initialRender = false;\n  };\n\n  Dialog.prototype.resetResizeIcon = function () {\n    var dialogConHeight = this.getMinHeight();\n\n    if (this.targetEle.offsetHeight < dialogConHeight) {\n      var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n      var resizeIcon = this.element.querySelector('.' + className);\n\n      if (!isNullOrUndefined(resizeIcon)) {\n        resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n      }\n    }\n  };\n\n  Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n    var zIndex;\n\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  };\n\n  Dialog.prototype.positionChange = function () {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  };\n\n  Dialog.prototype.setPopupPosition = function () {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  };\n\n  Dialog.prototype.setAllowDragging = function () {\n    var _this = this;\n\n    var handleContent = '.' + DLG_HEADER_CONTENT;\n\n    if (!this.element.classList.contains(DLG_DRAG)) {\n      this.dragObj = new Draggable(this.element, {\n        clone: false,\n        isDragScroll: true,\n        abort: '.e-dlg-closeicon-btn',\n        handle: handleContent,\n        // eslint-disable-next-line\n        dragStart: function (event) {\n          // eslint-disable-next-line\n          _this.trigger('dragStart', event, function (dragEventArgs) {\n            if (isBlazor()) {\n              dragEventArgs.bindEvents(event.dragElement);\n            }\n          });\n        },\n        // eslint-disable-next-line\n        dragStop: function (event) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.position)) {\n              _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n            } // Reset the dialog position after drag completion.\n\n\n            _this.element.style.position = 'relative';\n          }\n\n          _this.trigger('dragStop', event);\n\n          _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n        },\n        // eslint-disable-next-line\n        drag: function (event) {\n          _this.trigger('drag', event);\n        }\n      });\n\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.dragObj.dragArea = this.targetEle;\n      }\n    }\n  };\n\n  Dialog.prototype.setButton = function () {\n    if (!this.isBlazorServerRender()) {\n      this.buttonContent = [];\n      this.btnObj = []; // eslint-disable-next-line\n\n      var primaryBtnFlag = true;\n\n      for (var i = 0; i < this.buttons.length; i++) {\n        var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        var btn = this.createElement('button', {\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n\n      this.setFooterTemplate();\n    }\n\n    var footerBtn;\n\n    for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n      if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n        footerBtn = childNodes[i].querySelectorAll('button');\n      }\n    }\n\n    for (var i = 0; i < this.buttons.length; i++) {\n      if (!this.isBlazorServerRender()) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n\n      if (this.isBlazorServerRender()) {\n        this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n      }\n\n      if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n        }\n\n        if (typeof this.buttons[i].click === 'object') {\n          EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n        }\n      }\n\n      if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n\n        if (this.buttons[i].isFlat) {\n          this.btnObj[i].element.classList.add('e-flat');\n        }\n\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  };\n\n  Dialog.prototype.buttonClickHandler = function (index) {\n    this.trigger('buttons[' + index + '].click', {});\n  };\n\n  Dialog.prototype.setContent = function () {\n    attributes(this.element, {\n      'aria-describedby': this.element.id + '_dialog-content'\n    });\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      // eslint-disable-next-line\n      var blazorContain = Object.keys(window);\n\n      if (typeof this.content === 'string' && !isBlazor()) {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      }\n    }\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n\n    if (this.height === 'auto') {\n      if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n        this.element.style.width = formatUnit(this.width);\n      }\n\n      this.setMaxHeight();\n    }\n  };\n\n  Dialog.prototype.setTemplate = function (template, toElement, prop) {\n    // eslint-disable-next-line\n    var templateFn;\n    var templateProps; // eslint-disable-next-line\n\n    var blazorContain = Object.keys(window);\n\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n\n    var templateValue;\n\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template === 'string' || typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      if (typeof template === 'string') {\n        template = this.sanitizeHelper(template);\n      }\n\n      if (this.isVue || typeof template !== 'string') {\n        templateFn = compile(template);\n        templateValue = template;\n      } else {\n        toElement.innerHTML = template;\n      }\n    }\n\n    var fromElements = [];\n\n    if (!isNullOrUndefined(templateFn)) {\n      var isString = isBlazor() && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n\n      for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n        var item = _a[_i];\n        fromElements.push(item);\n      }\n\n      append([].slice.call(fromElements), toElement);\n    }\n  };\n  /*\n   * @returns {void}\n   * @hidden\n   * @value\n   */\n\n\n  Dialog.prototype.sanitizeHelper = function (value) {\n    if (this.enableHtmlSanitizer) {\n      var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n      var beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(dialogItem, dialogItem, beforeEvent);\n      this.trigger('beforeSanitizeHtml', dialogItem);\n\n      if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n        value = dialogItem.helper(value);\n      } else if (!dialogItem.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n      }\n    }\n\n    return value;\n  };\n\n  Dialog.prototype.setMaxHeight = function () {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n\n    var display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n\n    if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle) && this.element.offsetHeight < this.contentEle.offsetHeight) {\n      this.element.style.height = 'inherit';\n    }\n  };\n\n  Dialog.prototype.setEnableRTL = function () {\n    if (!this.isBlazorServerRender()) {\n      // eslint-disable-next-line\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.setTargetContent = function () {\n    var _this = this;\n\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(function (el) {\n          if (el.nodeType !== 8) {\n            _this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  };\n\n  Dialog.prototype.setHeader = function () {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n\n    this.createHeaderContent();\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle, 'header');\n    attributes(this.element, {\n      'aria-labelledby': this.element.id\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n  };\n\n  Dialog.prototype.setFooterTemplate = function () {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n\n    this.element.appendChild(this.ftrTemplateContent);\n  };\n\n  Dialog.prototype.createHeaderContent = function () {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        id: this.element.id + '_dialog-header',\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  };\n\n  Dialog.prototype.renderCloseIcon = function () {\n    if (this.showCloseIcon) {\n      this.closeIcon = this.createElement('button', {\n        className: DLG_CLOSE_ICON_BTN,\n        attrs: {\n          type: 'button'\n        }\n      });\n      this.closeIconBtnObj = new Button({\n        cssClass: 'e-flat',\n        iconCss: DLG_CLOSE_ICON + ' ' + ICON\n      });\n      this.closeIconTitle();\n\n      if (!isNullOrUndefined(this.headerContent)) {\n        prepend([this.closeIcon], this.headerContent);\n      } else {\n        this.createHeaderContent();\n        prepend([this.closeIcon], this.headerContent);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n      }\n\n      this.closeIconBtnObj.appendTo(this.closeIcon);\n    }\n  };\n\n  Dialog.prototype.closeIconTitle = function () {\n    this.l10n.setLocale(this.locale);\n    var closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  };\n\n  Dialog.prototype.setCSSClass = function (oldCSSClass) {\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n    }\n  };\n\n  Dialog.prototype.setIsModal = function () {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  };\n\n  Dialog.prototype.getValidFocusNode = function (items) {\n    var node;\n\n    for (var u = 0; u < items.length; u++) {\n      node = items[u];\n\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      } else {\n        node = null;\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.focusableElements = function (content) {\n    if (!isNullOrUndefined(content)) {\n      var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      var items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.getAutoFocusNode = function (container) {\n    var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    var value = '[autofocus]';\n    var items = container.querySelectorAll(value);\n    var validNode = this.getValidFocusNode(items);\n\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.disableElement = function (element, t) {\n    // eslint-disable-next-line\n    var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.focusContent = function () {\n    var element = this.getAutoFocusNode(this.element);\n    var node = !isNullOrUndefined(element) ? element : this.element;\n    var userAgent = Browser.userAgent;\n\n    if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n      this.element.focus();\n    }\n\n    node.focus();\n    this.bindEvent(this.element);\n  };\n\n  Dialog.prototype.bindEvent = function (element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  };\n\n  Dialog.prototype.unBindEvent = function (element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  };\n\n  Dialog.prototype.updateSanitizeContent = function () {\n    if (!this.isBlazorServerRender()) {\n      this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n    }\n  };\n\n  Dialog.prototype.isBlazorServerRender = function () {\n    return isBlazor() && this.isServerRendered;\n  };\n  /**\n   * Module required function\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getModuleName = function () {\n    return 'dialog';\n  };\n  /**\n   * Called internally if any of the property value changed\n   *\n   * @param {DialogModel} newProp - specifies the new property\n   * @param {DialogModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (this.isBlazorServerRender()) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!this.isBlazorServerRender()) {\n                this.contentEle.innerHTML = '';\n              } // eslint-disable-next-line\n\n\n              if (typeof this.content === 'function') {\n                this.clearTemplate(['content']);\n                detach(this.contentEle);\n                this.contentEle = null;\n                this.setContent();\n              } else {\n                typeof this.content === 'string' ? this.isBlazorServerRender() && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n              }\n\n              this.setMaxHeight();\n            } else {\n              if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n\n          break;\n\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n\n          break;\n\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n\n            this.buttons = [{}];\n          }\n\n          break;\n\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (this.isBlazorServerRender()) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!this.isBlazorServerRender()) {\n              this.renderCloseIcon();\n            }\n\n            this.wireEvents();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n\n          break;\n\n        case 'visible':\n          // eslint-disable-next-line\n          this.visible ? this.show() : this.hide();\n          break;\n\n        case 'isModal':\n          this.updateIsModal();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'buttons':\n          {\n            var buttonCount = this.buttons.length;\n\n            if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n              detach(this.ftrTemplateContent);\n              this.ftrTemplateContent = null;\n            }\n\n            for (var i = 0; i < buttonCount; i++) {\n              if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                this.footerTemplate = '';\n                this.setButton();\n              }\n            }\n\n            break;\n          }\n\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n\n          break;\n\n        case 'target':\n          this.setTarget(newProp.target);\n          break;\n\n        case 'position':\n          this.checkPositionData();\n\n          if (this.isModal) {\n            var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n            var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n\n          this.positionChange();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n\n        case 'enableResize':\n          this.setResize();\n          break;\n\n        case 'minHeight':\n          if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n          }\n\n          break;\n      }\n    }\n  };\n\n  Dialog.prototype.setTarget = function (target) {\n    this.popupObj.relateTo = target;\n    this.target = target;\n    this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n\n    if (this.dragObj) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n\n    this.setMaxHeight();\n\n    if (this.isModal) {\n      this.updateIsModal();\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.updateIsModal = function () {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n\n    if (this.isModal) {\n      if (isNullOrUndefined(this.dlgOverlay)) {\n        this.setIsModal();\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n\n        if (!isNullOrUndefined(this.targetEle)) {\n          this.targetEle.appendChild(this.dlgContainer);\n        }\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      detach(this.dlgOverlay);\n\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n\n    if (this.visible) {\n      this.show();\n    }\n\n    this.positionChange();\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n\n  Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    this.zIndex = getZindexPartial(zIndexElement);\n    this.isProtectedOnChange = prevOnChange;\n\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  };\n\n  Dialog.prototype.windowResizeHandler = function () {\n    setMaxWidth(this.targetEle.clientWidth);\n    setMaxHeight(this.targetEle.clientHeight);\n    this.setMaxHeight();\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the widget\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n    var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n    removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n\n    if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n    }\n\n    if (this.isModal) {\n      removeClass([!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body], SCROLL_DISABLED);\n    }\n\n    this.unWireEvents();\n\n    if (!isNullOrUndefined(this.btnObj)) {\n      for (var i = 0; i < this.btnObj.length; i++) {\n        this.btnObj[i].destroy();\n      }\n    }\n\n    if (!isNullOrUndefined(this.dragObj)) {\n      this.dragObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], classArray);\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n      this.refElement.parentElement.insertBefore(this.isModal ? this.dlgContainer : this.element, this.refElement);\n      detach(this.refElement);\n      this.refElement = undefined;\n    }\n\n    if (this.isModal && !this.isBlazorServerRender()) {\n      detach(this.dlgOverlay);\n      this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n      detach(this.dlgContainer);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.element.innerHTML = this.clonedEle.innerHTML;\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.element.children)) {\n        for (var i = 0; i <= this.element.children.length; i++) {\n          i = i - i;\n          detach(this.element.children[i]);\n        }\n      }\n    }\n\n    for (var i = 0; i < attrs.length; i++) {\n      this.element.removeAttribute(attrs[i]);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      _super.prototype.destroy.call(this);\n    } else {\n      this.isDestroyed = true;\n    } // eslint-disable-next-line\n\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n  };\n\n  Dialog.prototype.wireWindowResizeEvent = function () {\n    window.addEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n\n  Dialog.prototype.unWireWindowResizeEvent = function () {\n    window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n  /**\n   * Binding event to the element while widget creation\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.wireEvents = function () {\n    if (this.isBlazorServerRender() && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  /**\n   * Unbinding event to the element while widget destroy\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.unWireEvents = function () {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n\n    if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n      for (var i = 0; i < this.buttons.length; i++) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n        }\n      }\n    }\n  };\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.refreshPosition = function () {\n    this.popupObj.refreshPosition();\n  };\n  /**\n   * Returns the current width and height of the Dialog\n   *\n   * @returns {DialogDimension}\n   * @public\n   */\n\n\n  Dialog.prototype.getDimension = function () {\n    var dialogWidth = this.element.offsetWidth;\n    var dialogHeight = this.element.offsetHeight;\n    return {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n  };\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   *\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.show = function (isFullScreen) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n\n      var eventArgs_1 = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n        if (!beforeOpenArgs.cancel) {\n          if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n            _this.allowMaxHeight = false;\n            _this.element.style.maxHeight = eventArgs_1.maxHeight;\n          }\n\n          _this.storeActiveElement = document.activeElement;\n          _this.element.tabIndex = -1;\n\n          if (_this.isModal && !isNullOrUndefined(_this.dlgOverlay)) {\n            _this.dlgOverlay.style.display = 'block';\n            _this.dlgContainer.style.display = 'flex';\n            removeClass([_this.dlgOverlay], 'e-fade');\n\n            if (!isNullOrUndefined(_this.targetEle)) {\n              if (_this.targetEle === document.body) {\n                _this.dlgContainer.style.position = 'fixed';\n              } else {\n                _this.dlgContainer.style.position = 'absolute';\n              }\n\n              _this.dlgOverlay.style.position = 'absolute';\n              _this.element.style.position = 'relative';\n              addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            } else {\n              addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          } // eslint-disable-next-line\n\n\n          var openAnimation = {\n            name: _this.animationSettings.effect + 'In',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          var zIndexElement = _this.isModal ? _this.element.parentElement : _this.element;\n\n          if (_this.calculatezIndex) {\n            _this.setzIndex(zIndexElement, true);\n\n            setStyleAttribute(_this.element, {\n              'zIndex': _this.zIndex\n            });\n\n            if (_this.isModal) {\n              _this.setOverlayZindex(_this.zIndex);\n            }\n          } // eslint-disable-next-line\n\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n          _this.dialogOpen = true;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = true;\n          _this.preventVisibility = true;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Closes the dialog if it is in visible state.\n   *\n   * @param { Event } event - specifies the event\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (this.preventVisibility) {\n      var eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event,\n        closedBy: this.dlgClosedBy\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n        if (!beforeCloseArgs.cancel) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.targetEle)) {\n              removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n\n          if (document.body.classList.contains(DLG_TARGET) && document.body.classList.contains(SCROLL_DISABLED)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n          } // eslint-disable-next-line\n\n\n          var closeAnimation = {\n            name: _this.animationSettings.effect + 'Out',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          }; // eslint-disable-next-line\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n          _this.dialogOpen = false;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = false;\n          _this.preventVisibility = false;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }\n  }; // eslint-disable-next-line\n\n  /**\n   * Specifies to view the Full screen Dialog.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.fullScreen = function (args) {\n    /* eslint-disable */\n    var top = this.element.offsetTop;\n    var left = this.element.offsetLeft;\n    /* eslint-enable */\n\n    if (args) {\n      this.element.style.top = document.scrollingElement.scrollTop + 'px';\n      addClass([this.element], FULLSCREEN);\n      var display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n\n    return args;\n  };\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   *\n   * @param { number } index - Index of the button.\n   * @returns {Button} - returns the button element\n   */\n\n\n  Dialog.prototype.getButtons = function (index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n\n    return this.btnObj;\n  };\n\n  __decorate([Property('')], Dialog.prototype, \"content\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"isModal\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"header\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"visible\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n\n  __decorate([Property(['South-East'])], Dialog.prototype, \"resizeHandles\", void 0);\n\n  __decorate([Property('auto')], Dialog.prototype, \"height\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"minHeight\", void 0);\n\n  __decorate([Property('100%')], Dialog.prototype, \"width\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(null)], Dialog.prototype, \"target\", void 0);\n\n  __decorate([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n\n  __decorate([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n\n  __decorate([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n\n  __decorate([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n\n  __decorate([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n\n  __decorate([Complex({\n    X: 'center',\n    Y: 'center'\n  }, PositionData)], Dialog.prototype, \"position\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"created\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"open\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"close\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"beforeClose\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"dragStart\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"dragStop\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"drag\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"overlayClick\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizeStart\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizing\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"resizeStop\", void 0);\n\n  __decorate([Event()], Dialog.prototype, \"destroyed\", void 0);\n\n  Dialog = __decorate([NotifyPropertyChanges], Dialog);\n  return Dialog;\n}(Component);\n\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\n\nexport var DialogUtility;\n\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {AlertDialogArgs} args - specifies the string\n   * @returns {Dialog} - returns the dialog element.\n   */\n  function alert(args) {\n    // eslint-disable-next-line\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    var alertDialogObj;\n    var okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n\n    alertDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n\n      alertDialogObj.destroy();\n\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n\n    return alertDialogObj;\n  }\n\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with OK and Cancel button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {ConfirmDialogArgs} args - specifies the args\n   * @returns {Dialog} - returns te element\n   */\n\n  function confirm(args) {\n    // eslint-disable-next-line\n    var dialogComponent;\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    var confirmDialogObj;\n    var okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n\n    confirmDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n\n      confirmDialogObj.destroy();\n\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n\n    return confirmDialogObj;\n  }\n\n  DialogUtility.confirm = confirm; // eslint-disable-next-line\n\n  function createDialog(options, element) {\n    var dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  } // eslint-disable-next-line\n\n\n  function alertOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function confirmOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setAlertButtonModel(options, option) {\n    var alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setConfirmButtonModel(options, option) {\n    var okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    var cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    var buttonProps = buttonPropModel;\n\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","Property","Event","Collection","L10n","Complex","compile","createElement","addClass","removeClass","detach","attributes","prepend","setStyleAttribute","NotifyPropertyChanges","ChildProperty","isBlazor","isNullOrUndefined","formatUnit","append","EventHandler","Draggable","extend","SanitizeHtmlHelper","Browser","Button","Popup","PositionData","getZindexPartial","createResize","removeResize","setMinHeight","setMaxWidth","setMaxHeight","ButtonProps","_super","apply","AnimationSettings","ROOT","RTL","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","DLG_DRAG","Dialog","options","element","call","render","initialize","initRender","wireEvents","width","style","minHeight","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","initializeValue","dlgClosedBy","preRender","_this","headerContent","allowMaxHeight","preventVisibility","clonedEle","cloneNode","closeIconClickEventHandler","event","hide","dlgOverlayClickEventHandler","preventFocus","trigger","overlayClickEventArgs","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","document","body","isNumberValue","value","isNumber","test","position","X","parseFloat","Y","getEle","list","selector","undefined","classList","contains","computedHeaderHeight","computedFooterHeight","querySelector","getComputedStyle","height","footerEle","children","headerHeight","parseInt","slice","indexOf","footerHeight","isNaN","onResizeStart","args","dialogObj","cancel","onResizing","onResizeComplete","isBlazorServerRender","add","computedHeight","computedWidth","minWidth","direction","resizeHandles","directionValue","toString","toLocaleLowerCase","enableRtl","trim","isModal","maxHeight","targetEle","clientHeight","maxWidth","clientWidth","boundary","resizeBegin","bind","resizeComplete","resizing","proxy","wireWindowResizeEvent","unWireWindowResizeEvent","remove","getFocusElement","items","querySelectorAll","keyDown","keyCode","buttonObj","btnObj","ftrTemplateContent","contentEle","activeElement","shiftKey","preventDefault","focusableElements","focus","isTagName","tagName","toLowerCase","isContentEdit","hasAttribute","getAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex_1","firstPrimary","buttons","some","data","index","buttonModel","isPrimary","click","setTimeout","isDevice","setCSSClass","initialRender","role","zIndex","setzIndex","calculatezIndex","getElementsByClassName","id","setTargetContent","header","setHeader","renderCloseIcon","setContent","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","parentElement","childNodes","dlgOverlay","parentEle","refElement","className","insertBefore","appendChild","popupObj","relateTo","actionOnScroll","open","eventArgs","container","resetResizeIcon","openEventArgs","unBindEvent","display","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","show","dialogConHeight","offsetHeight","resizeIcon","bottom","zIndexValue","setPopupPosition","top","left","setProperties","handleContent","dragObj","clone","isDragScroll","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","primaryBtnFlag","buttonType","type","btn","attrs","push","outerHTML","footerBtn","buttonClickHandler","appendTo","isFlat","innerContentElement","content","blazorContain","keys","window","setTemplate","HTMLElement","isIE","template","toElement","prop","templateFn","templateProps","templateValue","isStringTemplate","sanitizeHelper","isVue","innerHTML","fromElements","isString","_i","_a","item","enableHtmlSanitizer","dialogItem","beforeSanitize","beforeEvent","helper","serializeValue","innerHeight","isContent","replace","createDocumentFragment","forEach","el","nodeType","headerEle","createHeaderContent","join","showCloseIcon","closeIcon","closeIconBtnObj","cssClass","iconCss","closeIconTitle","setLocale","getConstant","setAttribute","oldCSSClass","split","parentNode","getValidFocusNode","node","u","tabIndex","disabled","disableElement","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msGetRegionContent","Element","userAgent","bindEvent","updateSanitizeContent","isServerRendered","getModuleName","onPropertyChanged","newProp","oldProp","clearTemplate","innerText","insertAdjacentHTML","updateIsModal","buttonCount","destroy","setTarget","positionX","positionY","firstChild","removeChild","zIndexElement","setPopupZindex","windowResizeHandler","getPersistData","addOnPersist","isDestroyed","classArray","unWireEvents","removeAttribute","isReact","addEventListener","removeEventListener","refreshPosition","getDimension","dialogWidth","offsetWidth","dialogHeight","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","name","duration","delay","dialogOpen","renderReactTemplates","isInteracted","closedBy","beforeCloseArgs","closeAnimation","offsetTop","offsetLeft","scrollingElement","scrollTop","getButtons","DialogUtility","alert","dialogComponent","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon"],"sources":["C:/Project/show-me-the-code-test/view/node_modules/@syncfusion/ej2-popups/src/dialog/dialog.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty, isBlazor } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append, EventHandler, Draggable, extend } from '@syncfusion/ej2-base';\nimport { SanitizeHtmlHelper, Browser } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { createResize, removeResize, setMinHeight, setMaxWidth, setMaxHeight } from '../common/resize';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    Dialog.prototype.initializeValue = function () {\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.initializeValue();\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        // eslint-disable-next-line\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        // eslint-disable-next-line\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!document.querySelector('.e-popup-open:not(.e-dialog)')) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            // eslint-disable-next-line\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                // eslint-disable-next-line\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                // eslint-disable-next-line\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        if (!this.element.classList.contains(DLG_DRAG)) {\n            this.dragObj = new Draggable(this.element, {\n                clone: false,\n                isDragScroll: true,\n                abort: '.e-dlg-closeicon-btn',\n                handle: handleContent,\n                // eslint-disable-next-line\n                dragStart: function (event) {\n                    // eslint-disable-next-line\n                    _this.trigger('dragStart', event, function (dragEventArgs) {\n                        if (isBlazor()) {\n                            dragEventArgs.bindEvents(event.dragElement);\n                        }\n                    });\n                },\n                // eslint-disable-next-line\n                dragStop: function (event) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.position)) {\n                            _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                        }\n                        // Reset the dialog position after drag completion.\n                        _this.element.style.position = 'relative';\n                    }\n                    _this.trigger('dragStop', event);\n                    _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n                },\n                // eslint-disable-next-line\n                drag: function (event) {\n                    _this.trigger('drag', event);\n                }\n            });\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.dragObj.dragArea = this.targetEle;\n            }\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            var primaryBtnFlag = true;\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            var blazorContain = Object.keys(window);\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        // eslint-disable-next-line\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        var blazorContain = Object.keys(window);\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            if (this.isVue || typeof template !== 'string') {\n                templateFn = compile(template);\n                templateValue = template;\n            }\n            else {\n                toElement.innerHTML = template;\n            }\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        // eslint-disable-next-line\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            // eslint-disable-next-line\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n                case 'minHeight':\n                    if (this.minHeight !== '') {\n                        this.element.style.minHeight = formatUnit(this.minHeight);\n                    }\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    // eslint-disable-next-line\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            this.element.style.top = document.scrollingElement.scrollTop + 'px';\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}