{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, NotifyPropertyChanges, ChildProperty, Property, Collection, append, extend, Event, EventHandler, closest, addClass, removeClass, detach, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup } from '@syncfusion/ej2-popups';\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\n\nvar BreadcrumbItem =\n/** @class */\nfunction (_super) {\n  __extends(BreadcrumbItem, _super);\n\n  function BreadcrumbItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('')], BreadcrumbItem.prototype, \"text\", void 0);\n\n  __decorate([Property('')], BreadcrumbItem.prototype, \"url\", void 0);\n\n  __decorate([Property(null)], BreadcrumbItem.prototype, \"iconCss\", void 0);\n\n  __decorate([Property(false)], BreadcrumbItem.prototype, \"disabled\", void 0);\n\n  return BreadcrumbItem;\n}(ChildProperty);\n\nexport { BreadcrumbItem };\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\n\nvar Breadcrumb =\n/** @class */\nfunction (_super) {\n  __extends(Breadcrumb, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n\n\n  function Breadcrumb(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.preRender = function () {// pre render code\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.render = function () {\n    this.initialize();\n    this.renderItems(this.items);\n    this.wireEvents();\n  };\n\n  Breadcrumb.prototype.initialize = function () {\n    this._maxItems = this.maxItems;\n    this.element.setAttribute('aria-label', 'breadcrumb');\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    if (this.disabled) {\n      this.element.classList.add(DISABLEDCLASS);\n      this.element.setAttribute(ARIADISABLED, 'true');\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      this.element.classList.add(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      this.element.classList.add(SCROLLMODECLASS);\n    }\n\n    this.initItems();\n    this.initPvtProps();\n  };\n\n  Breadcrumb.prototype.initPvtProps = function () {\n    if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n      this.endIndex = this.getEndIndex();\n      this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n    }\n\n    if (this.overflowMode === 'Menu') {\n      if (this._maxItems >= 0) {\n        this.startIndex = this._maxItems > 1 ? 1 : 0;\n        this.endIndex = this.getEndIndex();\n        this.popupUl = this.createElement('ul', {\n          attrs: {\n            TABINDEX: '0',\n            'role': 'menu'\n          }\n        });\n      } else {\n        this.startIndex = this.endIndex = null;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.getEndIndex = function () {\n    var _this = this;\n\n    var endIndex;\n\n    if (this.activeItem) {\n      this.items.forEach(function (item, idx) {\n        if (item.url === _this.activeItem || item.text === _this.activeItem) {\n          endIndex = idx;\n        }\n      });\n    } else {\n      endIndex = this.items.length - 1;\n    }\n\n    return endIndex;\n  };\n\n  Breadcrumb.prototype.initItems = function () {\n    if (!this.items.length) {\n      var baseUri = void 0;\n      var uri = void 0;\n      var items = [];\n\n      if (this.url) {\n        var url = new URL(this.url, window.location.origin);\n        baseUri = url.origin + '/';\n        uri = url.href.split(baseUri)[1].split('/');\n      } else {\n        baseUri = window.location.origin + '/';\n        uri = window.location.href.split(baseUri)[1].split('/');\n      }\n\n      items.push({\n        iconCss: 'e-icons e-home',\n        url: baseUri\n      });\n\n      for (var i = 0; i < uri.length; i++) {\n        if (uri[i]) {\n          items.push({\n            text: uri[i],\n            url: baseUri + uri[i]\n          });\n          baseUri += uri[i] + '/';\n        }\n      }\n\n      this.setProperties({\n        items: items\n      }, true);\n    }\n  };\n\n  Breadcrumb.prototype.renderItems = function (items) {\n    var _this = this;\n\n    var item;\n    var isSingleLevel;\n    var isIconRight = this.element.classList.contains(ICONRIGHT);\n    var itemsLength = items.length;\n\n    if (itemsLength) {\n      var isActiveItem = void 0;\n      var isLastItem = void 0;\n      var isLastItemInPopup_1;\n      var j_1 = 0;\n      var wrapDiv = void 0;\n      var len = itemsLength * 2 - 1;\n      var isItemCancelled_1 = false;\n      var ol = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : ''\n      });\n      var firstOl = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : ''\n      });\n      var showIcon = this.hasField(items, 'iconCss');\n      var isCollasped = this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded;\n      var isDefaultOverflowMode_1 = this.overflowMode === 'Hidden' && this._maxItems > 0;\n\n      if (this.overflowMode === 'Menu' && this.popupUl) {\n        this.popupUl.innerHTML = '';\n      }\n\n      var listBaseOptions = {\n        moduleName: this.getModuleName(),\n        showIcon: showIcon,\n        itemNavigable: true,\n        itemCreated: function (args) {\n          var isLastItem = args.curData.isLastItem;\n\n          if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n            delete args.curData.isLastItem;\n\n            if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n              args.item.innerHTML = _this.createElement('span', {\n                className: ITEMTEXTCLASS,\n                innerHTML: args.item.children[0].innerHTML\n              }).outerHTML;\n            }\n          }\n\n          if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n            args.item.classList.add('e-icon-item');\n          }\n\n          if (isDefaultOverflowMode_1) {\n            args.item.setAttribute('item-index', j_1.toString());\n          }\n\n          var eventArgs = {\n            item: extend({}, args.curData.properties ? args.curData.properties : args.curData),\n            element: args.item,\n            cancel: false\n          };\n\n          _this.trigger('beforeItemRender', eventArgs);\n\n          isItemCancelled_1 = eventArgs.cancel;\n          var containsRightIcon = isIconRight || eventArgs.element.classList.contains(ICONRIGHT);\n\n          if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n            args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n          }\n\n          if (eventArgs.item.disabled) {\n            args.item.setAttribute(ARIADISABLED, 'true');\n            args.item.classList.add(DISABLEDCLASS);\n          }\n\n          if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n            args.item.children[0].setAttribute(TABINDEX, '-1');\n          }\n\n          if (args.curData.isEmptyUrl) {\n            args.item.children[0].removeAttribute('href');\n\n            if ((!isLastItem || isLastItem && _this.enableActiveItemNavigation) && !(eventArgs.item.disabled || _this.disabled)) {\n              args.item.children[0].setAttribute(TABINDEX, '0');\n              EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n            }\n          }\n\n          if (isLastItem) {\n            args.item.setAttribute('data-active-item', '');\n          }\n\n          if (!_this.itemTemplate) {\n            _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n          }\n        }\n      };\n\n      for (var i = 0; i < len; i % 2 && j_1++, i++) {\n        isActiveItem = this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text);\n\n        if (isCollasped && i > 1 && i < len - 2) {\n          continue;\n        } else if (isDefaultOverflowMode_1 && (j_1 < this.startIndex || j_1 > this.endIndex) && (i % 2 ? j_1 !== this.startIndex - 1 : true) && j_1 !== 0) {\n          continue;\n        }\n\n        if (i % 2) {\n          // separator item\n          wrapDiv = this.createElement('div', {\n            className: 'e-breadcrumb-item-wrapper'\n          });\n          listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n          listBaseOptions.itemClass = 'e-breadcrumb-separator';\n          isSingleLevel = false;\n          item = [{\n            previousItem: items[j_1],\n            nextItem: items[j_1 + 1]\n          }];\n        } else {\n          // list item\n          listBaseOptions.itemClass = '';\n\n          if (this.itemTemplate) {\n            listBaseOptions.template = this.itemTemplate;\n            isSingleLevel = false;\n          } else {\n            isSingleLevel = true;\n          }\n\n          item = [extend({}, items[j_1].properties ? items[j_1].properties : items[j_1])];\n\n          if (!item[0].url && !this.itemTemplate) {\n            item = [extend({}, item[0], {\n              isEmptyUrl: true,\n              url: '#'\n            })];\n          }\n\n          isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && j_1 === this.endIndex;\n\n          if ((i === len - 1 || isLastItem) && !this.itemTemplate || isActiveItem) {\n            item[0].isLastItem = true;\n          }\n        }\n\n        var parent_1 = ol;\n        var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n\n        if (this.overflowMode === 'Menu' && (j_1 >= this.startIndex && j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true) && this.endIndex >= this._maxItems && this._maxItems > 0 || this._maxItems === 0)) {\n          if (i % 2) {\n            continue;\n          } else {\n            parent_1 = this.popupUl;\n\n            if (isLastItem) {\n              isLastItemInPopup_1 = true;\n            }\n          }\n        } else if (this.overflowMode === 'Wrap') {\n          if (i === 0) {\n            parent_1 = firstOl;\n          } else {\n            parent_1 = wrapDiv;\n          }\n        }\n\n        var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n\n        if (!isItemCancelled_1) {\n          append(li, parent_1);\n        } else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n          items.splice(j_1, 1);\n          this.initPvtProps();\n          return this.reRenderItems();\n        } else if (i === len - 1 || isLastItem) {\n          remove(parent_1.lastElementChild);\n        }\n\n        if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n          ol.appendChild(wrapDiv);\n        }\n\n        if (isCollasped && i === 1) {\n          var li_1 = this.createElement('li', {\n            className: 'e-icons e-breadcrumb-collapsed',\n            attrs: {\n              TABINDEX: '0'\n            }\n          });\n          EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n          ol.appendChild(li_1);\n        }\n\n        if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n          var menu = this.getMenuElement();\n          EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n          ol.appendChild(menu);\n        }\n\n        if (isActiveItem || isLastItem) {\n          break;\n        }\n\n        if (isItemCancelled_1) {\n          i++;\n        }\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      if (this.overflowMode === 'Wrap') {\n        this.element.appendChild(firstOl);\n      }\n\n      this.element.appendChild(ol);\n      this.calculateMaxItems();\n    }\n  };\n\n  Breadcrumb.prototype.calculateMaxItems = function () {\n    if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n      var maxItems = void 0;\n      var width = this.element.offsetWidth;\n      var liElems = [].slice.call(this.element.children[0].children).reverse();\n      var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n\n      if (this.overflowMode === 'Menu') {\n        var menuEle = this.getMenuElement();\n        this.element.appendChild(menuEle);\n        liWidth += menuEle.offsetWidth;\n        remove(menuEle);\n      }\n\n      for (var i = 0; i < liElems.length - 2; i++) {\n        if (liWidth > width) {\n          maxItems = Math.ceil((i - 1) / 2) + (this.overflowMode === 'Menu' && i <= 2 ? 0 : 1);\n\n          if ((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1) || this.maxItems == -1) && this._maxItems != maxItems) {\n            this._maxItems = maxItems;\n            this.initPvtProps();\n            return this.reRenderItems();\n          } else {\n            break;\n          }\n        } else {\n          if (this.overflowMode === 'Menu' && i === 2) {\n            liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n\n            if (liWidth > width) {\n              this._maxItems = 1;\n              this.initPvtProps();\n              return this.reRenderItems();\n            }\n          }\n\n          if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n            liWidth += liElems[i].offsetWidth;\n          }\n        }\n      }\n    } else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n      var width = 0;\n      var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n\n      if (liElems.length > this._maxItems + this._maxItems - 1) {\n        for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n          width += liElems[i].offsetWidth;\n        }\n\n        width = width + 5 + parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2;\n\n        if (this.overflowMode === 'Wrap') {\n          this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n        } else {\n          this.element.style.width = width + 'px';\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Breadcrumb.prototype.getMenuElement = function () {\n    return this.createElement('li', {\n      className: 'e-icons e-breadcrumb-menu',\n      attrs: {\n        TABINDEX: '0'\n      }\n    });\n  };\n\n  Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n    var wrapElem = elem.querySelector('.e-anchor-wrap');\n\n    if (currItem.text !== prevItem.text) {\n      wrapElem.childNodes.forEach(function (child) {\n        if (child.nodeType === Node.TEXT_NODE) {\n          child.textContent = currItem.text;\n        }\n      });\n    }\n\n    if (currItem.iconCss !== prevItem.iconCss && wrapElem) {\n      // wrapElem - for checking it is item not a separator\n      var iconElem = elem.querySelector(DOT + ICONCLASS);\n\n      if (iconElem) {\n        if (currItem.iconCss) {\n          removeClass([iconElem], prevItem.iconCss.split(' '));\n          addClass([iconElem], currItem.iconCss.split(' '));\n        } else {\n          remove(iconElem);\n        }\n      } else if (currItem.iconCss) {\n        var iconElem_1 = this.createElement('span', {\n          className: ICONCLASS + ' ' + currItem.iconCss\n        });\n\n        if (isRightIcon) {\n          append([iconElem_1], wrapElem);\n        } else {\n          wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n        }\n      }\n    }\n\n    if (currItem.url !== prevItem.url && this.enableNavigation) {\n      var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n\n      if (anchor) {\n        if (currItem.url) {\n          anchor.setAttribute('href', currItem.url);\n        } else {\n          anchor.removeAttribute('href');\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.reRenderItems = function () {\n    this.element.innerHTML = '';\n    this.renderItems(this.items);\n  };\n\n  Breadcrumb.prototype.clickHandler = function (e) {\n    var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n\n    if (!this.enableNavigation) {\n      e.preventDefault();\n    }\n\n    if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n      var idx = void 0;\n\n      if (this.overflowMode === 'Wrap') {\n        idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n      } else {\n        idx = [].slice.call(li.parentElement.children).indexOf(li);\n      }\n\n      if (this.overflowMode === 'Menu') {\n        if (closest(e.target, DOT + POPUPCLASS)) {\n          idx += this.startIndex;\n          this.endIndex = idx;\n\n          if (e.type === 'keydown') {\n            this.documentClickHandler(e);\n          }\n        } else if (this.element.querySelector(DOT + MENUCLASS)) {\n          if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n            idx += this.popupUl.childElementCount * 2 - 2;\n            idx = Math.floor(idx / 2);\n            this.endIndex = idx;\n          } else {\n            this.startIndex = this.endIndex = idx;\n          }\n        } else {\n          idx = Math.floor(idx / 2);\n          this.startIndex = this.endIndex = idx;\n        }\n      } else {\n        idx = Math.floor(idx / 2);\n      }\n\n      if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n        idx = parseInt(li.getAttribute('item-index'), 10);\n\n        if (this.startIndex > 1) {\n          this.startIndex -= this.endIndex - idx;\n        }\n\n        this.endIndex = idx;\n      }\n\n      this.trigger('itemClick', {\n        element: li,\n        item: this.items[idx],\n        event: e\n      });\n      this.activeItem = this.items[idx].url || this.items[idx].text;\n      this.dataBind();\n    }\n\n    if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n\n    if (e.target.classList.contains(MENUCLASS)) {\n      this.renderPopup();\n    }\n  };\n\n  Breadcrumb.prototype.renderPopup = function () {\n    var _this = this;\n\n    var wrapper = this.createElement('div', {\n      className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '')\n    });\n    document.body.appendChild(wrapper);\n    this.popupObj = new Popup(wrapper, {\n      content: this.popupUl,\n      relateTo: this.element.querySelector(DOT + MENUCLASS),\n      enableRtl: this.enableRtl,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: {\n        X: 'fit',\n        Y: 'flip'\n      },\n      open: function () {\n        _this.popupUl.focus();\n      }\n    });\n    this.popupWireEvents();\n    this.popupObj.show();\n  };\n\n  Breadcrumb.prototype.documentClickHandler = function (e) {\n    if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n      this.popupObj.hide();\n      this.popupObj.destroy();\n      detach(this.popupObj.element);\n    }\n  };\n\n  Breadcrumb.prototype.resize = function () {\n    this._maxItems = this.maxItems;\n    this.initPvtProps();\n    this.reRenderItems();\n  };\n\n  Breadcrumb.prototype.expandHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n  };\n\n  Breadcrumb.prototype.keyDownHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.clickHandler(e);\n    }\n  };\n\n  Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n    if (e.key === 'Escape') {\n      this.documentClickHandler(e);\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {BreadcrumbModel} newProp - Specifies the new properties.\n   * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n        case 'enableActiveItemNavigation':\n          this.reRenderItems();\n          break;\n\n        case 'activeItem':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n          break;\n\n        case 'overflowMode':\n        case 'maxItems':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n\n          if (oldProp.overflowMode === 'Wrap') {\n            this.element.classList.remove(WRAPMODECLASS);\n          } else if (newProp.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n          }\n\n          if (oldProp.overflowMode === 'Scroll') {\n            this.element.classList.remove(SCROLLMODECLASS);\n          } else if (newProp.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n          }\n\n          break;\n\n        case 'url':\n          this.initItems();\n          this.reRenderItems();\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          if (oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1 && !(newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) {\n            this.reRenderItems();\n          }\n\n          break;\n\n        case 'enableRtl':\n          this.element.classList.toggle('e-rtl');\n          break;\n\n        case 'disabled':\n          this.element.classList.toggle(DISABLEDCLASS);\n          this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n          break;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.wireEvents = function () {\n    this.delegateClickHanlder = this.documentClickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resize.bind(this));\n  };\n\n  Breadcrumb.prototype.popupWireEvents = function () {\n    EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n    EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n  };\n\n  Breadcrumb.prototype.unWireEvents = function () {\n    EventHandler.remove(document, 'click', this.delegateClickHanlder);\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    window.removeEventListener('resize', this.resize.bind(this));\n\n    if (this.popupObj) {\n      EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n      EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  Breadcrumb.prototype.getPersistData = function () {\n    return this.addOnPersist(['activeItem']);\n  };\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Breadcrumb.prototype.getModuleName = function () {\n    return 'breadcrumb';\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.destroy = function () {\n    var _this = this;\n\n    var classes = [];\n    var attributes = ['aria-label'];\n\n    if (this.cssClass) {\n      classes.concat(this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      classes.push('e-rtl');\n    }\n\n    if (this.disabled) {\n      classes.push(DISABLEDCLASS);\n      attributes.push(ARIADISABLED);\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      classes.push(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      classes.push(SCROLLMODECLASS);\n    }\n\n    this.unWireEvents();\n    this.element.innerHTML = '';\n    removeClass([this.element], classes);\n    attributes.forEach(function (attribute) {\n      _this.element.removeAttribute(attribute);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate([Property('')], Breadcrumb.prototype, \"url\", void 0);\n\n  __decorate([Collection([], BreadcrumbItem)], Breadcrumb.prototype, \"items\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"activeItem\", void 0);\n\n  __decorate([Property(-1)], Breadcrumb.prototype, \"maxItems\", void 0);\n\n  __decorate([Property('Menu')], Breadcrumb.prototype, \"overflowMode\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(null)], Breadcrumb.prototype, \"itemTemplate\", void 0);\n\n  __decorate([Property('/')], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n\n  __decorate([Property(true)], Breadcrumb.prototype, \"enableNavigation\", void 0);\n\n  __decorate([Property(false)], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n\n  __decorate([Property(false)], Breadcrumb.prototype, \"disabled\", void 0);\n\n  __decorate([Property('')], Breadcrumb.prototype, \"locale\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"itemClick\", void 0);\n\n  __decorate([Event()], Breadcrumb.prototype, \"created\", void 0);\n\n  Breadcrumb = __decorate([NotifyPropertyChanges], Breadcrumb);\n  return Breadcrumb;\n}(Component);\n\nexport { Breadcrumb };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","NotifyPropertyChanges","ChildProperty","Property","Collection","append","extend","Event","EventHandler","closest","addClass","removeClass","detach","remove","ListBase","Popup","ICONRIGHT","ITEMTEXTCLASS","ICONCLASS","MENUCLASS","ITEMCLASS","POPUPCLASS","WRAPMODECLASS","SCROLLMODECLASS","TABINDEX","DISABLEDCLASS","ARIADISABLED","DOT","BreadcrumbItem","_super","apply","Breadcrumb","options","element","call","preRender","render","initialize","renderItems","items","wireEvents","_maxItems","maxItems","setAttribute","cssClass","split","enableRtl","classList","add","disabled","overflowMode","initItems","initPvtProps","endIndex","getEndIndex","startIndex","popupUl","createElement","attrs","_this","activeItem","forEach","item","idx","url","text","baseUri","uri","URL","window","location","origin","href","push","iconCss","setProperties","isSingleLevel","isIconRight","contains","itemsLength","isActiveItem","isLastItem","isLastItemInPopup_1","j_1","wrapDiv","len","isItemCancelled_1","ol","className","firstOl","showIcon","hasField","isCollasped","isExpanded","isDefaultOverflowMode_1","innerHTML","listBaseOptions","moduleName","getModuleName","itemNavigable","itemCreated","args","curData","children","itemTemplate","enableActiveItemNavigation","outerHTML","toString","eventArgs","properties","cancel","trigger","containsRightIcon","querySelector","appendChild","isEmptyUrl","removeAttribute","keyDownHandler","beforeItemRenderChanges","template","separatorTemplate","itemClass","previousItem","nextItem","parent_1","lastPopupItemIdx","li","createList","childNodes","splice","reRenderItems","lastElementChild","li_1","expandHandler","menu","getMenuElement","isReact","renderReactTemplates","calculateMaxItems","width","offsetWidth","liElems","slice","reverse","liWidth","menuEle","Math","ceil","querySelectorAll","parseInt","getComputedStyle","paddingLeft","style","field","prevItem","currItem","elem","isRightIcon","wrapElem","child","nodeType","Node","TEXT_NODE","textContent","iconElem","iconElem_1","insertBefore","enableNavigation","anchor","clickHandler","e","preventDefault","indexOf","parentElement","type","documentClickHandler","childElementCount","floor","getAttribute","event","dataBind","renderPopup","wrapper","document","body","popupObj","content","relateTo","position","X","Y","collision","open","focus","popupWireEvents","show","hide","destroy","resize","popupKeyDownHandler","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","toggle","delegateClickHanlder","bind","addEventListener","unWireEvents","removeEventListener","getPersistData","addOnPersist","classes","attributes","concat","attribute"],"sources":["C:/Project/show-me-the-code-test/view/node_modules/@syncfusion/ej2-navigations/src/breadcrumb/breadcrumb.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, NotifyPropertyChanges, ChildProperty, Property, Collection, append, extend, Event, EventHandler, closest, addClass, removeClass, detach, remove } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup } from '@syncfusion/ej2-popups';\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\nvar BreadcrumbItem = /** @class */ (function (_super) {\n    __extends(BreadcrumbItem, _super);\n    function BreadcrumbItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], BreadcrumbItem.prototype, \"text\", void 0);\n    __decorate([\n        Property('')\n    ], BreadcrumbItem.prototype, \"url\", void 0);\n    __decorate([\n        Property(null)\n    ], BreadcrumbItem.prototype, \"iconCss\", void 0);\n    __decorate([\n        Property(false)\n    ], BreadcrumbItem.prototype, \"disabled\", void 0);\n    return BreadcrumbItem;\n}(ChildProperty));\nexport { BreadcrumbItem };\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\nvar Breadcrumb = /** @class */ (function (_super) {\n    __extends(Breadcrumb, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function Breadcrumb(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.preRender = function () {\n        // pre render code\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.render = function () {\n        this.initialize();\n        this.renderItems(this.items);\n        this.wireEvents();\n    };\n    Breadcrumb.prototype.initialize = function () {\n        this._maxItems = this.maxItems;\n        this.element.setAttribute('aria-label', 'breadcrumb');\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        if (this.disabled) {\n            this.element.classList.add(DISABLEDCLASS);\n            this.element.setAttribute(ARIADISABLED, 'true');\n        }\n        if (this.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n        }\n        this.initItems();\n        this.initPvtProps();\n    };\n    Breadcrumb.prototype.initPvtProps = function () {\n        if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n            this.endIndex = this.getEndIndex();\n            this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n        }\n        if (this.overflowMode === 'Menu') {\n            if (this._maxItems >= 0) {\n                this.startIndex = this._maxItems > 1 ? 1 : 0;\n                this.endIndex = this.getEndIndex();\n                this.popupUl = this.createElement('ul', { attrs: { TABINDEX: '0', 'role': 'menu' } });\n            }\n            else {\n                this.startIndex = this.endIndex = null;\n            }\n        }\n    };\n    Breadcrumb.prototype.getEndIndex = function () {\n        var _this = this;\n        var endIndex;\n        if (this.activeItem) {\n            this.items.forEach(function (item, idx) {\n                if (item.url === _this.activeItem || item.text === _this.activeItem) {\n                    endIndex = idx;\n                }\n            });\n        }\n        else {\n            endIndex = this.items.length - 1;\n        }\n        return endIndex;\n    };\n    Breadcrumb.prototype.initItems = function () {\n        if (!this.items.length) {\n            var baseUri = void 0;\n            var uri = void 0;\n            var items = [];\n            if (this.url) {\n                var url = new URL(this.url, window.location.origin);\n                baseUri = url.origin + '/';\n                uri = url.href.split(baseUri)[1].split('/');\n            }\n            else {\n                baseUri = window.location.origin + '/';\n                uri = window.location.href.split(baseUri)[1].split('/');\n            }\n            items.push({ iconCss: 'e-icons e-home', url: baseUri });\n            for (var i = 0; i < uri.length; i++) {\n                if (uri[i]) {\n                    items.push({ text: uri[i], url: baseUri + uri[i] });\n                    baseUri += uri[i] + '/';\n                }\n            }\n            this.setProperties({ items: items }, true);\n        }\n    };\n    Breadcrumb.prototype.renderItems = function (items) {\n        var _this = this;\n        var item;\n        var isSingleLevel;\n        var isIconRight = this.element.classList.contains(ICONRIGHT);\n        var itemsLength = items.length;\n        if (itemsLength) {\n            var isActiveItem = void 0;\n            var isLastItem = void 0;\n            var isLastItemInPopup_1;\n            var j_1 = 0;\n            var wrapDiv = void 0;\n            var len = (itemsLength * 2) - 1;\n            var isItemCancelled_1 = false;\n            var ol = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : '' });\n            var firstOl = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : '' });\n            var showIcon = this.hasField(items, 'iconCss');\n            var isCollasped = (this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded);\n            var isDefaultOverflowMode_1 = (this.overflowMode === 'Hidden' && this._maxItems > 0);\n            if (this.overflowMode === 'Menu' && this.popupUl) {\n                this.popupUl.innerHTML = '';\n            }\n            var listBaseOptions = {\n                moduleName: this.getModuleName(),\n                showIcon: showIcon,\n                itemNavigable: true,\n                itemCreated: function (args) {\n                    var isLastItem = args.curData.isLastItem;\n                    if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n                        delete args.curData.isLastItem;\n                        if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n                            args.item.innerHTML = _this.createElement('span', { className: ITEMTEXTCLASS, innerHTML: args.item.children[0].innerHTML }).outerHTML;\n                        }\n                    }\n                    if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n                        args.item.classList.add('e-icon-item');\n                    }\n                    if (isDefaultOverflowMode_1) {\n                        args.item.setAttribute('item-index', j_1.toString());\n                    }\n                    var eventArgs = {\n                        item: extend({}, args.curData.properties ?\n                            args.curData.properties : args.curData), element: args.item, cancel: false\n                    };\n                    _this.trigger('beforeItemRender', eventArgs);\n                    isItemCancelled_1 = eventArgs.cancel;\n                    var containsRightIcon = (isIconRight || eventArgs.element.classList.contains(ICONRIGHT));\n                    if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n                        args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n                    }\n                    if (eventArgs.item.disabled) {\n                        args.item.setAttribute(ARIADISABLED, 'true');\n                        args.item.classList.add(DISABLEDCLASS);\n                    }\n                    if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n                        args.item.children[0].setAttribute(TABINDEX, '-1');\n                    }\n                    if (args.curData.isEmptyUrl) {\n                        args.item.children[0].removeAttribute('href');\n                        if ((!isLastItem || (isLastItem && _this.enableActiveItemNavigation)) && !(eventArgs.item.disabled || _this.disabled)) {\n                            args.item.children[0].setAttribute(TABINDEX, '0');\n                            EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n                        }\n                    }\n                    if (isLastItem) {\n                        args.item.setAttribute('data-active-item', '');\n                    }\n                    if (!_this.itemTemplate) {\n                        _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n                    }\n                }\n            };\n            for (var i = 0; i < len; (i % 2 && j_1++), i++) {\n                isActiveItem = (this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text));\n                if (isCollasped && i > 1 && i < len - 2) {\n                    continue;\n                }\n                else if (isDefaultOverflowMode_1 && ((j_1 < this.startIndex || j_1 > this.endIndex)\n                    && (i % 2 ? j_1 !== this.startIndex - 1 : true)) && j_1 !== 0) {\n                    continue;\n                }\n                if (i % 2) {\n                    // separator item\n                    wrapDiv = this.createElement('div', { className: 'e-breadcrumb-item-wrapper' });\n                    listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n                    listBaseOptions.itemClass = 'e-breadcrumb-separator';\n                    isSingleLevel = false;\n                    item = [{ previousItem: items[j_1], nextItem: items[j_1 + 1] }];\n                }\n                else {\n                    // list item\n                    listBaseOptions.itemClass = '';\n                    if (this.itemTemplate) {\n                        listBaseOptions.template = this.itemTemplate;\n                        isSingleLevel = false;\n                    }\n                    else {\n                        isSingleLevel = true;\n                    }\n                    item = [extend({}, items[j_1].properties ? items[j_1].properties\n                            : items[j_1])];\n                    if (!item[0].url && !this.itemTemplate) {\n                        item = [extend({}, item[0], { isEmptyUrl: true, url: '#' })];\n                    }\n                    isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && (j_1 === this.endIndex);\n                    if (((i === len - 1 || isLastItem) && !this.itemTemplate) || isActiveItem) {\n                        item[0].isLastItem = true;\n                    }\n                }\n                var parent_1 = ol;\n                var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n                if (this.overflowMode === 'Menu' && ((j_1 >= this.startIndex && (j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true)) && this.endIndex >= this._maxItems && this._maxItems > 0) || this._maxItems === 0)) {\n                    if (i % 2) {\n                        continue;\n                    }\n                    else {\n                        parent_1 = this.popupUl;\n                        if (isLastItem) {\n                            isLastItemInPopup_1 = true;\n                        }\n                    }\n                }\n                else if (this.overflowMode === 'Wrap') {\n                    if (i === 0) {\n                        parent_1 = firstOl;\n                    }\n                    else {\n                        parent_1 = wrapDiv;\n                    }\n                }\n                var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n                if (!isItemCancelled_1) {\n                    append(li, parent_1);\n                }\n                else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n                    items.splice(j_1, 1);\n                    this.initPvtProps();\n                    return this.reRenderItems();\n                }\n                else if ((i === len - 1 || isLastItem)) {\n                    remove(parent_1.lastElementChild);\n                }\n                if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n                    ol.appendChild(wrapDiv);\n                }\n                if (isCollasped && i === 1) {\n                    var li_1 = this.createElement('li', { className: 'e-icons e-breadcrumb-collapsed', attrs: { TABINDEX: '0' } });\n                    EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n                    ol.appendChild(li_1);\n                }\n                if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n                    var menu = this.getMenuElement();\n                    EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n                    ol.appendChild(menu);\n                }\n                if (isActiveItem || isLastItem) {\n                    break;\n                }\n                if (isItemCancelled_1) {\n                    i++;\n                }\n            }\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            if (this.overflowMode === 'Wrap') {\n                this.element.appendChild(firstOl);\n            }\n            this.element.appendChild(ol);\n            this.calculateMaxItems();\n        }\n    };\n    Breadcrumb.prototype.calculateMaxItems = function () {\n        if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n            var maxItems = void 0;\n            var width = this.element.offsetWidth;\n            var liElems = [].slice.call(this.element.children[0].children).reverse();\n            var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n            if (this.overflowMode === 'Menu') {\n                var menuEle = this.getMenuElement();\n                this.element.appendChild(menuEle);\n                liWidth += menuEle.offsetWidth;\n                remove(menuEle);\n            }\n            for (var i = 0; i < liElems.length - 2; i++) {\n                if (liWidth > width) {\n                    maxItems = Math.ceil((i - 1) / 2) + ((this.overflowMode === 'Menu' && i <= 2) ? 0 : 1);\n                    if (((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems == -1)) || this.maxItems == -1) && this._maxItems != maxItems) {\n                        this._maxItems = maxItems;\n                        this.initPvtProps();\n                        return this.reRenderItems();\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (this.overflowMode === 'Menu' && i === 2) {\n                        liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n                        if (liWidth > width) {\n                            this._maxItems = 1;\n                            this.initPvtProps();\n                            return this.reRenderItems();\n                        }\n                    }\n                    if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n                        liWidth += liElems[i].offsetWidth;\n                    }\n                }\n            }\n        }\n        else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n            var width = 0;\n            var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n            if (liElems.length > this._maxItems + this._maxItems - 1) {\n                for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n                    width += liElems[i].offsetWidth;\n                }\n                width = width + 5 + (parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2);\n                if (this.overflowMode === 'Wrap') {\n                    this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n                }\n                else {\n                    this.element.style.width = width + 'px';\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Breadcrumb.prototype.getMenuElement = function () {\n        return this.createElement('li', { className: 'e-icons e-breadcrumb-menu', attrs: { TABINDEX: '0' } });\n    };\n    Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n        var wrapElem = elem.querySelector('.e-anchor-wrap');\n        if (currItem.text !== prevItem.text) {\n            wrapElem.childNodes.forEach(function (child) {\n                if (child.nodeType === Node.TEXT_NODE) {\n                    child.textContent = currItem.text;\n                }\n            });\n        }\n        if (currItem.iconCss !== prevItem.iconCss && wrapElem) { // wrapElem - for checking it is item not a separator\n            var iconElem = elem.querySelector(DOT + ICONCLASS);\n            if (iconElem) {\n                if (currItem.iconCss) {\n                    removeClass([iconElem], prevItem.iconCss.split(' '));\n                    addClass([iconElem], currItem.iconCss.split(' '));\n                }\n                else {\n                    remove(iconElem);\n                }\n            }\n            else if (currItem.iconCss) {\n                var iconElem_1 = this.createElement('span', { className: ICONCLASS + ' ' + currItem.iconCss });\n                if (isRightIcon) {\n                    append([iconElem_1], wrapElem);\n                }\n                else {\n                    wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n                }\n            }\n        }\n        if (currItem.url !== prevItem.url && this.enableNavigation) {\n            var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n            if (anchor) {\n                if (currItem.url) {\n                    anchor.setAttribute('href', currItem.url);\n                }\n                else {\n                    anchor.removeAttribute('href');\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.reRenderItems = function () {\n        this.element.innerHTML = '';\n        this.renderItems(this.items);\n    };\n    Breadcrumb.prototype.clickHandler = function (e) {\n        var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n        if (!this.enableNavigation) {\n            e.preventDefault();\n        }\n        if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n            var idx = void 0;\n            if (this.overflowMode === 'Wrap') {\n                idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n            }\n            else {\n                idx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (this.overflowMode === 'Menu') {\n                if (closest(e.target, DOT + POPUPCLASS)) {\n                    idx += this.startIndex;\n                    this.endIndex = idx;\n                    if (e.type === 'keydown') {\n                        this.documentClickHandler(e);\n                    }\n                }\n                else if (this.element.querySelector(DOT + MENUCLASS)) {\n                    if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n                        idx += (this.popupUl.childElementCount * 2) - 2;\n                        idx = Math.floor(idx / 2);\n                        this.endIndex = idx;\n                    }\n                    else {\n                        this.startIndex = this.endIndex = idx;\n                    }\n                }\n                else {\n                    idx = Math.floor(idx / 2);\n                    this.startIndex = this.endIndex = idx;\n                }\n            }\n            else {\n                idx = Math.floor(idx / 2);\n            }\n            if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n                idx = parseInt(li.getAttribute('item-index'), 10);\n                if (this.startIndex > 1) {\n                    this.startIndex -= (this.endIndex - idx);\n                }\n                this.endIndex = idx;\n            }\n            this.trigger('itemClick', { element: li, item: this.items[idx], event: e });\n            this.activeItem = this.items[idx].url || this.items[idx].text;\n            this.dataBind();\n        }\n        if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n        if (e.target.classList.contains(MENUCLASS)) {\n            this.renderPopup();\n        }\n    };\n    Breadcrumb.prototype.renderPopup = function () {\n        var _this = this;\n        var wrapper = this.createElement('div', { className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '') });\n        document.body.appendChild(wrapper);\n        this.popupObj = new Popup(wrapper, {\n            content: this.popupUl,\n            relateTo: this.element.querySelector(DOT + MENUCLASS),\n            enableRtl: this.enableRtl,\n            position: { X: 'left', Y: 'bottom' },\n            collision: { X: 'fit', Y: 'flip' },\n            open: function () {\n                _this.popupUl.focus();\n            }\n        });\n        this.popupWireEvents();\n        this.popupObj.show();\n    };\n    Breadcrumb.prototype.documentClickHandler = function (e) {\n        if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n            this.popupObj.hide();\n            this.popupObj.destroy();\n            detach(this.popupObj.element);\n        }\n    };\n    Breadcrumb.prototype.resize = function () {\n        this._maxItems = this.maxItems;\n        this.initPvtProps();\n        this.reRenderItems();\n    };\n    Breadcrumb.prototype.expandHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    };\n    Breadcrumb.prototype.keyDownHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.clickHandler(e);\n        }\n    };\n    Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n        if (e.key === 'Escape') {\n            this.documentClickHandler(e);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                case 'enableActiveItemNavigation':\n                    this.reRenderItems();\n                    break;\n                case 'activeItem':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'overflowMode':\n                case 'maxItems':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    if (oldProp.overflowMode === 'Wrap') {\n                        this.element.classList.remove(WRAPMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Wrap') {\n                        this.element.classList.add(WRAPMODECLASS);\n                    }\n                    if (oldProp.overflowMode === 'Scroll') {\n                        this.element.classList.remove(SCROLLMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Scroll') {\n                        this.element.classList.add(SCROLLMODECLASS);\n                    }\n                    break;\n                case 'url':\n                    this.initItems();\n                    this.reRenderItems();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    if ((oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && !(newProp.cssClass &&\n                        newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) &&\n                        (newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1)) {\n                        this.reRenderItems();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle('e-rtl');\n                    break;\n                case 'disabled':\n                    this.element.classList.toggle(DISABLEDCLASS);\n                    this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n                    break;\n            }\n        }\n    };\n    Breadcrumb.prototype.wireEvents = function () {\n        this.delegateClickHanlder = this.documentClickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Breadcrumb.prototype.popupWireEvents = function () {\n        EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n    };\n    Breadcrumb.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'click', this.delegateClickHanlder);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        window.removeEventListener('resize', this.resize.bind(this));\n        if (this.popupObj) {\n            EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n            EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Breadcrumb.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeItem']);\n    };\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Breadcrumb.prototype.getModuleName = function () {\n        return 'breadcrumb';\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Breadcrumb.prototype.destroy = function () {\n        var _this = this;\n        var classes = [];\n        var attributes = ['aria-label'];\n        if (this.cssClass) {\n            classes.concat(this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            classes.push('e-rtl');\n        }\n        if (this.disabled) {\n            classes.push(DISABLEDCLASS);\n            attributes.push(ARIADISABLED);\n        }\n        if (this.overflowMode === 'Wrap') {\n            classes.push(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            classes.push(SCROLLMODECLASS);\n        }\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], classes);\n        attributes.forEach(function (attribute) {\n            _this.element.removeAttribute(attribute);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"url\", void 0);\n    __decorate([\n        Collection([], BreadcrumbItem)\n    ], Breadcrumb.prototype, \"items\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"activeItem\", void 0);\n    __decorate([\n        Property(-1)\n    ], Breadcrumb.prototype, \"maxItems\", void 0);\n    __decorate([\n        Property('Menu')\n    ], Breadcrumb.prototype, \"overflowMode\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], Breadcrumb.prototype, \"itemTemplate\", void 0);\n    __decorate([\n        Property('/')\n    ], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n    __decorate([\n        Property(true)\n    ], Breadcrumb.prototype, \"enableNavigation\", void 0);\n    __decorate([\n        Property(false)\n    ], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n    __decorate([\n        Property(false)\n    ], Breadcrumb.prototype, \"disabled\", void 0);\n    __decorate([\n        Property('')\n    ], Breadcrumb.prototype, \"locale\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"itemClick\", void 0);\n    __decorate([\n        Event()\n    ], Breadcrumb.prototype, \"created\", void 0);\n    Breadcrumb = __decorate([\n        NotifyPropertyChanges\n    ], Breadcrumb);\n    return Breadcrumb;\n}(Component));\nexport { Breadcrumb };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}